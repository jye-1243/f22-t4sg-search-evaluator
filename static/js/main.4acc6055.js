/*! For license information please see main.4acc6055.js.LICENSE.txt */
(function(){var __webpack_modules__={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},647:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{M:function(){return gapi}});var gapi=window.gapi=window.gapi||{};gapi._bs=(new Date).getTime(),function(){var aa="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},da=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof __webpack_require__.g&&__webpack_require__.g];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},ea=da(this),fa=function(e,t){if(t)e:{var n=ea;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))break e;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&aa(n,e,{configurable:!0,writable:!0,value:t})}},ha=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}};fa("Symbol",(function(e){if(e)return e;var t=function(e,t){this.ba=e,aa(this,"description",{configurable:!0,writable:!0,value:t})};t.prototype.toString=function(){return this.ba};var n=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t("jscomp_symbol_"+(r||"")+"_"+n++,r)}})),fa("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=ea[t[n]];"function"===typeof r&&"function"!=typeof r.prototype[e]&&aa(r.prototype,e,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return e}));var ia=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},ja=function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i};fa("Array.prototype.keys",(function(e){return e||function(){return ja(this,(function(e){return e}))}}));var m=this||self,ka=function(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"},la=function(e,t,n){return e.call.apply(e.bind,arguments)},ma=function(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},_na=function(e,t,n){return(_na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma).apply(null,arguments)},oa=function(e,t){function n(){}n.prototype=t.prototype,e.ma=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.A=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}},pa=function(e){return e},qa=function(e){var t=null,n=m.trustedTypes;if(!n||!n.createPolicy)return t;try{t=n.createPolicy(e,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(r){m.console&&m.console.error(r.message)}return t};function q(e){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}oa(q,Error),q.prototype.name="CustomError";var ra=function(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");q.call(this,n+e[r])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function(e,t,n,r){var i="Assertion failed";if(n){i+=": "+n;var a=r}else e&&(i+=": "+e,a=t);throw new ra(""+i,a||[])},ta=function(e,t,n){return e||sa("",null,t,Array.prototype.slice.call(arguments,2)),e},ua=function(e,t){throw new ra("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},va=function(e,t,n){"string"!==typeof e&&sa("Expected string but got %s: %s.",[ka(e),e],t,Array.prototype.slice.call(arguments,2))},xa=function(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||m).Element&&r.Location){var i=r;break e}}catch(o){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if("object"==(i=typeof e)&&null!=e||"function"==i)try{var a=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(o){a="<object could not be stringified>"}else a=void 0===e?"undefined":null===e?"null":typeof e;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,a)}return e},ya,t=function(e,t){this.P=e===za&&t||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function(e){return e instanceof t&&e.constructor===t&&e.ca===Aa?e.P:(ua("expected object of type Const, got '"+e+"'"),"type_error:Const")},Aa={},za={},v=function(e,t){this.N=t===Ca?e:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function(e){return e instanceof v&&e.constructor===v?e.N:(ua("expected object of type SafeUrl, got '"+e+"' of type "+ka(e)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function(e){return e instanceof v?e:(e="object"==typeof e&&e.J?e.H():String(e),ta(Ea.test(e),"%s does not match the safe URL pattern",e)||(e="about:invalid#zClosurez"),new v(e,Ca))},Ca={},w=function(e,t,n){this.M=n===Ga?e:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function(e){return e instanceof w&&e.constructor===w?e.M:(ua("expected object of type SafeHtml, got '"+e+"' of type "+ka(e)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function(e){var t,n=!1;return function(){return n||(t=function(){if("undefined"===typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=Ha(Ia),!t.parentElement)}(),n=!0),t}}(),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function(e,t,n){return e[t]=e[t]||n},Oa=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1},Pa=function(e){e=e.sort();for(var t=[],n=void 0,r=0;r<e.length;r++){var i=e[r];i!=n&&t.push(i),n=i}return t},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function(e){return String(e).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var e;if((e=Object.create)&&Na.test(e))e=e(null);else for(var t in e={})e[t]=void 0;return e},C=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Xa=function(e){if(Na.test(Object.keys))return Object.keys(e);var t,n=[];for(t in e)C(e,t)&&n.push(t);return n},D=function(e,t){for(var n in e=e||{})C(e,n)&&(t[n]=e[n])},Ya=function(e){return function(){x.setTimeout(e,0)}},E=function(e,t){if(!e)throw Error(t||"")},F=A(x,"gapi",{}),H=function(e,t,n){var r=new RegExp("([#].*&|[#])"+t+"=([^&#]*)","g");if(t=new RegExp("([?#].*&|[?#])"+t+"=([^&#]*)","g"),e=e&&(r.exec(e)||t.exec(e)))try{n=decodeURIComponent(e[2])}catch(i){}return n},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function(e){e=(e=(e=String(e)).replace($a,(function(e){try{return encodeURIComponent(e)}catch(t){return encodeURIComponent(e.replace(/^[^%]+$/g,"\ufffd"))}})).replace(ab,(function(e){return e.replace(/%/g,"%25")})).replace(bb,(function(e){return e.toUpperCase()}))).match(Za)||[];var t=B(),n=function(e){return e.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},r=!!(e[1]||"").match(cb);return t.A=n((e[1]||"")+(e[2]||"")+(e[3]||(e[2]&&r?"/":""))),r=function(e){return n(e.replace(/\?/g,"%3F").replace(/#/g,"%23"))},t.query=e[5]?[r(e[5])]:[],t.g=e[7]?[r(e[7])]:[],t},db=function(e){return e.A+(0<e.query.length?"?"+e.query.join("&"):"")+(0<e.g.length?"#"+e.g.join("&"):"")},eb=function(e,t){var n=[];if(e)for(var r in e)if(C(e,r)&&null!=e[r]){var i=t?t(e[r]):e[r];n.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}return n},fb=function(e,t,n,r){return(e=I(e)).query.push.apply(e.query,eb(t,r)),e.g.push.apply(e.g,eb(n,r)),db(e)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function(e,n){var r=I(n);n=r.A,r.query.length&&(n+="?"+r.query.join("")),r.g.length&&(n+="#"+r.g.join(""));var i="";2e3<n.length&&(i=n,n=(n=n.substr(0,2e3)).replace(gb,""),i=i.substr(n.length));var a=e.createElement("div");if(e=e.createElement("a"),n=(r=I(n)).A,r.query.length&&(n+="?"+r.query.join("")),r.g.length&&(n+="#"+r.g.join("")),n=new v(n,Ca),xa(e,"HTMLAnchorElement"),n=n instanceof v?n:Fa(n),e.href=Da(n),a.appendChild(e),n=a.innerHTML,r=new t(za,"Assignment to self."),va(Ba(r),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(r)),"must provide non-empty justification"),void 0===ya&&(ya=qa("gapi#html")),n=(r=ya)?r.createHTML(n):n,n=new w(n,null,Ga),a.tagName&&Ja[a.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+a.tagName+".");if(Ka())for(;a.lastChild;)a.removeChild(a.lastChild);return a.innerHTML=Ha(n),n=String(a.firstChild.href),a.parentNode&&a.parentNode.removeChild(a),i=(r=I(n+i)).A,r.query.length&&(i+="?"+r.query.join("")),r.g.length&&(i+="#"+r.g.join("")),i},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function(e,t,n,r){x[n+"EventListener"]?x[n+"EventListener"](e,t,!1):x[r+"tachEvent"]&&x[r+"tachEvent"]("on"+e,t)},kb=function(){var e=z.readyState;return"complete"===e||"interactive"===e&&-1==navigator.userAgent.indexOf("MSIE")},nb=function(e){var t=lb;if(!kb())try{t()}catch(n){}mb(e)},mb=function(e){if(kb())e();else{var t=!1,n=function(){if(!t)return t=!0,e.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",n,!1),x.addEventListener("DOMContentLoaded",n,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",(function(){kb()&&n.apply(this,arguments)})),x.attachEvent("onload",n))}},ob=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function(e){return K.dpo?K.h:H(e,"jsh",K.h)},rb=function(e){var t=A(K,"sws",[]);t.push.apply(t,e)},sb=function(e){return A(K,"watt",B())[e]},tb=function(e){var t=A(K,"PQ",[]);K.PQ=[];var n=t.length;if(0===n)e();else for(var r=0,i=function(){++r===n&&e()},a=0;a<n;a++)t[a](i)},ub=function(e){return A(A(K,"H",B()),e,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function(e,t,n){var r=vb.r;"function"===typeof r?r(e,t,n):r.push([e,t,n])},L=function(e,t,n){wb[e]=!t&&wb[e]||n||(new Date).getTime(),yb(e)},Ab=function(e,t,n){t&&0<t.length&&(t=zb(t),n&&0<n.length&&(t+="___"+zb(n)),28<t.length&&(t=t.substr(0,28)+(t.length-28)),n=t,t=A(xb,"_p",B()),A(t,n,B())[e]=(new Date).getTime(),yb(e,"_p",n))},zb=function(e){return e.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function(e){throw Error("Bad hint"+(e?": "+e:""))};N.push(["jsl",function(e){for(var t in e)if(C(e,t)){var n=e[t];"object"==typeof n?K[t]=A(K,t,[]).concat(n):A(K,t,n)}(t=e.u)&&((e=A(K,"us",[])).push(t),(t=/^https:(.*)$/.exec(t))&&e.push("http:"+t[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function(e,t,n,r){var i=e.split(";"),a=i.shift(),o=Bb[a],u=null;return o?u=o(i,t,n,r):O("no hint processor for: "+a),u||O("failed to generate load url"),n=(t=u).match(Hb),(r=t.match(Ib))&&1===r.length&&Jb.test(t)&&n&&1===n.length||O("failed sanity: "+e),u},Nb=function(e,t,n,r){e=Lb(e),Fb.test(n)||O("invalid_callback"),t=Mb(t),r=r&&r.length?Mb(r):null;var i=function(e){return encodeURIComponent(e).replace(/%2C/g,",")};return[encodeURIComponent(e.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",i(e.version),"/m=",i(t),r?"/exm="+i(r):"","/rt=j/sv=1/d=1/ed=1",e.S?"/am="+i(e.S):"",e.Z?"/rs="+i(e.Z):"",e.aa?"/t="+i(e.aa):"","/cb=",i(n)].join("")},Lb=function(e){"/"!==e.charAt(0)&&O("relative path");for(var t=e.substring(1).split("/"),n=[];t.length;){if((e=t.shift()).length&&0!=e.indexOf(".")){if(0<e.indexOf("=")){t.unshift(e);break}}else O("empty/relative directory");n.push(e)}e={};for(var r=0,i=t.length;r<i;++r){var a=t[r].split("="),o=decodeURIComponent(a[0]),u=decodeURIComponent(a[1]);2==a.length&&o&&u&&(e[o]=e[o]||u)}for(t="/"+n.join("/"),Cb.test(t)||O("invalid_prefix"),n=0,r=Db.length;n<r;++n)Db[n].test(t)&&O("invalid_prefix");return{pathPrefix:t,version:n=Ob(e,"k",!0),S:r=Ob(e,"am"),Z:i=Ob(e,"rs"),aa:e=Ob(e,"t")}},Mb=function(e){for(var t=[],n=0,r=e.length;n<r;++n){var i=e[n].replace(/\./g,"_").replace(/-/g,"_");Gb.test(i)&&t.push(i)}return t.join(",")},Ob=function(e,t,n){if(!(e=e[t])&&n&&O("missing: "+t),e){if(Eb.test(e))return e;O("invalid: "+t)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var e=qb(La.href);if(!e)throw Error("Bad hint");return e};Bb.m=function(e,t,n,r){return(e=e[0])||O("missing_hint"),"https://apis.google.com"+Nb(e,t,n,r)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function(e,t){for(var n=[],r=0;r<e.length;++r){var i=e[r];i&&0>Oa.call(t,i)&&n.push(i)}return n},Tb=function(){var e=K.nonce;return void 0!==e?e&&e===String(e)&&e.match(Rb)?e:K.nonce=null:z.querySelector&&(e=z.querySelector("script[nonce]"))?(e=e.nonce||e.getAttribute("nonce")||"")&&e===String(e)&&e.match(Rb)?K.nonce=e:K.nonce=null:null},Wb=function(e){if("loading"!=z.readyState)Ub(e);else{var t=Tb(),n="";null!==t&&(n=' nonce="'+t+'"'),e="<"+Qb+' src="'+encodeURI(e)+'"'+n+"></"+Qb+">",z.write(Vb?Vb.createHTML(e):e)}},Ub=function(e){var t=z.createElement(Qb);t.setAttribute("src",Vb?Vb.createScriptURL(e):e),null!==(e=Tb())&&t.setAttribute("nonce",e),t.async="true",(e=z.getElementsByTagName(Qb)[0])?e.parentNode.insertBefore(t,e):(z.head||z.body||z.documentElement).appendChild(t)},Xb=function(e,t){var n=t&&t._c;if(n)for(var r=0;r<N.length;r++){var i=N[r][0],a=N[r][1];a&&C(n,i)&&a(n[i],e,t)}},Zb=function(e,t,n){Yb((function(){var n=t===qb(La.href)?A(F,"_",B()):B();n=A(ub(t),"_",n),e(n)}),n)},ac=function(e,t){var n=t||{};"function"==typeof t&&((n={}).callback=t),Xb(e,n),t=e?e.split(":"):[];var r=n.h||Pb(),i=A(K,"ah",B());if(i["::"]&&t.length){e=[];for(var a=null;a=t.shift();){var o=a.split(".");o=i[a]||i[o[1]&&"ns:"+o[0]||""]||r;var u=e.length&&e[e.length-1]||null,s=u;u&&u.hint==o||(s={hint:o,V:[]},e.push(s)),s.V.push(a)}var c=e.length;if(1<c){var l=n.callback;l&&(n.callback=function(){0==--c&&l()})}for(;t=e.shift();)$b(t.V,n,t.hint)}else $b(t||[],n,r)},$b=function(e,t,n){e=Pa(e)||[];var r=t.callback,i=t.config,a=t.timeout,o=t.ontimeout,u=t.onerror,s=void 0;"function"==typeof u&&(s=u);var c=null,l=!1;if(a&&!o||!a&&o)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";u=A(ub(n),"r",[]).sort();var f=A(ub(n),"L",[]).sort(),d=[].concat(u),h=function(e,t){if(l)return 0;x.clearTimeout(c),f.push.apply(f,p);var r=((F||{}).config||{}).update;if(r?r(i):i&&A(K,"cu",[]).push(i),t){Ab("me0",e,d);try{Zb(t,n,s)}finally{Ab("me1",e,d)}}return 1};0<a&&(c=x.setTimeout((function(){l=!0,o()}),a));var p=Sb(e,f);if(p.length){p=Sb(e,u);var v=A(K,"CP",[]),g=v.length;if(v[g]=function(e){if(!e)return 0;Ab("ml1",p,d);var t=function(t){v[g]=null,h(p,e)&&tb((function(){r&&r(),t()}))},n=function(){var e=v[g+1];e&&e()};0<g&&v[g-1]?v[g]=function(){t(n)}:t(n)},p.length){var m="loaded_"+K.I++;F[m]=function(e){v[g](e),F[m]=null},e=Kb(n,p,"gapi."+m,u),u.push.apply(u,p),Ab("ml0",p,d),t.sync||x.___gapisync?Wb(e):Ub(e)}else v[g](Ma)}else h(p)&&r&&r()},Vb=qa("gapi#gapi"),Yb=function(e,t){if(K.hee&&0<K.hel)try{return e()}catch(n){t&&t(n),K.hel--,ac("debug_error",(function(){try{window.___jsl.hefn(n)}catch(e){throw n}}))}else try{return e()}catch(n){throw t&&t(n),n}};F.load=function(e,t){return Yb((function(){return ac(e,t)}))};var bc=function(e){var t=window.___jsl=window.___jsl||{};return t[e]=t[e]||[],t[e]},cc=function(e){var t=window.___jsl=window.___jsl||{};return t.cfg=!e&&t.cfg||{},t.cfg},dc=function(e){return"object"===typeof e&&/\[native code\]/.test(e.push)},P=function e(t,n,r){if(n&&"object"===typeof n)for(var i in n)!Object.prototype.hasOwnProperty.call(n,i)||r&&"___goc"===i&&"undefined"===typeof n[i]||(t[i]&&n[i]&&"object"===typeof t[i]&&"object"===typeof n[i]&&!dc(t[i])&&!dc(n[i])?e(t[i],n[i]):n[i]&&"object"===typeof n[i]?(t[i]=dc(n[i])?[]:{},e(t[i],n[i])):t[i]=n[i])},ec=function(e){if(e&&!/^\s+$/.test(e)){for(;0==e.charCodeAt(e.length-1);)e=e.substring(0,e.length-1);try{var t=window.JSON.parse(e)}catch(n){}if("object"===typeof t)return t;try{t=new Function("return ("+e+"\n)")()}catch(n){}if("object"===typeof t)return t;try{t=new Function("return ({"+e+"\n})")()}catch(n){}return"object"===typeof t?t:{}}},fc=function(e,t){var n={___goc:void 0};e.length&&e[e.length-1]&&Object.hasOwnProperty.call(e[e.length-1],"___goc")&&"undefined"===typeof e[e.length-1].___goc&&(n=e.pop()),P(n,t),e.push(n)},gc=function(e){cc(!0);var t=window.___gcfg,n=bc("cu"),r=window.___gu;t&&t!==r&&(fc(n,t),window.___gu=t),t=bc("cu");var i=document.scripts||document.getElementsByTagName("script")||[];r=[];var a=[];a.push.apply(a,bc("us"));for(var o=0;o<i.length;++o)for(var u=i[o],s=0;s<a.length;++s)u.src&&0==u.src.indexOf(a[s])&&r.push(u);for(0==r.length&&0<i.length&&i[i.length-1].src&&r.push(i[i.length-1]),i=0;i<r.length;++i)r[i].getAttribute("gapi_processed")||(r[i].setAttribute("gapi_processed",!0),(a=r[i])?a=3==(o=a.nodeType)||4==o?a.nodeValue:a.textContent||a.innerText||a.innerHTML||"":a=void 0,(a=ec(a))&&t.push(a));for(e&&fc(n,e),e=0,t=(r=bc("cd")).length;e<t;++e)P(cc(),r[e],!0);for(e=0,t=(r=bc("ci")).length;e<t;++e)P(cc(),r[e],!0);for(e=0,t=n.length;e<t;++e)P(cc(),n[e],!0)},Q=function(e){var t=cc();if(!e)return t;for(var n=0,r=(e=e.split("/")).length;t&&"object"===typeof t&&n<r;++n)t=t[e[n]];return n===e.length&&void 0!==t?t:void 0},hc=function(e,t){var n;if("string"===typeof e){for(var r=n={},i=0,a=(e=e.split("/")).length;i<a-1;++i){r=r[e[i]]={}}r[e[i]]=t}else n=e;gc(n)},ic=function(){var e=window.__GOOGLEAPIS;e&&(e.googleapis&&!e["googleapis.config"]&&(e["googleapis.config"]=e.googleapis),A(K,"ci",[]).push(e),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;++t){var n=e[t].name.toLowerCase();if(0==n.lastIndexOf("google-signin-",0)){n=n.substring(14);var r=e[t].content;jc[n]&&r&&(lc[n]=r)}}if(window.self!==window.top)for(var i in e=document.location.toString(),jc)0<jc[i]&&(t=H(e,i,""))&&(lc[i]=t);kc=!0}return i=B(),D(lc,i),i},nc=function(e){return!!(e.clientid&&e.scope&&e.callback)},oc=window.console,pc=function(e){oc&&oc.log&&oc.log(e)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function(e){for(var t in R)e(R[t])},tc=function(e,t){(e=R[e])&&e.state<t&&(e.state=t)},uc,vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function(e){var t=Q("googleapis.config/sessionIndex");if("string"===typeof t&&254<t.length&&(t=null),null==t&&(t=window.__X_GOOG_AUTHUSER),"string"===typeof t&&254<t.length&&(t=null),null==t){var n=window.google;n&&(t=n.authuser)}return"string"===typeof t&&254<t.length&&(t=null),null==t&&(e=e||window.location.href,null==(t=H(e,"authuser")||null)&&(t=(t=e.match(vc))?t[1]:null)),null==t?null:(254<(t=String(t)).length&&(t=null),t)},yc=function(e){var t=Q("googleapis.config/sessionDelegate");return"string"===typeof t&&21<t.length&&(t=null),null==t&&(t=(e=(e||window.location.href).match(wc))?e[1]:null),null==t?null:(21<(t=String(t)).length&&(t=null),t)},zc,S,T=void 0,U=function(e){try{return m.JSON.parse.call(m.JSON,e)}catch(t){return!1}},V=function(e){return Object.prototype.toString.call(e)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function e(t,n){if(n)for(var r=0,i=n.length;r<i;++r)if(t===n[r])throw new TypeError("Converting circular structure to JSON");if("undefined"!==(i=typeof t)){(r=Array.prototype.slice.call(n||[],0))[r.length]=t,n=[];var a=V(t);if(null!=t&&"function"===typeof t.toJSON&&(Object.prototype.hasOwnProperty.call(t,"toJSON")||(a!==Fc||t.constructor!==Array&&t.constructor!==Object)&&(a!==Ec||t.constructor!==Array&&t.constructor!==Object)&&a!==Dc&&a!==Ac&&a!==Cc&&a!==Bc))return e(t.toJSON.call(t),r);if(null==t)n[n.length]="null";else if(a===Ac)t=Number(t),isNaN(t)||isNaN(t-t)?t="null":-0===t&&0>1/t&&(t="-0"),n[n.length]=String(t);else if(a===Cc)n[n.length]=String(!!Number(t));else{if(a===Bc)return e(t.toISOString.call(t),r);if(a===Fc&&V(t.length)===Ac){n[n.length]="[";var o=0;for(i=Number(t.length)>>0;o<i;++o)o&&(n[n.length]=","),n[n.length]=e(t[o],r)||"null";n[n.length]="]"}else if(a==Dc&&V(t.length)===Ac){for(n[n.length]='"',o=0,r=Number(t.length)>>0;o<r;++o)i=String.prototype.charAt.call(t,o),a=String.prototype.charCodeAt.call(t,o),n[n.length]="\b"===i?"\\b":"\f"===i?"\\f":"\n"===i?"\\n":"\r"===i?"\\r":"\t"===i?"\\t":"\\"===i||'"'===i?"\\"+i:31>=a?"\\u"+(a+65536).toString(16).substr(1):32<=a&&65535>=a?i:"\ufffd";n[n.length]='"'}else{if("object"!==i)return;for(o in n[n.length]="{",i=0,t)Object.prototype.hasOwnProperty.call(t,o)&&(void 0!==(a=e(t[o],r))&&(i++&&(n[n.length]=","),n[n.length]=e(o),n[n.length]=":",n[n.length]=a));n[n.length]="}"}}return n.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function Xc(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b))return!1;if(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,"")))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+a+"\n)")}catch(c){return!1}return!(!b||1!==b.length)&&b[0]},Yc=function(){var e=((m.document||{}).scripts||[]).length;if((void 0===zc||void 0===T||S!==e)&&-1!==S){zc=T=!1,S=-1;try{try{T=!!m.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===U("true")&&3===U('[{"a":3}]')[0].a}catch(t){}zc=T&&!U("[00]")&&!U('"\x07"')&&!U('"\\0"')&&!U('"\\v"')}finally{S=e}}},Zc=function(e){return-1!==S&&(Yc(),(zc?U:Xc)(e))},$c=function(e){if(-1!==S)return Yc(),T?m.JSON.stringify.call(m.JSON,e):W(e)},ad=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==new Date(0).toISOString(),bd=function(){var e=Date.prototype.getUTCFullYear.call(this);return[0>e?"-"+String(1e6-e).substr(1):9999>=e?String(1e4+e).substr(1):"+"+String(1e6+e).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var e=1;e<this.j;++e)this.C[e]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function(e,t,n){n||(n=0);var r=e.da;if("string"===typeof t)for(var i=0;16>i;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(i=16;80>i;i++){var a=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(a<<1|a>>>31)}t=e.b[0],n=e.b[1];var o=e.b[2],u=e.b[3],s=e.b[4];for(i=0;80>i;i++){if(40>i)if(20>i){a=u^n&(o^u);var c=1518500249}else a=n^o^u,c=1859775393;else 60>i?(a=n&o|u&(n|o),c=2400959708):(a=n^o^u,c=3395469782);a=(t<<5|t>>>27)+a+s+c+r[i]&4294967295,s=u,u=o,o=4294967295&(n<<30|n>>>2),n=t,t=a}e.b[0]=e.b[0]+t&4294967295,e.b[1]=e.b[1]+n&4294967295,e.b[2]=e.b[2]+o&4294967295,e.b[3]=e.b[3]+u&4294967295,e.b[4]=e.b[4]+s&4294967295};dd.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.j,r=0,i=this.G,a=this.o;r<t;){if(0==a)for(;r<=n;)ed(this,e,r),r+=this.j;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a==this.j){ed(this,i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a==this.j){ed(this,i),a=0;break}}this.o=a,this.D+=t}},dd.prototype.digest=function(){var e=[],t=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var n=this.j-1;56<=n;n--)this.G[n]=255&t,t/=256;for(ed(this,this.G),n=t=0;5>n;n++)for(var r=24;0<=r;r-=8)e[t]=this.b[n]>>r&255,++t;return e};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function e(t){var n=(t=t||x.event).screenX+t.clientX<<16;n+=t.screenY+t.clientY,n*=(new Date).getTime()%1e6,kd=kd*n%ld,0<id&&++jd==id&&jb("mousemove",e,"remove","de")},od=function(e){for(var t=new fd,n=[],r=0,i=(e=unescape(encodeURIComponent(e))).length;r<i;++r)n.push(e.charCodeAt(r));for(t.O.update(n),t=t.O.digest(),e="",n=0;n<t.length;n++)e+="0123456789ABCDEF".charAt(Math.floor(t[n]/16))+"0123456789ABCDEF".charAt(t[n]%16);return e};hd=!!gd&&"function"==typeof gd.getRandomValues,hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+(new Date).getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,0!=id&&jb("mousemove",nd,"add","at"));var pd=function(){var e=kd;return e+=parseInt(md.substr(0,20),16),md=od(md),e/(ld+Math.pow(16,20))},qd=function(){var e=new x.Uint32Array(1);return gd.getRandomValues(e),Number("0."+e[0])},rd=function(){var e=K.onl;if(!e){e=B(),K.onl=e;var t=B();e.e=function(e){var n=t[e];n&&(delete t[e],n())},e.a=function(e,n){t[e]=n},e.r=function(e){delete t[e]}}return e},sd=function(e,t){return"function"===typeof(t=t.onload)?(rd().a(e,t),t):null},td=function(e){return E(/^\w+$/.test(e),"Unsupported id - "+e),rd(),'onload="window.___jsl.onl.e(&#34;'+e+'&#34;)"'},ud=function(e){rd().r(e)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function(e){E(!e||ib.test(e),"Illegal url for new iframe - "+e)},zd=function(e,t,n,r,i){yd(n.src);var a,o=sd(r,n),u=o?td(r):"";try{document.all&&(a=e.createElement('<iframe frameborder="'+Wa(String(n.frameborder))+'" scrolling="'+Wa(String(n.scrolling))+'" '+u+' name="'+Wa(String(n.name))+'"/>'))}catch(c){}finally{a||(a=e.createElement("iframe"),o&&(a.onload=function(){a.onload=null,o.call(this)},ud(r)))}for(var s in a.setAttribute("ng-non-bindable",""),n)e=n[s],"style"===s&&"object"===typeof e?D(e,a.style):wd[s]||a.setAttribute(s,String(e));return(s=i&&i.beforeNode||null)||i&&i.dontclear||ob(t),t.insertBefore(a,s),a=s?s.previousSibling:t.lastChild,n.allowtransparency&&(a.allowTransparency=!0),a},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var e=xc()||"0",t=yc(),n=xc(void 0)||e,r=yc(void 0),i="";n&&(i+="u/"+encodeURIComponent(String(n))+"/"),r&&(i+="b/"+encodeURIComponent(String(r))+"/"),n=i||null,(i=(r=!1===Q("isLoggedIn"))?"_/im/":"")&&(n="");var a=Q("iframes/:socialhost:"),o=Q("iframes/:im_socialhost:");return uc={socialhost:a,ctx_socialhost:r?o:a,session_index:e,session_delegate:t,session_prefix:n,im_prefix:i}},Dd=function(e,t){return Cd()[t]||""},Ed=function(e){return function(t,n){return e?Cd()[n]||e[n]||"":Cd()[n]||""}},Fd=function(e){var t;return e.match(/^https?%3A/i)&&(t=decodeURIComponent(e)),hb(document,t||e)},Gd=function(e){e=e||"canonical";for(var t=document.getElementsByTagName("link"),n=0,r=t.length;n<r;n++){var i=t[n],a=i.getAttribute("rel");if(a&&a.toLowerCase()==e&&(i=i.getAttribute("href"))&&(i=Fd(i))&&null!=i.match(/^https?:\/\/[\w\-_\.]+/i))return i}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function(e,t,n){var r,i={},a=r=e;for(var o in"plus"==e&&t.action&&(r=e+"_"+t.action,a=e+"/"+t.action),(r=Q("iframes/"+r+"/url"))||(r=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+a+"?usegapi=1"),Hd)i[o]=o+"/"+(t[o]||Hd[o])+"/";if(i=hb(z,r.replace(Bd,Ed(i))),o="iframes/"+e+"/params/",D(t,a={}),(r=Q("lang")||Q("gwidget/lang"))&&(a.hl=r),Id[e]||(a.origin=window.location.origin||window.location.protocol+"//"+window.location.host),a.exp=Q(o+"exp"),o=Q(o+"location"))for(r=0;r<o.length;r++){var u=o[r];a[u]=x.location[u]}switch(e){case"plus":case"follow":o=a.href,r=t.action?void 0:"publisher",o=(o="string"==typeof o?o:void 0)?Fd(o):Gd(r),a.url=o,delete a.href;break;case"plusone":o=(o=t.href)?Fd(o):Gd(),a.url=o,o=t.db,r=Q(),null==o&&r&&(null==(o=r.db)&&(o=r.gwidget&&r.gwidget.db)),a.db=o||void 0,o=t.ecp,r=Q(),null==o&&r&&(null==(o=r.ecp)&&(o=r.gwidget&&r.gwidget.ecp)),a.ecp=o||void 0,delete a.href;break;case"signin":a.url=Gd()}for(var s in K.ILI&&(a.iloader="1"),delete a["data-onload"],delete a.rd,Hd)a[s]&&delete a[s];for(var c in a.gsrc=Q("iframes/:source:"),"undefined"!==typeof(s=Q("inline/css"))&&0<n&&s>=n&&(a.ic="1"),s=/^#|^fr-/,n={},a)C(a,c)&&s.test(c)&&(n[c.replace(s,"")]=a[c],delete a[c]);for(var l in c="q"==Q("iframes/"+e+"/params/si")?a:n,s=mc())!C(s,l)||C(a,l)||C(n,l)||(c[l]=s[l]);for(var f in l=[].concat(Kd),(c=Q("iframes/"+e+"/methods"))&&"object"===typeof c&&Na.test(c.push)&&(l=l.concat(c)),t)C(t,f)&&/^on/.test(f)&&("plus"!=e||"onconnect"!=f)&&(l.push(f),delete a[f]);return delete a.callback,n._methods=l.join(","),fb(i,a,n)},Nd=["style","data-gapiscan"],Pd=function(e){for(var t=B(),n=0!=e.nodeName.toLowerCase().indexOf("g:"),r=0,i=e.attributes.length;r<i;r++){var a=e.attributes[r],o=a.name,u=a.value;0<=Oa.call(Nd,o)||n&&0!=o.indexOf("data-")||"null"===u||"specified"in a&&!a.specified||(n&&(o=o.substr(5)),t[o.toLowerCase()]=u)}return e=e.style,(n=Od(e&&e.height))&&(t.height=String(n)),(e=Od(e&&e.width))&&(t.width=String(e)),t},Od=function(e){var t=void 0;return"number"===typeof e?t=e:"string"===typeof e&&(t=parseInt(e,10)),t},Rd=function(){var e=K.drw;sc((function(t){if(e!==t.id&&4!=t.state&&"share"!=t.type){var n=t.id,r=t.type,i=t.url;t=t.userParams;var a=z.getElementById(n);if(a){var o=Md(r,t,0);o?(a=a.parentNode,i.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==o.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(t.dontclear=!0,t.rd=!0,t.ri=!0,t.type=r,Qd(a,t),(r=R[a.lastChild.id])&&(r.oid=n),tc(n,4))):delete R[n]}else delete R[n]}}))},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function(e,t){Yd(void 0,!1,e,t)},Yd=function(e,t,n,r){L("ps0",!0),n=("string"===typeof n?document.getElementById(n):n)||z;var i=z.documentMode;if(n.querySelectorAll&&(!i||8<i)){i=r?[r]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var a=[],o=0;o<i.length;o++){var u=i[o];a.push(".g-"+u,"g\\:"+u)}i=n.querySelectorAll(a.join(","))}else i=n.getElementsByTagName("*");for(n=B(),a=0;a<i.length;a++){var s=o=i[a];u=r;var c=s.nodeName.toLowerCase(),l=void 0;if(s.getAttribute("data-gapiscan"))u=null;else{var f=c.indexOf("g:");0==f?l=c.substr(2):(f=(f=String(s.className||s.getAttribute("class")))&&Wd.exec(f))&&(l=f[1]),u=!l||!(Sd[l]||Td[l]||X[l])||u&&l!==u?null:l}u&&(Xd[u]||0==o.nodeName.toLowerCase().indexOf("g:")||0!=Xa(Pd(o)).length)&&(o.setAttribute("data-gapiscan",!0),A(n,u,[]).push(o))}if(t)for(var d in n)for(t=n[d],r=0;r<t.length;r++)t[r].setAttribute("data-onload",!0);for(var h in n)Ud.push(h);if(L("ps1",!0),(d=Ud.join(":"))||e)try{F.load(d,e)}catch(v){return void pc(v)}if($d(Vd||{}))for(var p in n){for(h=0,t=(e=n[p]).length;h<t;h++)e[h].removeAttribute("data-gapiscan");ae(p)}else{for(p in r=[],n)for(h=0,t=(e=n[p]).length;h<t;h++)i=e[h],be(p,i,Pd(i),r,t);ce(d,r)}},de=function(e){var t=A(F,e,{});t.go||(t.go=function(t){return Zd(t,e)},t.render=function(t,n){return(n=n||{}).type=e,Qd(t,n)})},ee=function(e){Sd[e]=!0},fe=function(e){Td[e]=!0},ge=function(e){X[e]=!0},ae=function(e,t){var n=sb(e);t&&n?(n(t),(n=t.iframeNode)&&n.setAttribute("data-gapiattached",!0)):F.load(e,(function(){var n=sb(e),r=t&&t.iframeNode,i=t&&t.userParams;r&&n?(n(t),r.setAttribute("data-gapiattached",!0)):(n=F[e].go)("signin2"==e?r:r&&r.parentNode,i)}))},$d=function(){return!1},ce=function(){},be=function(e,t,n,r,i,a,o){switch(he(t,e,a)){case 0:e=X[e]?e+"_annotation":e,(r={}).iframeNode=t,r.userParams=n,ae(e,r);break;case 1:if(t.parentNode){for(var u in n)if((a=C(n,u))&&(a=!!(a=n[u])&&"object"===typeof a&&(!a.toString||a.toString===Object.prototype.toString||a.toString===Array.prototype.toString)),a)try{n[u]=$c(n[u])}catch(p){delete n[u]}if(a=!0,n.dontclear&&(a=!1),delete n.dontclear,rc(),u=Md(e,n,i),(i=o||{}).allowPost=1,i.attributes=Jd,i.dontclear=!a,(o={}).userParams=n,o.url=u,o.type=e,n.rd)var s=t;else s=document.createElement("div"),t.setAttribute("data-gapistub",!0),s.style.cssText="position:absolute;width:450px;left:-10000px;",t.parentNode.insertBefore(s,t);o.siteElement=s,s.id||(t=s,A(Ld,e,0),a="___"+e+"_"+Ld[e]++,t.id=a),(t=B())[">type"]=e,D(n,t),a=u,n=s,t=(u=i||{}).attributes||{},E(!(u.allowPost||u.forcePost)||!t.onload,"onload is not supported by post iframe (allowPost or forcePost)"),i=t=a,Ad.test(t)&&(i=Q("iframes/"+i.substring(1)+"/url"),E(!!i,"Unknown iframe url config for - "+t)),a=hb(z,i.replace(Bd,Dd)),t=n.ownerDocument||z,s=0;do{i=u.id||["I",xd++,"_",(new Date).getTime()].join("")}while(t.getElementById(i)&&5>++s);E(5>s,"Error creating iframe id"),s={};var c={};t.documentMode&&9>t.documentMode&&(s.hostiemode=t.documentMode),D(u.queryParams||{},s),D(u.fragmentParams||{},c);var l=u.pfname,f=B();Q("iframes/dropLegacyIdParam")||(f.id=i),f._gfid=i,f.parent=t.location.protocol+"//"+t.location.host;var d=H(t.location.href,"parent");if(!(l=l||"")&&d&&(d=H(t.location.href,"_gfid","")||H(t.location.href,"id",""),l=H(t.location.href,"pfname",""),l=d?l+"/"+d:""),l||(d=Zc(H(t.location.href,"jcp","")))&&"object"==typeof d&&(l=(l=d.id)?d.pfname+"/"+l:""),f.pfname=l,u.connectWithJsonParam&&((d={}).jcp=$c(f),f=d),(d=H(a,"rpctoken")||s.rpctoken||c.rpctoken)||(d=u.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),f.rpctoken=d),u.rpctoken=d,D(f,u.connectWithQueryParams?s:c),d=t.location.href,f=B(),(l=H(d,"_bsh",K.bsh))&&(f._bsh=l),(d=qb(d))&&(f.jsh=d),u.hintInFragment?D(f,c):D(f,s),a=fb(a,s,c,u.paramsSerializer),c=B(),D(vd,c),D(u.attributes,c),c.name=c.id=i,c.src=a,u.eurl=a,f=!!(s=u||{}).allowPost,s.forcePost||f&&2e3<a.length){if(s=I(a),c.src="",u.dropDataPostorigin||(c["data-postorigin"]=a),a=zd(t,n,c,i),-1!=navigator.userAgent.indexOf("WebKit")){var h=a.contentWindow.document;h.open(),c=h.createElement("div"),(f={}).name=d=i+"_inner",f.src="",f.style="display:none",zd(t,c,f,d,u)}for(c=(u=s.query[0])?u.split("&"):[],u=[],f=0;f<c.length;f++)d=c[f].split("=",2),u.push([decodeURIComponent(d[0]),decodeURIComponent(d[1])]);for(s.query=[],c=db(s),E(ib.test(c),"Invalid URL: "+c),(s=t.createElement("form")).method="POST",s.target=i,s.style.display="none",i=c instanceof v?c:Fa(c),xa(s,"HTMLFormElement").action=Da(i),i=0;i<u.length;i++)(c=t.createElement("input")).type="hidden",c.name=u[i][0],c.value=u[i][1],s.appendChild(c);n.appendChild(s),s.submit(),s.parentNode.removeChild(s),h&&h.close(),h=a}else h=zd(t,n,c,i,u);o.iframeNode=h,o.id=h.getAttribute("id"),h=o.id,(n=B()).id=h,n.userParams=o.userParams,n.url=o.url,n.type=o.type,n.state=1,R[h]=n,h=o}else h=null;h&&((o=h.id)&&r.push(o),ae(e,h))}},he=function(e,t,n){if(e&&1===e.nodeType&&t){if(n)return 1;if(X[t]){if(pb[e.nodeName.toLowerCase()])return(e=e.innerHTML)&&e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[t])return 0;if(Sd[t])return 1}}return null},Qd=function(e,t){var n=t.type;delete t.type;var r=("string"===typeof e?document.getElementById(e):e)||void 0;if(r){for(var i in e={},t)C(t,i)&&(e[i.toLowerCase()]=t[i]);e.rd=1,(t=!!e.ri)&&delete e.ri,be(n,r,e,i=[],0,t,void 0),ce(n,i)}else pc("string"==="gapi."+n+".render: missing element "+typeof e?e:"")};A(F,"platform",{}).go=Zd,$d=function(e){for(var t=["_c","jsl","h"],n=0;n<t.length&&e;n++)e=e[t[n]];return t=qb(La.href),!e||0!=e.indexOf("n;")&&0!=t.indexOf("n;")&&e!==t},ce=function(e,t){ie(e,t)};var lb=function(e){Yd(e,!0)},je=function(e,t){t=t||[];for(var n=0;n<t.length;++n)e(t[n]);for(e=0;e<t.length;e++)de(t[e])};N.push(["platform",function(e,t,n){if(Vd=n,t&&Ud.push(t),je(ee,e),je(fe,n._c.annotation),je(ge,n._c.bimodal),ic(),gc(),"explicit"!=Q("parsetags")){if(rb(e),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),n&&(e=n.callback)){var r=Ya(e);delete n.callback}nb((function(){lb(r)}))}}]),F._pl=!0;var ke=function e(t){if(t=(t=R[t])?t.oid:void 0){var n=z.getElementById(t);n&&n.parentNode.removeChild(n),delete R[t],e(t)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function(e,t){function n(){jb("message",r,"remove","de")}function r(r){var a=r.data,o=r.origin;if(oe(a,t)){var u=i;i=!1,u&&L("rqe"),pe(e,(function(){u&&L("rqd"),n();for(var e=A(K,"RPMQ",[]),t=0;t<e.length;t++)e[t]({data:a,origin:o})}))}}if(0!==t.length){ne=H(La.href,"pfname","");var i=!0;jb("message",r,"add","at"),ac(e,n)}},oe=function(e,t){if(e=String(e),le.test(e))return!0;var n=!1;if(me.test(e)&&(n=!0,e=e.substr(2)),!/^\{/.test(e))return!1;var r=Zc(e);if(!r)return!1;if(e=r.f,r.s&&e&&-1!=Oa.call(t,e)){if(("_renderstart"===r.s||r.s===ne+"/"+e+"::_renderstart")&&(r=r.a&&r.a[n?0:1],t=z.getElementById(e),tc(e,2),r&&t&&r.width&&r.height)){e:{if(n=t.parentNode,e=r||{},qc()){var i=t.id;if(i){if(1===(r=(r=R[i])?r.state:void 0)||4===r)break e;ke(i)}}(r=n.nextSibling)&&r.getAttribute&&r.getAttribute("data-gapistub")&&(n.parentNode.removeChild(r),n.style.cssText=""),r=e.width;var a=e.height,o=n.style;o.textIndent="0",o.margin="0",o.padding="0",o.background="transparent",o.borderStyle="none",o.cssFloat="none",o.styleFloat="none",o.lineHeight="normal",o.fontSize="1px",o.verticalAlign="baseline",(n=n.style).display="inline-block",(o=t.style).position="static",o.left="0",o.top="0",o.visibility="visible",r&&(n.width=o.width=r+"px"),a&&(n.height=o.height=a+"px"),e.verticalAlign&&(n.verticalAlign=e.verticalAlign),i&&tc(i,3)}t["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},pe=function(e,t){ac(e,t)},qe=function(e,t){this.L=e,e=t||{},this.fa=Number(e.maxAge)||0,this.U=e.domain,this.X=e.path,this.ga=!!e.secure};qe.prototype.read=function(){for(var e=this.L+"=",t=document.cookie.split(/;\s*/),n=0;n<t.length;++n){var r=t[n];if(0==r.indexOf(e))return r.substr(e.length)}},qe.prototype.write=function(e,t){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test(e))throw"Invalid cookie value";if(e=this.L+"="+e,this.U&&(e+=";domain="+this.U),this.X&&(e+=";path="+this.X),0<=(t="number"===typeof t?t:this.fa)){var n=new Date;n.setSeconds(n.getSeconds()+t),e+=";expires="+n.toUTCString()}return this.ga&&(e+=";secure"),document.cookie=e,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function(e){for(var t=document.cookie.split(/;\s*/),n=0;n<t.length;++n){var r=t[n].split("=");e(r.shift(),r.join("="))}};var te=function(e){this.B=e};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function(e){return Y[this.B]=e,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function(e){for(var t in Y)Y.hasOwnProperty(t)&&e(t,Y[t])};var ue="https:"===window.location.protocol,ve=ue||"http:"===window.location.protocol?qe:te,we=function(e){var t=e.substr(1),n="",r=window.location.hostname;if(""!==t){if(n=parseInt(t,10),isNaN(n))return null;if((t=r.split(".")).length<n-1)return null;t.length==n-1&&(r="."+r)}else r="";return{i:"S"==e.charAt(0),domain:r,l:n}},xe=function(){var e,t=null;return ve.iterate((function(n,r){0===n.indexOf("G_AUTHUSER_")&&(n=we(n.substring(11)),!e||n.i&&!e.i||n.i==e.i&&n.l>e.l)&&(e=n,t=r)})),{ea:e,F:t}},ye=function(e){if(0!==e.indexOf("GCSC"))return null;var t={W:!1};if(!(e=e.substr(4)))return t;var n=e.charAt(0),r=(e=e.substr(1)).lastIndexOf("_");if(-1==r)return t;var i=we(e.substr(r+1));return null==i||"_"!==(e=e.substring(0,r)).charAt(0)||!(r="E"===n&&i.i)&&("U"!==n||i.i)||r&&!ue?t:{W:!0,i:r,ja:e.substr(1),domain:i.domain,l:i.l}},ze=function(e){return e&&(e=e.split("="))[1]?e[1].split("|"):[]},Ae=function(e){return{clientId:(e=e.split(":"))[0].split("=")[1],ia:ze(e[1]),la:ze(e[2]),ka:ze(e[3])}},Be=function(){var e,t=xe(),n=t.ea;if(null!==(t=t.F)&&(ve.iterate((function(t,r){(t=ye(t))&&t.W&&t.i==n.i&&t.l==n.l&&(e=r)})),e)){var r=Ae(e),i=r&&r.ia[Number(t)];if(r=r&&r.clientId,i)return{F:t,ha:i,clientId:r}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(_na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;for(var De=0;64>De;++De);var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var e=Be();(e=e&&e.F)&&hc("googleapis.config/sessionIndex",e),Ee||(Ee=A(K,"ss",new Z)),(e=Ee).$&&e.$()};var Ce=function(){var e=Be(),t=e&&e.ha||null,n=e&&e.clientId;return ac("auth",{callback:function(){var e=x.gapi.auth,r={client_id:n,session_state:t};e.checkSessionState(r,(function(t){var n=r.session_state,i=Q("isLoggedIn");(i=i!=(t=!Q("debug/forceIm")&&(n&&t||!n&&!t)))&&(hc("isLoggedIn",t),rc(),Rd(),t||((t=e.signOut)?t():(t=e.setToken)&&t(null))),t=mc();var a=Q("savedUserState");a=a!=(n=e._guss(t.cookiepolicy))&&"undefined"!=typeof a,hc("savedUserState",n),(i||a)&&nc(t)&&!Q("disableRealtimeCallback")&&e._pimf(t,!0)}))}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}.call(void 0);var gapiComplete=gapi.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}})},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ie)&&(Ne(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,je=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,St,Et=!1,Tt=[],Ct=null,Nt=null,At=null,Dt=new Map,Ot=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(Ut),Ot.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var qt=k.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Wt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),dn=an(fn),hn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(j({},hn,{dataTransfer:0})),gn=an(j({},fn,{relatedTarget:0})),mn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Qn(e){Fr(e,0)}function Yn(e){if(W(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Hn(t,Wn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Pr=Dr[Rr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=yi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=gn;break;case"focusout":c="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Er:case Tr:case Cr:s=mn;break;case Nr:s=An;break;case"scroll":s=dn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Oe(p,d))&&l.push(Hr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,yi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Wr(h))p++;for(h=0,v=d;v;v=Wr(v))h++;for(;0<p-h;)l=Wr(l),p--;for(;0<h-p;)d=Wr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Wr(l),d=Wr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var g=$n;else if(Kn(u))if(Xn)g=or;else{g=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(g=ar);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?ki(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(m=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:m}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,gi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ni),Si(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ei(Ci,e),Ei(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),Ei(Ci,e)):Si(Ni),Ei(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Ki=0,Hi=null,Gi=0,Wi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Ki++]=Gi,qi[Ki++]=Hi,Hi=e,Gi=t}function Zi(e,t,n){Wi[Qi++]=$i,Wi[Qi++]=Xi,Wi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Ki],qi[Ki]=null,Gi=qi[--Ki],qi[Ki]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ii(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function xa(e){var t=ma.current;Si(ma),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=j({},f,d);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Oi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Oi(t)?Ai:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<u.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=h(i,f,u[v],s);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=g}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(g=p(f,i,v,u[v],s))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function g(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,g=u=0,m=null,y=s.next();null!==v&&!y.done;g++,y=s.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,g),null===f?l=b:f.sibling=b,f=b,v=m}if(y.done)return n(i,v),ia&&Ji(i,g),l;if(null===v){for(;!y.done;g++,y=s.next())null!==(y=d(i,y.value,c))&&(u=o(y,u,g),null===f?l=y:f.sibling=y,f=y);return ia&&Ji(i,g),l}for(v=r(i,v);!y.done;g++,y=s.next())null!==(y=p(v,i,g,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),u=o(y,u,g),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,g),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return g(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,go=null,mo=null,yo=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,mo=go=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==go&&null!==go.next,po=0,mo=go=vo=null,yo=!1,t)throw Error(a(300));return e}function So(){var e=0!==ko;return ko=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===go){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function jo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Go(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ou={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),go.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:$o,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===go?t.memoizedState=e:Jo(t,go.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Hs=r),du(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Rs,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Rs,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Rs,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Rs,Os),Os|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Oi(n)?Ai:Ci.current;return a=Di(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Di(t,c=Oi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var d=t.memoizedState;o.state=d,ja(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ga(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Di(t,s=Oi(n)?Ai:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Ka(t,o,r,s),Aa=!1,d=t.memoizedState,o.state=d,ja(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ni.current||Aa?("function"===typeof h&&(Va(t,n,h,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Ru,Pu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=$i,Wi[Qi++]=Xi,Wi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=Fu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Gu(t),null;case 3:return r=t.stateNode,io(),Si(Ni),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ye(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Ou(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ge(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ni),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,$u=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Zu(n,t);case 6:var r=ls,i=fs;ls=null,ds(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,ds(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!$u&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,ds(e,t,n),$u=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));hs(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gs(t,e),t=t.sibling}function gs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(g){Ic(e,e.return,g)}try{ns(5,e,e.return)}catch(g){Ic(e,e.return,g)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ic(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?ge(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(g){Ic(e,e.return,g)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Ic(e,e.return,g)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Ic(e,e.return,g)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(d=Ju=f;null!==Ju;){switch(p=(h=Ju).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Zu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ic(r,n,g)}}break;case 5:Zu(h,h.return);break;case 22:if(null!==h.memoizedState){ws(d);continue}}null!==p?(p.return=h,Ju=p):ws(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(g){Ic(e,e.return,g)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Ic(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ys(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Yu;var c=$u;if(Yu=o,($u=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,Yu=u,$u=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ks(e)}}function ks(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(h){Ic(t,t.return,h)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var _s,Is=Math.ceil,Ss=k.ReactCurrentDispatcher,Es=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Ds=0,Os=0,Rs=Ii(0),Ps=0,Ls=null,Ms=0,js=0,Fs=0,Us=null,Vs=null,Bs=0,zs=1/0,qs=null,Ks=!1,Hs=null,Gs=null,Ws=!1,Qs=null,Ys=0,$s=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Xs=null,Error(a(185));mt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(js|=n),4===Ps&&uc(e,Ds)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Xe()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Ns?Ds:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ns?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Ds===t||(qs=null,zs=Xe()+500,dc(e,t));;)try{yc();break}catch(s){hc(e,s)}wa(),Ss.current=o,Cs=i,null!==As?t=0:(Ns=null,Ds=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,dc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,dc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~Fs,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,dc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Xe()+500,Ui&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Os=Rs.current,Si(Rs)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ni),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Rc(e.current,null),Ds=Os=t,Ps=0,Ls=null,Fs=js=Ms=0,Vs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function hc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,mo=go=vo=null,bo=!1,ko=0,Es.current=null,null===n||null===n.return){Ps=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,yu(p,u,s,0,t),1&p.mode&&gu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){gu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),yu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Ns||0===(268435455&Ms)&&0===(268435455&js)||uc(Ns,Ds)}function gc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Ds===t||(qs=null,dc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==As)throw Error(a(261));return Ns=null,Ds=0,Ps}function mc(){for(;null!==As;)bc(As)}function yc(){for(;null!==As&&!Ye();)bc(As)}function bc(e){var t=_s(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?kc(e):As=t,Es.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wu(n,t,Os)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ps=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ws||(Ws=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Kt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),gs(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ys(n,e,i),$e(),Cs=s,bt=u,Ts.transition=o}else e.current=n;if(Ws&&(Ws=!1,Qs=e,Ys=i),0===(o=e.pendingLanes)&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Hs,Hs=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Xs?$s++:($s=0,Xs=e):$s=0,zi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function xc(){if(null!==Qs){var e=kt(Ys),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ju=d;else for(;null!==Ju;){var h=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==h){h.return=p,Ju=h;break}Ju=p}}}var v=o.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ju=y;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ds&n)===n&&(4===Ps||3===Ps&&(130023424&Ds)===Ds&&500>Xe()-Bs?dc(e,0):Fs|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Nc(e,t){return We(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ac(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Dc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case D:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Au(t),ha();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ei(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Ku(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Di(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ga(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),ja(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),_u(e,t,r,i=ga(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),qu(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ha(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},It=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ee,Te,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},929:function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){return r={},t.m=n=[function(t){t.exports=e},function(e,t,n){e.exports=n(2)()},function(e,t,n){"use strict";function r(){}function i(){}var a=n(3);i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,o){if(o!==a){var u=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n}},function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){null!=t&&t<=e.length||(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){null!=t&&t<=e.length||(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){null!=t&&t<=e.length||(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){null!=t&&t<=e.length||(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,i,a){var o=e.getElementsByTagName(t)[0],u=o,s=o;(s=e.createElement(t)).id=n,s.src=r,u&&u.parentNode?u.parentNode.insertBefore(s,u):e.head.appendChild(s),s.onerror=a,s.onload=i}function d(e,t){var n=e.getElementById(t);n&&n.parentNode.removeChild(n)}function h(e){return m.a.createElement("span",{style:{paddingRight:10,fontWeight:500,paddingLeft:e.icon?0:10,paddingTop:10,paddingBottom:10}},e.children)}function p(e){return m.a.createElement("div",{style:{marginRight:10,background:e.active?"#eee":"#fff",padding:10,borderRadius:2}},m.a.createElement("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("g",{fill:"#000",fillRule:"evenodd"},m.a.createElement("path",{d:"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z",fill:"#EA4335"}),m.a.createElement("path",{d:"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z",fill:"#4285F4"}),m.a.createElement("path",{d:"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z",fill:"#FBBC05"}),m.a.createElement("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z",fill:"#34A853"}),m.a.createElement("path",{fill:"none",d:"M0 0h18v18H0z"}))))}function v(e){var t=a(Object(g.useState)(!1),2),n=t[0],r=t[1],i=a(Object(g.useState)(!1),2),o=i[0],u=i[1],s=e.tag,c=e.type,l=e.className,f=e.disabledStyle,d=e.buttonText,v=e.children,b=e.render,k=e.theme,w=e.icon,x=e.disabled,_=y({onSuccess:e.onSuccess,onAutoLoadFinished:e.onAutoLoadFinished,onRequest:e.onRequest,onFailure:e.onFailure,onScriptLoadFailure:e.onScriptLoadFailure,clientId:e.clientId,cookiePolicy:e.cookiePolicy,loginHint:e.loginHint,hostedDomain:e.hostedDomain,autoLoad:e.autoLoad,isSignedIn:e.isSignedIn,fetchBasicProfile:e.fetchBasicProfile,redirectUri:e.redirectUri,discoveryDocs:e.discoveryDocs,uxMode:e.uxMode,scope:e.scope,accessType:e.accessType,responseType:e.responseType,jsSrc:e.jsSrc,prompt:e.prompt}),I=_.signIn,S=x||!_.loaded;if(b)return b({onClick:I,disabled:S});var E={backgroundColor:"dark"===k?"rgb(66, 133, 244)":"#fff",display:"inline-flex",alignItems:"center",color:"dark"===k?"#fff":"rgba(0, 0, 0, .54)",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .24), 0 0 1px 0 rgba(0, 0, 0, .24)",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:"500",fontFamily:"Roboto, sans-serif"},T={cursor:"pointer",backgroundColor:"dark"===k?"#3367D6":"#eee",color:"dark"===k?"#fff":"rgba(0, 0, 0, .54)",opacity:1},C=S?Object.assign({},E,f):o?Object.assign({},E,T):n?Object.assign({},E,{cursor:"pointer",opacity:.9}):E;return m.a.createElement(s,{onMouseEnter:function(){return r(!0)},onMouseLeave:function(){r(!1),u(!1)},onMouseDown:function(){return u(!0)},onMouseUp:function(){return u(!1)},onClick:I,style:C,type:c,disabled:S,className:l},[w&&m.a.createElement(p,{key:1,active:o}),m.a.createElement(h,{icon:w,key:2},v||d)])}n.r(t),n.d(t,"default",(function(){return k})),n.d(t,"GoogleLogin",(function(){return k})),n.d(t,"GoogleLogout",(function(){return x})),n.d(t,"useGoogleLogin",(function(){return y})),n.d(t,"useGoogleLogout",(function(){return w}));var g=n(0),m=n.n(g),y=(n(1),function(e){function t(e){var t=e.getBasicProfile(),n=e.getAuthResponse(!0);e.googleId=t.getId(),e.tokenObj=n,e.tokenId=n.id_token,e.accessToken=n.access_token,e.profileObj={googleId:t.getId(),imageUrl:t.getImageUrl(),email:t.getEmail(),name:t.getName(),givenName:t.getGivenName(),familyName:t.getFamilyName()},a(e)}function n(e){if(e&&e.preventDefault(),R){var n=window.gapi.auth2.getAuthInstance(),r={prompt:D};h(),"code"===C?n.grantOfflineAccess(r).then((function(e){return a(e)}),(function(e){return c(e)})):n.signIn(r).then((function(e){return t(e)}),(function(e){return c(e)}))}}var i=e.onSuccess,a=void 0===i?function(){}:i,o=e.onAutoLoadFinished,u=void 0===o?function(){}:o,s=e.onFailure,c=void 0===s?function(){}:s,l=e.onRequest,h=void 0===l?function(){}:l,p=e.onScriptLoadFailure,v=e.clientId,m=e.cookiePolicy,y=e.loginHint,b=e.hostedDomain,k=e.autoLoad,w=e.isSignedIn,x=e.fetchBasicProfile,_=e.redirectUri,I=e.discoveryDocs,S=e.uxMode,E=e.scope,T=e.accessType,C=e.responseType,N=e.jsSrc,A=void 0===N?"https://apis.google.com/js/api.js":N,D=e.prompt,O=r(Object(g.useState)(!1),2),R=O[0],P=O[1];return Object(g.useEffect)((function(){var e=!1,n=p||c;return f(document,"script","google-login",A,(function(){var r={client_id:v,cookie_policy:m,login_hint:y,hosted_domain:b,fetch_basic_profile:x,discoveryDocs:I,ux_mode:S,redirect_uri:_,scope:E,access_type:T};"code"===C&&(r.access_type="offline"),window.gapi.load("auth2",(function(){var i=window.gapi.auth2.getAuthInstance();i?i.then((function(){e||(w&&i.isSignedIn.get()?(P(!0),u(!0),t(i.currentUser.get())):(P(!0),u(!1)))}),(function(e){c(e)})):window.gapi.auth2.init(r).then((function(n){if(!e){P(!0);var r=w&&n.isSignedIn.get();u(r),r&&t(n.currentUser.get())}}),(function(e){P(!0),u(!1),n(e)}))}))}),(function(e){n(e)})),function(){e=!0,d(document,"google-login")}}),[]),Object(g.useEffect)((function(){k&&n()}),[R]),{signIn:n,loaded:R}});function b(e){var t=c(Object(g.useState)(!1),2),n=t[0],r=t[1],i=c(Object(g.useState)(!1),2),a=i[0],o=i[1],u=e.tag,s=e.type,l=e.className,f=e.disabledStyle,d=e.buttonText,v=e.children,y=e.render,b=e.theme,k=e.icon,x=e.disabled,_=w({jsSrc:e.jsSrc,onFailure:e.onFailure,onScriptLoadFailure:e.onScriptLoadFailure,clientId:e.clientId,cookiePolicy:e.cookiePolicy,loginHint:e.loginHint,hostedDomain:e.hostedDomain,fetchBasicProfile:e.fetchBasicProfile,discoveryDocs:e.discoveryDocs,uxMode:e.uxMode,redirectUri:e.redirectUri,scope:e.scope,accessType:e.accessType,onLogoutSuccess:e.onLogoutSuccess}),I=_.signOut,S=x||!_.loaded;if(y)return y({onClick:I,disabled:S});var E={backgroundColor:"dark"===b?"rgb(66, 133, 244)":"#fff",display:"inline-flex",alignItems:"center",color:"dark"===b?"#fff":"rgba(0, 0, 0, .54)",boxShadow:"0 2px 2px 0 rgba(0, 0, 0, .24), 0 0 1px 0 rgba(0, 0, 0, .24)",padding:0,borderRadius:2,border:"1px solid transparent",fontSize:14,fontWeight:"500",fontFamily:"Roboto, sans-serif"},T={cursor:"pointer",backgroundColor:"dark"===b?"#3367D6":"#eee",color:"dark"===b?"#fff":"rgba(0, 0, 0, .54)",opacity:1},C=S?Object.assign({},E,f):a?Object.assign({},E,T):n?Object.assign({},E,{cursor:"pointer",opacity:.9}):E;return m.a.createElement(u,{onMouseEnter:function(){return r(!0)},onMouseLeave:function(){r(!1),o(!1)},onMouseDown:function(){return o(!0)},onMouseUp:function(){return o(!1)},onClick:I,style:C,type:s,disabled:S,className:l},[k&&m.a.createElement(p,{key:1,active:a}),m.a.createElement(h,{icon:k,key:2},v||d)])}v.defaultProps={type:"button",tag:"button",buttonText:"Sign in with Google",scope:"profile email",accessType:"online",prompt:"",cookiePolicy:"single_host_origin",fetchBasicProfile:!0,isSignedIn:!1,uxMode:"popup",disabledStyle:{opacity:.6},icon:!0,theme:"light",onRequest:function(){}};var k=v,w=function(e){var t=e.jsSrc,n=void 0===t?"https://apis.google.com/js/api.js":t,r=e.onFailure,i=e.onScriptLoadFailure,a=e.clientId,o=e.cookiePolicy,s=e.loginHint,c=e.hostedDomain,l=e.fetchBasicProfile,h=e.discoveryDocs,p=e.uxMode,v=e.redirectUri,m=e.scope,y=e.accessType,b=e.onLogoutSuccess,k=u(Object(g.useState)(!1),2),w=k[0],x=k[1],_=Object(g.useCallback)((function(){if(window.gapi){var e=window.gapi.auth2.getAuthInstance();null!=e&&e.then((function(){e.signOut().then((function(){e.disconnect(),b()}))}),(function(e){return r(e)}))}}),[b]);return Object(g.useEffect)((function(){var e=i||r;return f(document,"script","google-login",n,(function(){var t={client_id:a,cookie_policy:o,login_hint:s,hosted_domain:c,fetch_basic_profile:l,discoveryDocs:h,ux_mode:p,redirect_uri:v,scope:m,access_type:y};window.gapi.load("auth2",(function(){window.gapi.auth2.getAuthInstance()?x(!0):window.gapi.auth2.init(t).then((function(){return x(!0)}),(function(t){return e(t)}))}))}),(function(t){e(t)})),function(){d(document,"google-login")}}),[]),{signOut:_,loaded:w}};b.defaultProps={type:"button",tag:"button",buttonText:"Logout of Google",disabledStyle:{opacity:.6},icon:!0,theme:"light",jsSrc:"https://apis.google.com/js/api.js"};var x=b}],t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4);function t(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n,r}(n(791))},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=b.prototype=new y;k.constructor=b,v(k,m.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(g=!1,k(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,g&&(g=!1,y(E),E=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=A,_=function(){O.postMessage(null)}}else _=function(){m(A,0)};function R(e){S=e,I||(I=!0,_())}function P(e,n){E=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(g?(y(E),E=-1):g=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},__webpack_require__.d(i,a),i}}(),__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))},__webpack_require__.u=function(e){return"static/js/"+e+".6c512af1.chunk.js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="f22-t4sg-search-evaluator:";__webpack_require__.l=function(n,r,i,a){if(e[n])e[n].push(r);else{var o,u;if(void 0!==i)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var l=s[c];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==t+i){o=l;break}}o||(u=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__webpack_require__.nc&&o.setAttribute("nonce",__webpack_require__.nc),o.setAttribute("data-webpack",t+i),o.src=n),e[n]=[r];var f=function(t,r){o.onerror=o.onload=null,clearTimeout(d);var i=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(r)})),t)return t(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),u&&document.head.appendChild(o)}}}(),__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/f22-t4sg-search-evaluator/",function(){var e={179:0};__webpack_require__.f.j=function(t,n){var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var a=__webpack_require__.p+__webpack_require__.u(t),o=new Error;__webpack_require__.l(a,(function(n){if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,a=n[0],o=n[1],u=n[2],s=0;if(a.some((function(t){return 0!==e[t]}))){for(r in o)__webpack_require__.o(o,r)&&(__webpack_require__.m[r]=o[r]);if(u)u(__webpack_require__)}for(t&&t(n);s<a.length;s++)i=a[s],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkf22_t4sg_search_evaluator=self.webpackChunkf22_t4sg_search_evaluator||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__={};!function(){"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{FirebaseError:function(){return to},SDK_VERSION:function(){return lu},_DEFAULT_ENTRY_NAME:function(){return Xo},_addComponent:function(){return tu},_addOrOverwriteComponent:function(){return nu},_apps:function(){return Zo},_clearComponents:function(){return ou},_components:function(){return eu},_getProvider:function(){return iu},_registerComponent:function(){return ru},_removeServiceInstance:function(){return au},deleteApp:function(){return pu},getApp:function(){return du},getApps:function(){return hu},initializeApp:function(){return fu},onLog:function(){return mu},registerVersion:function(){return gu},setLogLevel:function(){return yu}});var t,n=__webpack_require__(791),r=__webpack_require__.t(n,2),i=__webpack_require__(250);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||o(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Ht){return!1}}function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if(t&&("object"===g(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function b(e){var t=v();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function k(e){if(Array.isArray(e))return e}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){return k(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||w()}function _(e,t,n){return _=v()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},_.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},I(e)}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var E,T="popstate";function C(e){return{usr:e.state,key:e.key}}function N(e,t,n,r){return void 0===n&&(n=null),S({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?D(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function A(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function D(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function O(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,d=null;function h(){f=t.Pop,d&&d({action:f,location:p.location})}var p={get action(){return f},get location(){return e(u,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return u.addEventListener(T,h),d=e,function(){u.removeEventListener(T,h),d=null}},createHref:function(e){return n(u,e)},push:function(e,n){f=t.Push;var i=N(p.location,e,n);r&&r(i,e);var a=C(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&d&&d({action:f,location:i})},replace:function(e,n){f=t.Replace;var i=N(p.location,e,n);r&&r(i,e);var a=C(i),o=p.createHref(i);l.replaceState(a,"",o),c&&d&&d({action:f,location:i})},go:function(e){return l.go(e)}};return p}function R(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?D(t):t).pathname||"/",n);if(null==r)return null;var i=P(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=F(i[o],r);return a}function P(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(B(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=H([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(B(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),P(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:j(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(E||(E={}));var L=/^:\w+$/,M=function(e){return"*"===e};function j(e,t){var n=e.split("/"),r=n.length;return n.some(M)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!M(e)})).reduce((function(e,t){return e+(L.test(t)?3:""===t?1:10)}),r)}function F(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=U({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:H([i,l.pathname]),pathnameBase:G(H([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=H([i,l.pathnameBase]))}return a}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);z("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=x(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return z(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:u,pathnameBase:s,pattern:e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function B(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function z(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ht){}}}function q(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function K(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=D(e):(B(!(i=S({},e)).pathname||!i.pathname.includes("?"),q("?","pathname","search",i)),B(!i.pathname||!i.pathname.includes("#"),q("#","pathname","hash",i)),B(!i.search||!i.search.includes("#"),q("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?D(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:W(a),hash:Q(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),d=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var H=function(e){return e.join("/").replace(/\/\/+/g,"/")},G=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},W=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Q=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Y=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return f(n)}(I(Error));var $=f((function e(t,n,r){c(this,e),this.status=t,this.statusText=n||"",this.data=r}));function X(e){return e instanceof $}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}var Z="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ee=n.useState,te=n.useEffect,ne=n.useLayoutEffect,re=n.useDebugValue;function ie(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Z(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ae=n.createContext(null);var oe=n.createContext(null);var ue=n.createContext(null);var se=n.createContext(null);var ce=n.createContext(null);var le=n.createContext(null);var fe=n.createContext({outlet:null,matches:[]});var de=n.createContext(null);function he(){return null!=n.useContext(le)}function pe(){return he()||B(!1),n.useContext(le).location}function ve(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function ge(){he()||B(!1);var e=n.useContext(ce),t=e.basename,r=e.navigator,i=n.useContext(fe).matches,a=pe().pathname,o=JSON.stringify(ve(i).map((function(e){return e.pathnameBase}))),u=n.useRef(!1);n.useEffect((function(){u.current=!0}));var s=n.useCallback((function(e,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof e){var i=K(e,JSON.parse(o),a,"path"===n.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:H([t,i.pathname])),(n.replace?r.replace:r.push)(i,n.state,n)}else r.go(e)}),[t,r,o,a]);return s}function me(){var e=function(){var e,t=n.useContext(de),r=_e(be.UseRouteError),i=n.useContext(fe),a=i.matches[i.matches.length-1];if(t)return t;return i||B(!1),!a.route.id&&B(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),t=X(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unhandled Thrown Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:a},r):null,n.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),n.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",n.createElement("code",{style:o},"errorElement")," props on\xa0",n.createElement("code",{style:o},"<Route>")))}var ye,be,ke=function(e){h(r,e);var t=b(r);function r(e){var n;return c(this,r),(n=t.call(this,e)).state={location:e.location,error:e.error},n}return f(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?n.createElement(de.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(n.Component);function we(e){var t=e.routeContext,r=e.match,i=e.children,a=n.useContext(ae);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),n.createElement(fe.Provider,{value:t},i)}function xe(e,t,r){if(void 0===t&&(t=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||B(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||n.createElement(me,null):null,l=function(){return n.createElement(we,{match:o,routeContext:{outlet:e,matches:t.concat(i.slice(0,u+1))}},s?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?n.createElement(ke,{location:r.location,component:c,error:s,children:l()}):l()}),null)}function _e(e){var t=n.useContext(ue);return t||B(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(ye||(ye={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(be||(be={}));var Ie;function Se(e){var t=e.to,r=e.replace,i=e.state,a=e.relative;he()||B(!1);var o=n.useContext(ue),u=ge();return n.useEffect((function(){o&&"idle"!==o.navigation.state||u(t,{replace:r,state:i,relative:a})})),null}function Ee(e){B(!1)}function Te(e){var r=e.basename,i=void 0===r?"/":r,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,d=void 0!==f&&f;he()&&B(!1);var h=i.replace(/^\/*/,"/"),p=n.useMemo((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof u&&(u=D(u));var v=u,g=v.pathname,m=void 0===g?"/":g,y=v.search,b=void 0===y?"":y,k=v.hash,w=void 0===k?"":k,x=v.state,_=void 0===x?null:x,I=v.key,S=void 0===I?"default":I,E=n.useMemo((function(){var e=V(m,h);return null==e?null:{pathname:e,search:b,hash:w,state:_,key:S}}),[h,m,b,w,_,S]);return null==E?null:n.createElement(ce.Provider,{value:p},n.createElement(le.Provider,{children:o,value:{location:E,navigationType:c}}))}function Ce(e){var r=e.children,i=e.location,a=n.useContext(oe);return function(e,r){he()||B(!1);var i,a=n.useContext(ue),o=n.useContext(fe).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,pe());if(r){var f,d="string"===typeof r?D(r):r;"/"===c||(null==(f=d.pathname)?void 0:f.startsWith(c))||B(!1),i=d}else i=l;var h=i.pathname||"/",p=R(e,{pathname:"/"===c?h:h.slice(c.length)||"/"}),v=xe(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:H([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:H([c,e.pathnameBase])})})),o,a||void 0);return r?n.createElement(le.Provider,{value:{location:J({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},v):v}(a&&!r?a.router.routes:Ae(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ie||(Ie={}));var Ne=new Promise((function(){}));n.Component;function Ae(e,t){void 0===t&&(t=[]);var r=[];return n.Children.forEach(e,(function(e,i){if(n.isValidElement(e))if(e.type!==n.Fragment){e.type!==Ee&&B(!1),e.props.index&&e.props.children&&B(!1);var a=[].concat(s(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Ae(e.props.children,a)),r.push(o)}else r.push.apply(r,Ae(e.props.children,t))})),r}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Le=__webpack_require__(184),Me=__webpack_require__(694),je=__webpack_require__.n(Me),Fe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ue=n.createContext&&n.createContext(Fe),Ve=function(){return Ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ve.apply(this,arguments)},Be=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ze(e){return e&&e.map((function(e,t){return n.createElement(e.tag,Ve({key:t},e.attr),ze(e.child))}))}function qe(e){return function(t){return n.createElement(Ke,Ve({attr:Ve({},e.attr)},t),ze(e.child))}}function Ke(e){var t=function(t){var r,i=e.attr,a=e.size,o=e.title,u=Be(e,["attr","size","title"]),s=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",Ve({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:r,style:Ve(Ve({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&n.createElement("title",null,o),e.children)};return void 0!==Ue?n.createElement(Ue.Consumer,null,(function(e){return t(e)})):t(Fe)}function He(e){return qe({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function Ge(e){return qe({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}}]})(e)}function We(e){return qe({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}}]})(e)}function Qe(e){return qe({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"}}]})(e)}function Ye(e){return qe({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}function $e(e){return qe({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}}]})(e)}var Xe=function(e){return Je({key:"className",source:e})},Je=function(e){var t=e.key,n=e.source;return delete n[t],n},Ze={accordion:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",content:{base:"py-5 px-5 last:rounded-b-lg dark:bg-gray-900 first:rounded-t-lg"},flush:{off:"rounded-lg border",on:"border-b"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between first:rounded-t-lg last:rounded-b-lg py-5 px-5 text-left font-medium text-gray-500 dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"!bg-transparent dark:!bg-transparent"},heading:"",open:{off:"",on:"text-gray-900 bg-gray-100 dark:bg-gray-800 dark:text-white"}}},alert:{base:"flex flex-col gap-2 p-4 text-sm",borderAccent:"border-t-4",closeButton:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg p-1.5 focus:ring-2",color:{info:"bg-blue-100 text-blue-500 hover:bg-blue-200 focus:ring-blue-400 dark:bg-blue-200 dark:text-blue-600 dark:hover:bg-blue-300",gray:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",failure:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",success:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300"}},color:{info:"text-blue-700 bg-blue-100 border-blue-500 dark:bg-blue-200 dark:text-blue-800",gray:"text-gray-700 bg-gray-100 border-gray-500 dark:bg-gray-700 dark:text-gray-300",failure:"text-red-700 bg-red-100 border-red-500 dark:bg-red-200 dark:text-red-800",success:"text-green-700 bg-green-100 border-green-500 dark:bg-green-200 dark:text-green-800",warning:"text-yellow-700 bg-yellow-100 border-yellow-500 dark:bg-yellow-200 dark:text-yellow-800"},icon:"mr-3 inline h-5 w-5 flex-shrink-0",rounded:"rounded-lg"},avatar:{base:"flex items-center space-x-4",bordered:"p-1 ring-2 ring-gray-300 dark:ring-gray-500",img:{off:"rounded relative overflow-hidden bg-gray-100 dark:bg-gray-600",on:"rounded"},rounded:"!rounded-full",size:{xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-20 h-20",xl:"w-36 h-36"},stacked:"ring-2 ring-gray-300 dark:ring-gray-500",status:{away:"bg-yellow-400",base:"absolute h-3.5 w-3.5 rounded-full border-2 border-white dark:border-gray-800",busy:"bg-red-400",offline:"bg-gray-400",online:"bg-green-400"},statusPosition:{"bottom-left":"-bottom-1 -left-1","bottom-center":"-botton-1 center","bottom-right":"-bottom-1 -right-1","top-left":"-top-1 -left-1","top-center":"-top-1 center","top-right":"-top-1 -right-1","center-right":"center -right-1",center:"center center","center-left":"center -left-1"}},badge:{base:"flex h-fit items-center gap-1 font-semibold",color:{info:"bg-blue-100 text-blue-800 dark:bg-blue-200 dark:text-blue-800 group-hover:bg-blue-200 dark:group-hover:bg-blue-300",gray:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 group-hover:bg-gray-200 dark:group-hover:bg-gray-600",failure:"bg-red-100 text-red-800 dark:bg-red-200 dark:text-red-900 group-hover:bg-red-200 dark:group-hover:bg-red-300",success:"bg-green-100 text-green-800 dark:bg-green-200 dark:text-green-900 group-hover:bg-green-200 dark:group-hover:bg-green-300",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-200 dark:text-yellow-900 group-hover:bg-yellow-200 dark:group-hover:bg-yellow-300",indigo:"bg-indigo-100 text-indigo-800 dark:bg-indigo-200 dark:text-indigo-900 group-hover:bg-indigo-200 dark:group-hover:bg-indigo-300",purple:"bg-purple-100 text-purple-800 dark:bg-purple-200 dark:text-purple-900 group-hover:bg-purple-200 dark:group-hover:bg-purple-300",pink:"bg-pink-100 text-pink-800 dark:bg-pink-200 dark:text-pink-900 group-hover:bg-pink-200 dark:group-hover:bg-pink-300"},href:"group",icon:{off:"rounded px-2 py-0.5",on:"rounded-full p-1.5",size:{xs:"w-3 h-3",sm:"w-3.5 h-3.5"}},size:{xs:"p-1 text-xs",sm:"p-1.5 text-sm"}},breadcrumb:{item:{base:"group flex items-center",chevron:"mx-1 h-6 w-6 text-gray-400 group-first:hidden md:mx-2",href:{off:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",on:"flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},icon:"mr-2 h-4 w-4"},list:"flex items-center"},button:{base:"group flex h-min items-center justify-center p-0.5 text-center font-medium focus:z-10",color:{dark:"text-white bg-gray-800 border border-transparent hover:bg-gray-900 focus:ring-4 focus:ring-gray-300 disabled:hover:bg-gray-800 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-800 dark:border-gray-700 dark:disabled:hover:bg-gray-800",failure:"text-white bg-red-700 border border-transparent hover:bg-red-800 focus:ring-4 focus:ring-red-300 disabled:hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900 dark:disabled:hover:bg-red-600",gray:"text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 hover:text-blue-700 disabled:hover:bg-white focus:ring-blue-700 focus:text-blue-700 dark:bg-transparent dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 focus:ring-2 dark:disabled:hover:bg-gray-800",info:"text-white bg-blue-700 border border-transparent hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 disabled:hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 dark:disabled:hover:bg-blue-600",light:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:ring-blue-300 disabled:hover:bg-white dark:bg-gray-600 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-700 dark:focus:ring-gray-700",purple:"text-white bg-purple-700 border border-transparent hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 disabled:hover:bg-purple-700 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900 dark:disabled:hover:bg-purple-600",success:"text-white bg-green-700 border border-transparent hover:bg-green-800 focus:ring-4 focus:ring-green-300 disabled:hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800 dark:disabled:hover:bg-green-600",warning:"text-white bg-yellow-400 border border-transparent hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 disabled:hover:bg-yellow-400 dark:focus:ring-yellow-900 dark:disabled:hover:bg-yellow-400"},disabled:"cursor-not-allowed opacity-50",gradient:{cyan:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",failure:"text-white bg-gradient-to-r from-red-400 via-red-500 to-red-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-red-300 dark:focus:ring-red-800",info:"text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800 ",lime:"text-gray-900 bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 hover:bg-gradient-to-br focus:ring-4 focus:ring-lime-300 dark:focus:ring-lime-800",pink:"text-white bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-pink-300 dark:focus:ring-pink-800",purple:"text-white bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 hover:bg-gradient-to-br focus:ring-4 focus:ring-purple-300 dark:focus:ring-purple-800",success:"text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-green-300 dark:focus:ring-green-800",teal:"text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4 focus:ring-teal-300 dark:focus:ring-teal-800"},gradientDuoTone:{cyanToBlue:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:ring-cyan-300 dark:focus:ring-cyan-800",greenToBlue:"text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-4 focus:ring-green-200 dark:focus:ring-green-800",pinkToOrange:"text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:ring-pink-200 dark:focus:ring-pink-800",purpleToBlue:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800",purpleToPink:"text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:bg-gradient-to-l focus:ring-4 focus:ring-purple-200 dark:focus:ring-purple-800",redToYellow:"text-gray-900 bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 hover:bg-gradient-to-bl focus:ring-4 focus:ring-red-100 dark:focus:ring-red-400",tealToLime:"text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l hover:from-teal-200 hover:to-lime-200 hover:!text-gray-900 focus:ring-4 focus:ring-lime-200 dark:focus:ring-teal-700"},inner:{base:"flex items-center",position:{none:"",start:"rounded-r-none",middle:"!rounded-none",end:"rounded-l-none"}},label:"ml-2 inline-flex h-4 w-4 items-center justify-center rounded-full bg-blue-200 text-xs font-semibold text-blue-800",outline:{color:{gray:"border border-gray-900 dark:border-white"},off:"",on:"bg-white text-gray-900 transition-all duration-75 ease-in group-hover:bg-opacity-0 group-hover:text-inherit dark:bg-gray-900 dark:text-white",pill:{off:"rounded-md",on:"rounded-full"}},pill:{off:"rounded-lg",on:"rounded-full"},size:{xs:"text-xs px-2 py-1",sm:"text-sm px-3 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-5 py-2.5",xl:"text-base px-6 py-3"}},buttonGroup:{base:"inline-flex",position:{none:"focus:!ring-2",start:"rounded-r-none",middle:"!rounded-none border-l-0 pl-0",end:"rounded-l-none border-l-0 pl-0"}},card:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700",img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},carousel:{base:"relative h-full w-full",indicators:{active:{off:"bg-white/50 hover:bg-white dark:bg-gray-800/50 dark:hover:bg-gray-800",on:"bg-white dark:bg-gray-800"},base:"h-3 w-3 rounded-full",wrapper:"absolute bottom-5 left-1/2 flex -translate-x-1/2 space-x-3"},item:{base:"absolute top-1/2 left-1/2 block w-full -translate-x-1/2 -translate-y-1/2",wrapper:"w-full flex-shrink-0 transform cursor-grab snap-center"},control:{base:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70 sm:h-10 sm:w-10",icon:"h-5 w-5 text-white dark:text-gray-800 sm:h-6 sm:w-6"},leftControl:"absolute top-0 left-0 flex h-full items-center justify-center px-4 focus:outline-none",rightControl:"absolute top-0 right-0 flex h-full items-center justify-center px-4 focus:outline-none",scrollContainer:{base:"flex h-full snap-mandatory overflow-y-hidden overflow-x-scroll scroll-smooth rounded-lg",snap:"snap-x"}},darkThemeToggle:{base:"rounded-lg p-2.5 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700",icon:"h-5 w-5"},dropdown:{floating:{target:"w-fit",base:"z-10 w-fit rounded divide-y divide-gray-100 shadow",animation:"transition-opacity",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},header:"block py-2 px-4 text-sm text-gray-700 dark:text-gray-200",content:"py-1 text-sm text-gray-700 dark:text-gray-200",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},item:{base:"flex items-center justify-start py-2 px-4 text-sm text-gray-700 cursor-pointer hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white",icon:"mr-2 h-4 w-4"},divider:"my-1 h-px bg-gray-100 dark:bg-gray-600"},arrowIcon:"ml-2 h-4 w-4",inlineWrapper:"flex items-center",content:"py-1"},footer:{base:"w-full rounded-lg bg-white shadow dark:bg-gray-800 md:flex md:items-center md:justify-between",container:"w-full p-6",bgDark:"bg-gray-800",groupLink:{base:"flex flex-wrap text-sm text-gray-500 dark:text-white",link:{base:"last:mr-0 md:mr-6",href:"hover:underline"},col:"flex-col space-y-4"},icon:{base:"text-gray-500 dark:hover:text-white",size:"h-5 w-5"},title:{base:"mb-6 text-sm font-semibold uppercase text-gray-500 dark:text-white"},divider:{base:"w-full my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8"},copyright:{base:"text-sm text-gray-500 dark:text-gray-400 sm:text-center",href:"ml-1 hover:underline",span:"ml-1"},brand:{base:"mb-4 flex items-center sm:mb-0",img:"mr-3 h-8",span:"self-center whitespace-nowrap text-2xl font-semibold text-gray-800 dark:text-white"}},formControls:{helperText:{base:"mt-2 text-sm",colors:{gray:"text-gray-500 dark:text-gray-400",info:"text-blue-700 dark:text-blue-800",success:"text-green-600 dark:text-green-500",failure:"text-red-600 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600"}},label:{base:"text-sm font-medium",colors:{default:"text-gray-900 dark:text-gray-300",info:"text-blue-500 dark:text-blue-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"},disabled:"opacity-50"},radio:{base:"h-4 w-4 border border-gray-300 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:focus:bg-blue-600 dark:focus:ring-blue-600"},checkbox:{base:"h-4 w-4 rounded border border-gray-300 bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600"},textInput:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},fileInput:{base:"flex",field:{base:"relative w-full",input:{base:"rounded-lg block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"sm:text-xs",md:"text-sm",lg:"sm:text-md"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},toggleSwitch:{base:"group relative flex items-center rounded-lg focus:outline-none",active:{on:"cursor-pointer",off:"cursor-not-allowed opacity-50"},toggle:{base:"toggle-bg h-6 w-11 rounded-full border group-focus:ring-4 group-focus:ring-blue-500/25",checked:{on:"border-blue-700 bg-blue-700 after:translate-x-full after:border-white",off:"border-gray-200 bg-gray-200 dark:border-gray-600 dark:bg-gray-700"}},label:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"},textarea:{base:"block w-full rounded-lg border disabled:cursor-not-allowed disabled:opacity-50",colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}},select:{base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"sm:text-md p-4"},colors:{gray:"bg-gray-50 border-gray-300 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",info:"border-blue-500 bg-blue-50 text-blue-900 placeholder-blue-700 focus:border-blue-500 focus:ring-blue-500 dark:border-blue-400 dark:bg-blue-100 dark:focus:border-blue-500 dark:focus:ring-blue-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}}},listGroup:{base:"list-none rounded-lg border border-gray-200 bg-white text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white",item:{active:{off:"hover:bg-gray-100 hover:text-blue-700 focus:text-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-700 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500",on:"bg-blue-700 text-white dark:bg-gray-800"},base:"flex w-full cursor-pointer border-b border-gray-200 py-2 px-4 first:rounded-t-lg last:rounded-b-lg last:border-b-0 dark:border-gray-600",href:{off:"",on:""},icon:"mr-2 h-4 w-4 fill-current"}},modal:{base:"fixed top-0 right-0 left-0 z-50 h-modal overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900 bg-opacity-50 dark:bg-opacity-80",off:"hidden"},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t dark:border-gray-600 border-b p-5",popup:"!p-2 !border-b-0",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},navbar:{base:"border-gray-200 bg-white px-2 py-2.5 dark:border-gray-700 dark:bg-gray-800 sm:px-4",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}},brand:"flex items-center",collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pr-4 pl-3 md:p-0",active:{on:"bg-blue-700 text-white dark:text-white md:bg-transparent md:text-blue-700",off:"border-b border-gray-100  text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:border-0 md:hover:bg-transparent md:hover:text-blue-700 md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden",icon:"h-6 w-6 shrink-0"}},rating:{base:"flex items-center",star:{sizes:{sm:"w-5 h-5",md:"w-7 h-7",lg:"w-10 h-10"},filled:"text-yellow-400",empty:"text-gray-300 dark:text-gray-500"},advanced:{base:"flex items-center",label:"text-sm font-medium text-blue-600 dark:text-blue-500",progress:{base:"mx-4 h-5 w-2/4 rounded bg-gray-200 dark:bg-gray-700",fill:"h-5 rounded bg-yellow-400",label:"text-sm font-medium text-blue-600 dark:text-blue-500"}}},pagination:{base:"",layout:{table:{base:"text-sm text-gray-700 dark:text-gray-400",span:"font-semibold text-gray-900 dark:text-white"}},pages:{base:"xs:mt-0 mt-2 inline-flex items-center -space-x-px",showIcon:"inline-flex",previous:{base:"ml-0 rounded-l-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5"},next:{base:"rounded-r-lg border border-gray-300 bg-white py-2 px-3 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5"},selector:{base:"w-12 border border-gray-300 bg-white py-2 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",active:"bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white"}}},sidebar:{base:"h-full",inner:"h-full overflow-y-auto overflow-x-hidden rounded bg-white py-4 px-3 dark:bg-gray-800",collapsed:{on:"w-16",off:"w-64"},collapse:{button:"group flex w-full items-center rounded-lg p-2 text-base font-normal text-gray-900 transition duration-75 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",icon:{base:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",open:{off:"",on:"text-gray-900"}},label:{base:"ml-3 flex-1 whitespace-nowrap text-left",icon:"h-6 w-6"},list:"space-y-2 py-2"},cta:{base:"mt-6 rounded-lg p-4",color:{blue:"bg-blue-50 dark:bg-blue-900",dark:"bg-dark-50 dark:bg-dark-900",failure:"bg-red-50 dark:bg-red-900",gray:"bg-alternative-50 dark:bg-alternative-900",green:"bg-green-50 dark:bg-green-900",light:"bg-light-50 dark:bg-light-900",red:"bg-red-50 dark:bg-red-900",purple:"bg-purple-50 dark:bg-purple-900",success:"bg-green-50 dark:bg-green-900",yellow:"bg-yellow-50 dark:bg-yellow-900",warning:"bg-yellow-50 dark:bg-yellow-900"}},item:{base:"flex items-center justify-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",active:"bg-gray-100 dark:bg-gray-700",collapsed:{insideCollapse:"group w-full pl-8 transition duration-75",noIcon:"font-bold"},content:{base:"px-3 flex-1 whitespace-nowrap"},icon:{base:"h-6 w-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",active:"text-gray-700 dark:text-gray-100"}},items:"",itemGroup:"mt-4 space-y-2 border-t border-gray-200 pt-4 first:mt-0 first:border-t-0 first:pt-0 dark:border-gray-700",logo:{base:"mb-5 flex items-center pl-2.5",collapsed:{on:"hidden",off:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},img:"mr-3 h-6 sm:h-7"}},progress:{base:"w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",label:"mb-1 flex justify-between font-medium dark:text-white",bar:"flex items-center justify-center rounded-full text-center font-medium leading-none text-blue-100",color:{dark:"bg-gray-600 dark:bg-gray-300",blue:"bg-blue-600",red:"bg-red-600 dark:bg-red-500",green:"bg-green-600 dark:bg-green-500",yellow:"bg-yellow-400",indigo:"bg-indigo-600 dark:bg-indigo-500",purple:"bg-purple-600 dark:bg-purple-500"},size:{sm:"h-1.5",md:"h-2.5",lg:"h-4",xl:"h-6"}},spinner:{base:"inline animate-spin text-gray-200",color:{failure:"fill-red-600",gray:"fill-gray-600",info:"fill-blue-600",pink:"fill-pink-600",purple:"fill-purple-600",success:"fill-green-500",warning:"fill-yellow-400"},light:{off:{base:"dark:text-gray-600",color:{failure:"",gray:"dark:fill-gray-300",info:"",pink:"",purple:"",success:"",warning:""}},on:{base:"",color:{failure:"",gray:"",info:"",pink:"",purple:"",success:"",warning:""}}},size:{xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-10 h-10"}},tab:{base:"flex flex-col gap-2",tablist:{base:"flex text-center",styles:{default:"flex-wrap border-b border-gray-200 dark:border-gray-700",underline:"flex-wrap -mb-px border-b border-gray-200 dark:border-gray-700",pills:"flex-wrap font-medium text-sm text-gray-500 dark:text-gray-400",fullWidth:"hidden text-sm font-medium rounded-lg divide-x divide-gray-200 shadow sm:flex dark:divide-gray-700 dark:text-gray-400"},tabitem:{base:"flex items-center justify-center p-4 text-sm font-medium first:ml-0 disabled:cursor-not-allowed disabled:text-gray-400 disabled:dark:text-gray-500",styles:{default:{base:"rounded-t-lg",active:{on:"bg-gray-100 text-blue-600 dark:bg-gray-800 dark:text-blue-500",off:"text-gray-500 hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:bg-gray-800  dark:hover:text-gray-300"}},underline:{base:"rounded-t-lg",active:{on:"text-blue-600 rounded-t-lg border-b-2 border-blue-600 active dark:text-blue-500 dark:border-blue-500",off:"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}},pills:{base:"",active:{on:"rounded-lg bg-blue-600 text-white",off:"rounded-lg hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 dark:hover:text-white"}},fullWidth:{base:"ml-2 first:ml-0 w-full first:rounded-l-lg last:rounded-r-lg",active:{on:"inline-block p-4 w-full text-gray-900 bg-gray-100 focus:ring-4 focus:ring-blue-300 active focus:outline-none dark:bg-gray-700 dark:text-white",off:"bg-white hover:text-gray-700 hover:bg-gray-50 focus:ring-4 focus:ring-blue-300 focus:outline-none dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"}}},icon:"mr-2 h-5 w-5"}},tabpanel:"p-4"},toast:{base:"flex w-full max-w-xs items-center rounded-lg bg-white p-4 text-gray-500 shadow dark:bg-gray-800 dark:text-gray-400",closed:"opacity-0 ease-out",removed:"hidden",toggle:{base:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-900 focus:ring-2 focus:ring-gray-300 dark:bg-gray-800 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5 shrink-0"}},tooltip:{target:"w-fit",base:"absolute inline-block rounded-lg py-2 px-3 text-sm font-medium shadow-sm",animation:"transition-opacity",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},content:"relative z-20",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"}}},et=(0,n.createContext)({theme:Ze});function tt(){return(0,n.useContext)(et)}var nt=(0,n.createContext)(void 0);function rt(){var e=(0,n.useContext)(nt);if(!e)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return e}var it=["children"],at=function(e){var t=e.children,n=Pe(e,it),r=Xe(n),i=rt().isOpen,a=tt().theme.accordion.content;return(0,Le.jsx)("div",Re(Re({className:a.base,"data-testid":"flowbite-accordion-content",hidden:!i},r),{},{children:t}))},ot=["children"],ut=function(e){var t=e.children,r=Pe(e,ot),i=r.alwaysOpen,a=x((0,n.useState)(r.isOpen),2),o=a[0],u=a[1],s=i?Re(Re({},r),{},{isOpen:o,setOpen:function(){return u(!o)}}):r;return(0,Le.jsx)(nt.Provider,{value:s,children:t})},st=["as","children"],ct=function(e){var t=e.as,n=void 0===t?"h2":t,r=e.children,i=Pe(e,st),a=Xe(i),o=rt(),u=o.arrowIcon,s=o.flush,c=o.isOpen,l=o.setOpen,f=tt().theme.accordion.title;return(0,Le.jsxs)("button",Re(Re({className:je()(f.base,f.flush[s?"on":"off"],f.open[c?"on":"off"]),onClick:function(){return"undefined"!==typeof l&&l()},type:"button"},a),{},{children:[(0,Le.jsx)(n,{className:f.heading,"data-testid":"flowbite-accordion-heading",children:r}),u&&(0,Le.jsx)(u,{"aria-hidden":!0,className:je()(f.arrow.base,f.arrow.open[c?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]}))},lt=["alwaysOpen","arrowIcon","children","flush"],ft=function(e){var t=e.alwaysOpen,r=void 0!==t&&t,i=e.arrowIcon,a=void 0===i?He:i,o=e.children,u=e.flush,s=void 0!==u&&u,c=Pe(e,lt),l=Xe(c),f=x((0,n.useState)(0),2),d=f[0],h=f[1],p=(0,n.useMemo)((function(){return n.Children.map(o,(function(e,t){return(0,n.cloneElement)(e,{alwaysOpen:r,arrowIcon:a,flush:s,isOpen:d===t,setOpen:function(){return h(t)}})}))}),[r,a,o,s,d]),v=tt().theme.accordion;return(0,Le.jsx)("div",Re(Re({className:je()(v.base,v.flush[s?"on":"off"]),"data-testid":"flowbite-accordion"},l),{},{children:p}))};ft.displayName="Accordion",ut.displayName="Accordion.Panel",ct.displayName="Accordion.Title",at.displayName="Accordion.Content";Object.assign(ft,{Panel:ut,Title:ct,Content:at});var dt=function(e){var t=e.children;return(0,Le.jsx)("div",{"data-testid":"avatar-group-element",className:"mb-5 flex -space-x-4",children:t})};dt.displayName="Avatar.Group";var ht=dt,pt=function(e){var t=e.total,n=e.href;return(0,Le.jsxs)("a",{className:"relative flex h-10 w-10 items-center justify-center rounded-full bg-gray-700 text-xs font-medium text-white ring-2 ring-gray-300 hover:bg-gray-600  dark:ring-gray-500 ",href:n,children:["+",t]})};pt.displayName="Avatar.GroupCounter";var vt=pt,gt=["alt","bordered","children","img","rounded","size","stacked","status","statusPosition"],mt=function(e){var t=e.alt,n=void 0===t?"":t,r=e.bordered,i=void 0!==r&&r,a=e.children,o=e.img,u=e.rounded,s=void 0!==u&&u,c=e.size,l=void 0===c?"md":c,f=e.stacked,d=void 0!==f&&f,h=e.status,p=e.statusPosition,v=void 0===p?"top-left":p,g=Pe(e,gt),m=Xe(g),y=tt().theme.avatar;return(0,Le.jsxs)("div",Re(Re({className:y.base,"data-testid":"flowbite-avatar"},m),{},{children:[(0,Le.jsxs)("div",{className:"relative",children:[o?(0,Le.jsx)("img",{alt:n,className:je()(i&&y.bordered,s&&y.rounded,d&&y.stacked,y.img.on,y.size[l]),"data-testid":"flowbite-avatar-img",src:o}):(0,Le.jsx)("div",{className:je()(i&&y.bordered,s&&y.rounded,d&&y.stacked,y.img.off,y.size[l]),"data-testid":"flowbite-avatar-img",children:(0,Le.jsx)("svg",{className:"absolute -bottom-1 h-auto w-auto text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Le.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),h&&(0,Le.jsx)("span",{className:je()(y.status.base,y.status[h],y.statusPosition[v])})]}),a&&(0,Le.jsx)("div",{children:a})]}))};mt.displayName="Avatar";Object.assign(mt,{Group:ht,Counter:vt});var yt=["children","color","href","icon","size"],bt=function(e){var t=e.children,n=e.color,r=void 0===n?"info":n,i=e.href,a=e.icon,o=e.size,u=void 0===o?"xs":o,s=Pe(e,yt),c=Xe(s),l=tt().theme.badge,f=function(){return(0,Le.jsxs)("span",Re(Re({className:je()(l.base,l.color[r],l.icon[a?"on":"off"],l.size[u]),"data-testid":"flowbite-badge"},c),{},{children:[a&&(0,Le.jsx)(a,{"aria-hidden":!0,className:l.icon.size[u],"data-testid":"flowbite-badge-icon"}),t&&(0,Le.jsx)("span",{children:t})]}))};return i?(0,Le.jsx)("a",{className:l.href,href:i,children:(0,Le.jsx)(f,{})}):(0,Le.jsx)(f,{})},kt=["children","href","icon"],wt=function(e){var t=e.children,n=e.href,r=e.icon,i=Pe(e,kt),a="undefined"!==typeof n,o=Xe(i),u=tt().theme.breadcrumb.item,s=a?"a":"span";return(0,Le.jsxs)("li",Re(Re({className:u.base},o),{},{children:[(0,Le.jsx)(Ye,{"aria-hidden":!0,className:u.chevron,"data-testid":"flowbite-breadcrumb-separator"}),(0,Le.jsxs)(s,{className:u.href[a?"on":"off"],"data-testid":"flowbite-breadcrumb-item",href:n,children:[r&&(0,Le.jsx)(r,{"aria-hidden":!0,className:u.icon}),t]})]}))};wt.displayName="Breadcrumb.Item";var xt=wt,_t=["children"],It=function(e){var t=e.children,n=Pe(e,_t),r=tt().theme.breadcrumb;return(0,Le.jsx)("nav",Re(Re({"aria-label":"Breadcrumb"},n),{},{children:(0,Le.jsx)("ol",{className:r.list,children:t})}))};It.displayName="Breadcrumb";Object.assign(It,{Item:xt});var St=["children","outline","pill"],Et=function(e){var t=e.children,r=e.outline,i=e.pill,a=Pe(e,St),o=Xe(a),u=(0,n.useMemo)((function(){return n.Children.map(t,(function(e,a){return(0,n.cloneElement)(e,{outline:r,pill:i,positionInGroup:0===a?"start":a===t.length-1?"end":"middle"})}))}),[t,r,i]),s=tt().theme.buttonGroup;return(0,Le.jsx)("div",Re(Re({className:s.base,role:"group"},o),{},{children:u}))};Et.displayName="Button.Group";var Tt=Et,Ct=["children","color","disabled","gradientDuoTone","gradientMonochrome","href","label","outline","pill","positionInGroup","size"],Nt=function(e){var t=e.children,n=e.color,r=void 0===n?"info":n,i=e.disabled,a=void 0!==i&&i,o=e.gradientDuoTone,u=e.gradientMonochrome,s=e.href,c=e.label,l=e.outline,f=void 0!==l&&l,d=e.pill,h=void 0!==d&&d,p=e.positionInGroup,v=void 0===p?"none":p,g=e.size,m=void 0===g?"md":g,y=Pe(e,Ct),b="undefined"!==typeof s,k=Xe(y),w=tt().theme,x=w.buttonGroup,_=w.button,I=b?"a":"button";return(0,Le.jsx)(I,Re(Re({className:je()(a&&_.disabled,!o&&!u&&_.color[r],o&&!u&&_.gradientDuoTone[o],!o&&u&&_.gradient[u],x.position[v],f&&_.outline.color[r],_.base,_.pill[h?"on":"off"]),disabled:a,href:s,type:b?void 0:"button"},k),{},{children:(0,Le.jsx)("span",{className:je()(_.inner.base,_.inner.position[v],_.outline[f?"on":"off"],_.outline.pill[f&&h?"on":"off"],_.size[m]),children:(0,Le.jsxs)(Le.Fragment,{children:["undefined"!==typeof t&&t,"undefined"!==typeof c&&(0,Le.jsx)("span",{className:_.label,"data-testid":"flowbite-button-label",children:c})]})})}))};Nt.displayName="Button";var At,Dt=Object.assign(Nt,{Group:Tt}),Ot=function(e,t){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},Rt=(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var a=typeof i;if("string"===a||"number"===a)e.push(i);else if(Array.isArray(i)&&i.length){var o=n.apply(null,i);o&&e.push(o)}else if("object"===a)for(var u in i)t.call(i,u)&&i[u]&&e.push(u)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(At={path:undefined,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&At.path)}},At.exports),At.exports);function Pt(e,t,n){var r,i,a,o,u;function s(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(s,t-c):(r=null,n||(u=e.apply(a,i),a=i=null))}null==t&&(t=100);var c=function(){a=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(s,t)),c&&(u=e.apply(a,i),a=i=null),u};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(u=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},c}Pt.debounce=Pt;var Lt=Pt;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".indiana-scroll-container {\n  overflow: auto; }\n  .indiana-scroll-container--dragging {\n    scroll-behavior: auto !important; }\n    .indiana-scroll-container--dragging > * {\n      pointer-events: none;\n      cursor: -webkit-grab;\n      cursor: grab; }\n  .indiana-scroll-container--hide-scrollbars {\n    overflow: hidden;\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    scrollbar-width: none; }\n    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {\n      display: none !important;\n      height: 0 !important;\n      width: 0 !important;\n      background: transparent !important;\n      -webkit-appearance: none !important; }\n  .indiana-scroll-container--native-scroll {\n    overflow: auto; }\n\n.indiana-dragging {\n  cursor: -webkit-grab;\n  cursor: grab; }\n");var Mt,jt=(Mt="indiana-scroll-container",function(e,t){if(!e)return Mt;var n;"string"==typeof e?n=e:t=e;var r=Mt;return n&&(r+="__"+n),r+(t?Object.keys(t).reduce((function(e,n){var i=t[n];return i&&(e+=" "+("boolean"==typeof i?r+"--"+n:r+"--"+n+"_"+i)),e}),""):"")});!function(e){function t(t){var r=e.call(this,t)||this;return r.onEndScroll=function(){r.scrolling=!1,!r.pressed&&r.started&&r.processEnd()},r.onScroll=function(e){var t=r.container.current;t.scrollLeft===r.scrollLeft&&t.scrollTop===r.scrollTop||(r.scrolling=!0,r.processScroll(e),r.onEndScroll())},r.onTouchStart=function(e){var t=r.props.nativeMobileScroll;if(r.isDraggable(e.target))if(r.internal=!0,t&&r.scrolling)r.pressed=!0;else{var n=e.touches[0];r.processClick(e,n.clientX,n.clientY),!t&&r.props.stopPropagation&&e.stopPropagation()}},r.onTouchEnd=function(e){var t=r.props.nativeMobileScroll;r.pressed&&(!r.started||r.scrolling&&t?r.pressed=!1:r.processEnd(),r.forceUpdate())},r.onTouchMove=function(e){var t=r.props.nativeMobileScroll;if(r.pressed&&(!t||!r.isMobile)){var n=e.touches[0];n&&r.processMove(e,n.clientX,n.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation()}},r.onMouseDown=function(e){r.isDraggable(e.target)&&r.isScrollable()&&(r.internal=!0,-1!==r.props.buttons.indexOf(e.button)&&(r.processClick(e,e.clientX,e.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation()))},r.onMouseMove=function(e){r.pressed&&(r.processMove(e,e.clientX,e.clientY),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation())},r.onMouseUp=function(e){r.pressed&&(r.started?r.processEnd():(r.internal=!1,r.pressed=!1,r.forceUpdate(),r.props.onClick&&r.props.onClick(e)),e.preventDefault(),r.props.stopPropagation&&e.stopPropagation())},r.container=n.createRef(),r.onEndScroll=Lt(r.onEndScroll,300),r.scrolling=!1,r.started=!1,r.pressed=!1,r.internal=!1,r.getRef=r.getRef.bind(r),r}(function(e,t){function n(){this.constructor=e}Ot(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.componentDidMount=function(){var e=this.props.nativeMobileScroll,t=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("touchstart",this.onTouchStart,{passive:!1}),t.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},t.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},t.prototype.getElement=function(){return this.container.current},t.prototype.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},t.prototype.isDraggable=function(e){var t=this.props.ignoreElements;if(t){var n=e.closest(t);return null===n||n.contains(this.getElement())}return!0},t.prototype.isScrollable=function(){var e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)},t.prototype.processClick=function(e,t,n){var r=this.container.current;this.scrollLeft=r.scrollLeft,this.scrollTop=r.scrollTop,this.clientX=t,this.clientY=n,this.pressed=!0},t.prototype.processStart=function(e){void 0===e&&(e=!0);var t=this.props.onStartScroll;this.started=!0,e&&document.body.classList.add("indiana-dragging"),t&&t({external:!this.internal}),this.forceUpdate()},t.prototype.processScroll=function(e){if(this.started){var t=this.props.onScroll;t&&t({external:!this.internal})}else this.processStart(!1)},t.prototype.processMove=function(e,t,n){var r=this.props,i=r.horizontal,a=r.vertical,o=r.activationDistance,u=r.onScroll,s=this.container.current;this.started?(i&&(s.scrollLeft-=t-this.clientX),a&&(s.scrollTop-=n-this.clientY),u&&u({external:!this.internal}),this.clientX=t,this.clientY=n,this.scrollLeft=s.scrollLeft,this.scrollTop=s.scrollTop):(i&&Math.abs(t-this.clientX)>o||a&&Math.abs(n-this.clientY)>o)&&(this.clientX=t,this.clientY=n,this.processStart())},t.prototype.processEnd=function(){var e=this.props.onEndScroll;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},t.prototype.getRef=function(e){[this.container,this.props.innerRef].forEach((function(t){t&&("function"==typeof t?t(e):t.current=e)}))},t.prototype.render=function(){var e=this.props,t=e.children,r=e.draggingClassName,i=e.className,a=e.style,o=e.hideScrollbars,u=e.component;return n.createElement(u,{className:Rt(i,this.pressed&&r,jt({dragging:this.pressed,"hide-scrollbars":o,"native-scroll":this.isMobile})),style:a,ref:this.getRef,onScroll:this.onScroll},t)},t.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]}}(n.PureComponent);function Ft(){Ft=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=w(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=h.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==g(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=h,u(y,"constructor",h),u(h,"constructor",d),d.displayName=u(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ut(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Vt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ut(a,r,i,o,u,"next",e)}function u(e){Ut(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Bt=["alignment","allowedPlacements","autoAlignment"],zt=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"],qt=["mainAxis","crossAxis","limiter"];function Kt(e){return e.split("-")[0]}function Ht(e){return e.split("-")[1]}function Gt(e){return["top","bottom"].includes(Kt(e))?"x":"y"}function Wt(e){return"y"===e?"height":"width"}function Qt(e,t,n){var r,i=e.reference,a=e.floating,o=i.x+i.width/2-a.width/2,u=i.y+i.height/2-a.height/2,s=Gt(t),c=Wt(s),l=i[c]/2-a[c]/2,f="x"===s;switch(Kt(t)){case"top":r={x:o,y:i.y-a.height};break;case"bottom":r={x:o,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:u};break;case"left":r={x:i.x-a.width,y:u};break;default:r={x:i.x,y:i.y}}switch(Ht(t)){case"start":r[s]-=l*(n&&f?-1:1);break;case"end":r[s]+=l*(n&&f?-1:1)}return r}var Yt=function(){var e=Vt(Ft().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,g,m,y,b,k,w,x,_,I,S,E,T,C;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.placement,a=void 0===i?"bottom":i,o=r.strategy,u=void 0===o?"absolute":o,s=r.middleware,c=void 0===s?[]:s,l=r.platform,e.next=9,null==l.isRTL?void 0:l.isRTL(n);case 9:return f=e.sent,e.next=12,l.getElementRects({reference:t,floating:n,strategy:u});case 12:d=e.sent,h=Qt(d,a,f),p=h.x,v=h.y,g=a,m={},y=0,b=0;case 20:if(!(b<c.length)){e.next=55;break}return w=c[b],x=w.name,_=w.fn,e.next=26,_({x:p,y:v,initialPlacement:a,placement:g,strategy:u,middlewareData:m,rects:d,platform:l,elements:{reference:t,floating:n}});case 26:if(I=e.sent,S=I.x,E=I.y,T=I.data,C=I.reset,p=null!=S?S:p,v=null!=E?E:v,m=Re(Re({},m),{},De({},x,Re(Re({},m[x]),T))),e.t0=C&&y<=50,!e.t0){e.next=52;break}if(y++,e.t1="object"==typeof C,!e.t1){e.next=51;break}if(C.placement&&(g=C.placement),e.t2=C.rects,!e.t2){e.next=50;break}if(!0!==C.rects){e.next=48;break}return e.next=45,l.getElementRects({reference:t,floating:n,strategy:u});case 45:e.t3=e.sent,e.next=49;break;case 48:e.t3=C.rects;case 49:d=e.t3;case 50:k=Qt(d,g,f),p=k.x,v=k.y;case 51:b=-1;case 52:b++,e.next=20;break;case 55:return e.abrupt("return",{x:p,y:v,placement:g,strategy:u,middlewareData:m});case 56:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function $t(e){return"number"!=typeof e?function(e){return Re({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Xt(e){return Re(Re({},e),{},{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}function Jt(e,t){return Zt.apply(this,arguments)}function Zt(){return Zt=Vt(Ft().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,d,h,p,v,g,m,y,b,k,w,x,_;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),i=t.x,a=t.y,o=t.platform,u=t.rects,s=t.elements,c=t.strategy,f=(l=n).boundary,d=void 0===f?"clippingAncestors":f,h=l.rootBoundary,p=void 0===h?"viewport":h,v=l.elementContext,g=void 0===v?"floating":v,m=l.altBoundary,y=void 0!==m&&m,b=l.padding,k=$t(void 0===b?0:b),w=s[y?"floating"===g?"reference":"floating":g],e.t0=Xt,e.t1=o,e.next=24,null==o.isElement?void 0:o.isElement(w);case 24:if(e.t3=r=e.sent,e.t2=null==e.t3,e.t2){e.next=28;break}e.t2=r;case 28:if(!e.t2){e.next=32;break}e.t4=w,e.next=38;break;case 32:if(e.t5=w.contextElement,e.t5){e.next=37;break}return e.next=36,null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating);case 36:e.t5=e.sent;case 37:e.t4=e.t5;case 38:return e.t6=e.t4,e.t7=d,e.t8=p,e.t9=c,e.t10={element:e.t6,boundary:e.t7,rootBoundary:e.t8,strategy:e.t9},e.next=45,e.t1.getClippingRect.call(e.t1,e.t10);case 45:if(e.t11=e.sent,x=(0,e.t0)(e.t11),e.t12=Xt,!o.convertOffsetParentRelativeRectToViewportRelativeRect){e.next=61;break}return e.t14=o,e.t15="floating"===g?Re(Re({},u.floating),{},{x:i,y:a}):u.reference,e.next=53,null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating);case 53:return e.t16=e.sent,e.t17=c,e.t18={rect:e.t15,offsetParent:e.t16,strategy:e.t17},e.next=58,e.t14.convertOffsetParentRelativeRectToViewportRelativeRect.call(e.t14,e.t18);case 58:e.t13=e.sent,e.next=62;break;case 61:e.t13=u[g];case 62:return e.t19=e.t13,_=(0,e.t12)(e.t19),e.abrupt("return",{top:x.top-_.top+k.top,bottom:_.bottom-x.bottom+k.bottom,left:x.left-_.left+k.left,right:_.right-x.right+k.right});case 65:case"end":return e.stop()}}),e)}))),Zt.apply(this,arguments)}var en=Math.min,tn=Math.max;function nn(e,t,n){return tn(e,en(t,n))}var rn={left:"right",right:"left",bottom:"top",top:"bottom"};function an(e){return e.replace(/left|right|bottom|top/g,(function(e){return rn[e]}))}function on(e,t,n){void 0===n&&(n=!1);var r=Ht(e),i=Gt(e),a=Wt(i),o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=an(o)),{main:o,cross:an(o)}}var un={start:"end",end:"start"};function sn(e){return e.replace(/start|end/g,(function(e){return un[e]}))}var cn=["top","right","bottom","left"],ln=cn.reduce((function(e,t){return e.concat(t,t+"-start",t+"-end")}),[]);function fn(e){return"x"===e?"y":"x"}function dn(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function hn(e){if(null==e)return window;if(!dn(e)){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function pn(e){return hn(e).getComputedStyle(e)}function vn(e){return dn(e)?"":e?(e.nodeName||"").toLowerCase():""}function gn(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function mn(e){return e instanceof hn(e).HTMLElement}function yn(e){return e instanceof hn(e).Element}function bn(e){return"undefined"!=typeof ShadowRoot&&(e instanceof hn(e).ShadowRoot||e instanceof ShadowRoot)}function kn(e){var t=pn(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function wn(e){return["table","td","th"].includes(vn(e))}function xn(e){var t=/firefox/i.test(gn()),n=pn(e);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||t&&"filter"===n.willChange||t&&!!n.filter&&"none"!==n.filter}function _n(){return!/^((?!chrome|android).)*safari/i.test(gn())}var In=Math.min,Sn=Math.max,En=Math.round;function Tn(e,t,n){var r,i,a,o;void 0===t&&(t=!1),void 0===n&&(n=!1);var u=e.getBoundingClientRect(),s=1,c=1;t&&mn(e)&&(s=e.offsetWidth>0&&En(u.width)/e.offsetWidth||1,c=e.offsetHeight>0&&En(u.height)/e.offsetHeight||1);var l=yn(e)?hn(e):window,f=!_n()&&n,d=(u.left+(f&&null!=(r=null==(i=l.visualViewport)?void 0:i.offsetLeft)?r:0))/s,h=(u.top+(f&&null!=(a=null==(o=l.visualViewport)?void 0:o.offsetTop)?a:0))/c,p=u.width/s,v=u.height/c;return{width:p,height:v,top:h,right:d+p,bottom:h+v,left:d,x:d,y:h}}function Cn(e){return(t=e,(t instanceof hn(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function Nn(e){return yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function An(e){return Tn(Cn(e)).left+Nn(e).scrollLeft}function Dn(e,t,n){var r=mn(t),i=Cn(t),a=Tn(e,r&&function(e){var t=Tn(e);return En(t.width)!==e.offsetWidth||En(t.height)!==e.offsetHeight}(t),"fixed"===n),o={scrollLeft:0,scrollTop:0},u={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==vn(t)||kn(i))&&(o=Nn(t)),mn(t)){var s=Tn(t,!0);u.x=s.x+t.clientLeft,u.y=s.y+t.clientTop}else i&&(u.x=An(i));return{x:a.left+o.scrollLeft-u.x,y:a.top+o.scrollTop-u.y,width:a.width,height:a.height}}function On(e){return"html"===vn(e)?e:e.assignedSlot||e.parentNode||(bn(e)?e.host:null)||Cn(e)}function Rn(e){return mn(e)&&"fixed"!==pn(e).position?e.offsetParent:null}function Pn(e){for(var t=hn(e),n=Rn(e);n&&wn(n)&&"static"===pn(n).position;)n=Rn(n);return n&&("html"===vn(n)||"body"===vn(n)&&"static"===pn(n).position&&!xn(n))?t:n||function(e){var t=On(e);for(bn(t)&&(t=t.host);mn(t)&&!["html","body"].includes(vn(t));){if(xn(t))return t;var n=t.parentNode;t=bn(n)?n.host:n}return null}(e)||t}function Ln(e){if(mn(e))return{width:e.offsetWidth,height:e.offsetHeight};var t=Tn(e);return{width:t.width,height:t.height}}function Mn(e){var t=On(e);return["html","body","#document"].includes(vn(t))?e.ownerDocument.body:mn(t)&&kn(t)?t:Mn(t)}function jn(e,t){var n;void 0===t&&(t=[]);var r=Mn(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=hn(r),o=i?[a].concat(a.visualViewport||[],kn(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(jn(o))}function Fn(e,t,n){return"viewport"===t?Xt(function(e,t){var n=hn(e),r=Cn(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,u=0,s=0;if(i){a=i.width,o=i.height;var c=_n();(c||!c&&"fixed"===t)&&(u=i.offsetLeft,s=i.offsetTop)}return{width:a,height:o,x:u,y:s}}(e,n)):yn(t)?function(e,t){var n=Tn(e,!1,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft;return{top:r,left:i,x:i,y:r,right:i+e.clientWidth,bottom:r+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(t,n):Xt(function(e){var t,n=Cn(e),r=Nn(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=Sn(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Sn(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+An(e),s=-r.scrollTop;return"rtl"===pn(i||n).direction&&(u+=Sn(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(Cn(e)))}var Un={getClippingRect:function(e){var t=e.element,n=e.boundary,r=e.rootBoundary,i=e.strategy,a=[].concat(s("clippingAncestors"===n?function(e){var t=jn(e),n=["absolute","fixed"].includes(pn(e).position)&&mn(e)?Pn(e):e;return yn(n)?t.filter((function(e){return yn(e)&&function(e,t){var n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&bn(n)){var r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}(e,n)&&"body"!==vn(e)})):[]}(t):[].concat(n)),[r]),o=a[0],u=a.reduce((function(e,n){var r=Fn(t,n,i);return e.top=Sn(r.top,e.top),e.right=In(r.right,e.right),e.bottom=In(r.bottom,e.bottom),e.left=Sn(r.left,e.left),e}),Fn(t,o,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){var t=e.rect,n=e.offsetParent,r=e.strategy,i=mn(n),a=Cn(n);if(n===a)return t;var o={scrollLeft:0,scrollTop:0},u={x:0,y:0};if((i||!i&&"fixed"!==r)&&(("body"!==vn(n)||kn(a))&&(o=Nn(n)),mn(n))){var s=Tn(n,!0);u.x=s.x+n.clientLeft,u.y=s.y+n.clientTop}return Re(Re({},t),{},{x:t.x-o.scrollLeft+u.x,y:t.y-o.scrollTop+u.y})},isElement:yn,getDimensions:Ln,getOffsetParent:Pn,getDocumentElement:Cn,getElementRects:function(e){var t=e.reference,n=e.floating,r=e.strategy;return{reference:Dn(t,Pn(n),r),floating:Re(Re({},Ln(n)),{},{x:0,y:0})}},getClientRects:function(e){return Array.from(e.getClientRects())},isRTL:function(e){return"rtl"===pn(e).direction}};var Vn=__webpack_require__(164),Bn="undefined"!==typeof document?n.useLayoutEffect:n.useEffect;function zn(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;var n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!==r--;)if(!zn(e[r],t[r]))return!1;return!0}if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){var a=i[r];if(("_owner"!==a||!e.$$typeof)&&!zn(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function qn(e){var t=void 0===e?{}:e,r=t.middleware,i=t.placement,a=void 0===i?"bottom":i,o=t.strategy,u=void 0===o?"absolute":o,s=t.whileElementsMounted,c=x(n.useState({x:null,y:null,strategy:u,placement:a,middlewareData:{}}),2),l=c[0],f=c[1],d=x(n.useState(r),2),h=d[0],p=d[1];zn(null==h?void 0:h.map((function(e){return{name:e.name,options:e.options}})),null==r?void 0:r.map((function(e){return{name:e.name,options:e.options}})))||p(r);var v=n.useRef(null),g=n.useRef(null),m=n.useRef(null),y=n.useRef(l),b=function(e){var t=n.useRef(e);return Bn((function(){t.current=e})),t}(s),k=n.useCallback((function(){v.current&&g.current&&function(e,t,n){return Yt(e,t,Re({platform:Un},n))}(v.current,g.current,{middleware:h,placement:a,strategy:u}).then((function(e){w.current&&!zn(y.current,e)&&(y.current=e,Vn.flushSync((function(){f(e)})))}))}),[h,a,u]);Bn((function(){w.current&&k()}),[k]);var w=n.useRef(!1);Bn((function(){return w.current=!0,function(){w.current=!1}}),[]);var _=n.useCallback((function(){if("function"===typeof m.current&&(m.current(),m.current=null),v.current&&g.current)if(b.current){var e=b.current(v.current,g.current,k);m.current=e}else k()}),[k,b]),I=n.useCallback((function(e){v.current=e,_()}),[_]),S=n.useCallback((function(e){g.current=e,_()}),[_]),E=n.useMemo((function(){return{reference:v,floating:g}}),[]);return n.useMemo((function(){return Re(Re({},l),{},{update:k,refs:E,reference:I,floating:S})}),[l,k,E,I,S])}var Kn="undefined"!==typeof document?n.useLayoutEffect:n.useEffect;function Hn(){var e=new Map;return{emit:function(t,n){var r;null==(r=e.get(t))||r.forEach((function(e){return e(n)}))},on:function(t,n){e.set(t,[].concat(s(e.get(t)||[]),[n]))},off:function(t,n){e.set(t,(e.get(t)||[]).filter((function(e){return e!==n})))}}}var Gn=!1,Wn=0,Qn=function(){return"floating-ui-"+Wn++};var Yn=r["useId".toString()],$n=null!=Yn?Yn:function(){var e=x(n.useState((function(){return Gn?Qn():void 0})),2),t=e[0],r=e[1];return Kn((function(){null==t&&r(Qn())}),[]),n.useEffect((function(){Gn||(Gn=!0)}),[]),t},Xn=n.createContext(null),Jn=n.createContext(null),Zn=function(){var e,t;return null!=(e=null==(t=n.useContext(Xn))?void 0:t.id)?e:null},er=function(){return n.useContext(Jn)};function tr(e){var t;return null!=(t=null==e?void 0:e.ownerDocument)?t:document}function nr(e){var t;return null!=(t=tr(e).defaultView)?t:window}function rr(e){return!!e&&e instanceof nr(e).Element}function ir(e){return!!e&&e instanceof nr(e).HTMLElement}var ar=r["useInsertionEffect".toString()];function or(e){var t=n.useRef((function(){0}));return ar?ar((function(){t.current=e})):t.current=e,n.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current.apply(t,n)}),[])}function ur(e,t,n){var r=new Map;return Re(Re(Re({},"floating"===n&&{tabIndex:-1}),e),t.map((function(e){return e?e[n]:null})).concat(e).reduce((function(e,t){return t?(Object.entries(t).forEach((function(t){var n,i=x(t,2),a=i[0],o=i[1];0===a.indexOf("on")?(r.has(a)||r.set(a,[]),"function"===typeof o&&(null==(n=r.get(a))||n.push(o),e[a]=function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];null==(e=r.get(a))||e.forEach((function(e){return e.apply(void 0,n)}))})):e[a]=o})),e):e}),{}))}var sr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function cr(e){return ir(e)&&e.matches(sr)}function lr(e){var t=(0,n.useRef)(e);return Kn((function(){t.current=e})),t}function fr(e){var t=(0,n.useRef)();return Kn((function(){t.current=e}),[e]),t.current}function dr(e,t,n){return n&&"mouse"!==n?0:"number"===typeof e?e:null==e?void 0:e[t]}var hr=function(e,t){var r=void 0===t?{}:t,i=r.enabled,a=void 0===i||i,o=r.delay,u=void 0===o?0:o,s=r.handleClose,c=void 0===s?null:s,l=r.mouseOnly,f=void 0!==l&&l,d=r.restMs,h=void 0===d?0:d,p=r.move,v=void 0===p||p,g=e.open,m=e.onOpenChange,y=e.dataRef,b=e.events,k=e.refs,w=e._,x=er(),_=Zn(),I=lr(c),S=lr(u),E=fr(g),T=n.useRef(),C=n.useRef(),N=n.useRef(),A=n.useRef(),D=n.useRef(!0),O=n.useRef(!1),R=n.useCallback((function(){var e,t=null==(e=y.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[y]);n.useEffect((function(){if(a)return b.on("dismiss",e),function(){b.off("dismiss",e)};function e(){clearTimeout(C.current),clearTimeout(A.current),D.current=!0}}),[a,b,k]),n.useEffect((function(){if(a&&I.current){var e=tr(k.floating.current).documentElement;return e.addEventListener("mouseleave",t),function(){e.removeEventListener("mouseleave",t)}}function t(){R()&&m(!1)}}),[k,m,a,I,y,R]);var P=n.useCallback((function(e){void 0===e&&(e=!0);var t=dr(S.current,"close",T.current);t&&!N.current?(clearTimeout(C.current),C.current=setTimeout((function(){return m(!1)}),t)):e&&(clearTimeout(C.current),m(!1))}),[S,m]),L=n.useCallback((function(){N.current&&(tr(k.floating.current).removeEventListener("pointermove",N.current),N.current=void 0)}),[k]),M=n.useCallback((function(){tr(k.floating.current).body.style.pointerEvents="",O.current=!1}),[k]);if(n.useEffect((function(){if(a){var t=k.floating.current,n=k.domReference.current;return rr(n)?(g&&n.addEventListener("mouseleave",u),null==t||t.addEventListener("mouseleave",u),v&&n.addEventListener("mousemove",i,{once:!0}),n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",o),function(){g&&n.removeEventListener("mouseleave",u),null==t||t.removeEventListener("mouseleave",u),v&&n.removeEventListener("mousemove",i),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",o)}):void 0}function r(){return!!y.current.openEvent&&["click","mousedown"].includes(y.current.openEvent.type)}function i(e){if(clearTimeout(C.current),D.current=!1,!(f&&"mouse"!==T.current||h>0&&0===dr(S.current,"open"))){y.current.openEvent=e;var t=dr(S.current,"open",T.current);t?C.current=setTimeout((function(){m(!0)}),t):m(!0)}}function o(t){if(!r()){var n=tr(k.floating.current);if(clearTimeout(A.current),I.current)return clearTimeout(C.current),N.current&&n.removeEventListener("pointermove",N.current),N.current=I.current(Re(Re({},e),{},{tree:x,x:t.clientX,y:t.clientY,onClose:function(){M(),L(),P()}})),void n.addEventListener("pointermove",N.current);P()}}function u(t){r()||null==I.current||I.current(Re(Re({},e),{},{tree:x,x:t.clientX,y:t.clientY,leave:!0,onClose:function(){M(),L(),P()}}))(t)}}),[w.domReference,a,e,f,h,v,P,L,M,m,g,x,k,S,I,y]),Kn((function(){if(a&&g&&I.current&&I.current.__options.blockPointerEvents&&R()){tr(k.floating.current).body.style.pointerEvents="none",O.current=!0;var e=k.domReference.current,t=k.floating.current;if(rr(e)&&t){var n,r,i=null==x||null==(n=x.nodesRef.current.find((function(e){return e.id===_})))||null==(r=n.context)?void 0:r.refs.floating.current;return i&&(i.style.pointerEvents=""),e.style.pointerEvents="auto",t.style.pointerEvents="auto",function(){e.style.pointerEvents="",t.style.pointerEvents=""}}}}),[a,g,_,k,x,I,y,R]),Kn((function(){E&&!g&&(T.current=void 0,L(),M())})),n.useEffect((function(){return function(){L(),clearTimeout(C.current),clearTimeout(A.current),O.current&&M()}}),[a,L,M]),!a)return{};function j(e){T.current=e.pointerType}return{reference:{onPointerDown:j,onPointerEnter:j,onMouseMove:function(){g||0===h||(clearTimeout(A.current),A.current=setTimeout((function(){D.current||m(!0)}),h))}},floating:{onMouseEnter:function(){clearTimeout(C.current)},onMouseLeave:function(){P(!1)}}}};var pr=function(e,t){var n=e.open,r=void 0===t?{}:t,i=r.enabled,a=void 0===i||i,o=r.role,u=void 0===o?"dialog":o,s=$n(),c=$n(),l={id:s,role:u};return a?"tooltip"===u?{reference:{"aria-describedby":n?s:void 0},floating:l}:{reference:Re(Re({"aria-expanded":n?"true":"false","aria-haspopup":"alertdialog"===u?"dialog":u,"aria-controls":n?s:void 0},"listbox"===u&&{role:"combobox"}),"menu"===u&&{id:c}),floating:Re(Re({},l),"menu"===u&&{"aria-labelledby":c})}:{}};function vr(e){return ir(e.target)&&"BUTTON"===e.target.tagName}var gr=function(e,t){var r=e.open,i=e.onOpenChange,a=e.dataRef,o=e.refs,u=void 0===t?{}:t,s=u.enabled,c=void 0===s||s,l=u.pointerDown,f=void 0!==l&&l,d=u.toggle,h=void 0===d||d,p=u.ignoreMouse,v=void 0!==p&&p,g=u.keyboardHandlers,m=void 0===g||g,y=n.useRef();function b(){return cr(o.domReference.current)}return c?{reference:{onPointerDown:function(e){y.current=e.pointerType},onMouseDown:function(e){0===e.button&&("mouse"===y.current&&v||f&&(r?!h||a.current.openEvent&&"mousedown"!==a.current.openEvent.type||i(!1):i(!0),a.current.openEvent=e.nativeEvent))},onClick:function(e){f&&y.current?y.current=void 0:"mouse"===y.current&&v||(r?!h||a.current.openEvent&&"click"!==a.current.openEvent.type||i(!1):i(!0),a.current.openEvent=e.nativeEvent)},onKeyDown:function(e){y.current=void 0,m&&(vr(e)||(" "!==e.key||b()||e.preventDefault(),"Enter"===e.key&&(r?h&&i(!1):i(!0))))},onKeyUp:function(e){m&&(vr(e)||b()||" "===e.key&&(r?h&&i(!1):i(!0)))}}}:{}};var mr=function(e,t){var r=e.open,i=e.onOpenChange,a=e.dataRef,o=e.refs,u=e.events,s=void 0===t?{}:t,c=s.enabled,l=void 0===c||c,f=s.keyboardOnly,d=void 0===f||f,h=n.useRef(""),p=n.useRef(!1),v=n.useRef();return n.useEffect((function(){var e;if(l){var t=null!=(e=tr(o.floating.current).defaultView)?e:window;return t.addEventListener("blur",n),function(){t.removeEventListener("blur",n)}}function n(){!r&&ir(o.domReference.current)&&o.domReference.current.blur()}}),[o,r,l]),n.useEffect((function(){if(l)return u.on("dismiss",e),function(){u.off("dismiss",e)};function e(){p.current=!0}}),[u,l]),n.useEffect((function(){return function(){clearTimeout(v.current)}}),[]),l?{reference:{onPointerDown:function(e){var t=e.pointerType;h.current=t,p.current=!(!t||!d)},onPointerLeave:function(){p.current=!1},onFocus:function(e){var t,n,r;p.current||"focus"===e.type&&"mousedown"===(null==(t=a.current.openEvent)?void 0:t.type)&&null!=(n=o.domReference.current)&&n.contains(null==(r=a.current.openEvent)?void 0:r.target)||(a.current.openEvent=e.nativeEvent,i(!0))},onBlur:function(e){var t=e.relatedTarget;v.current=setTimeout((function(){var e,n;null!=(e=o.floating.current)&&e.contains(t)||null!=(n=o.domReference.current)&&n.contains(t)||(p.current=!1,i(!1))}))}}}:{}};var yr=function(e){var t=e.arrowRef,n=e.placement,r=[];return r.push(function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn:function(t){return Vt(Ft().mark((function n(){var r,i,a;return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.x,i=t.y,n.next=4,function(){var e=Vt(Ft().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,d,h,p,v,g;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.placement,i=t.platform,a=t.elements,e.next=5,null==i.isRTL?void 0:i.isRTL(a.floating);case 5:return o=e.sent,u=Kt(r),s=Ht(r),c="x"===Gt(r),l=["left","top"].includes(u)?-1:1,f=o&&c?-1:1,d="function"==typeof n?n(t):n,h="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:Re({mainAxis:0,crossAxis:0,alignmentAxis:null},d),p=h.mainAxis,v=h.crossAxis,g=h.alignmentAxis,e.abrupt("return",(s&&"number"==typeof g&&(v="end"===s?-1*g:g),c?{x:v*f,y:p*l}:{x:p*l,y:v*f}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,e);case 4:return a=n.sent,n.abrupt("return",{x:r+a.x,y:i+a.y,data:a});case 6:case"end":return n.stop()}}),n)})))()}}}(8)),r.push("auto"===n?function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,fn:function(t){return Vt(Ft().mark((function n(){var r,i,a,o,u,c,l,f,d,h,p,v,g,m,y,b,k,w,x,_,I,S,E,T,C,N,A,D,O,R,P,L,M;return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.x,l=t.y,f=t.rects,d=t.middlewareData,h=t.placement,p=t.platform,v=t.elements,m=(g=e).alignment,y=void 0===m?null:m,b=g.allowedPlacements,k=void 0===b?ln:b,w=g.autoAlignment,x=void 0===w||w,_=Pe(g,Bt),I=function(e,t,n){return(e?[].concat(s(n.filter((function(t){return Ht(t)===e}))),s(n.filter((function(t){return Ht(t)!==e})))):n.filter((function(e){return Kt(e)===e}))).filter((function(n){return!e||Ht(n)===e||!!t&&sn(n)!==n}))}(y,x,k),n.next=18,Jt(t,_);case 18:if(S=n.sent,E=null!=(r=null==(i=d.autoPlacement)?void 0:i.index)?r:0,null!=(T=I[E])){n.next=23;break}return n.abrupt("return",{});case 23:return n.t0=on,n.t1=T,n.t2=f,n.next=28,null==p.isRTL?void 0:p.isRTL(v.floating);case 28:if(n.t3=n.sent,C=(0,n.t0)(n.t1,n.t2,n.t3),N=C.main,A=C.cross,h===T){n.next=34;break}return n.abrupt("return",{x:c,y:l,reset:{placement:I[0]}});case 34:if(D=[S[Kt(T)],S[N],S[A]],O=[].concat(s(null!=(a=null==(o=d.autoPlacement)?void 0:o.overflows)?a:[]),[{placement:T,overflows:D}]),!(R=I[E+1])){n.next=37;break}return n.abrupt("return",{data:{index:E+1,overflows:O},reset:{placement:R}});case 37:return P=O.slice().sort((function(e,t){return e.overflows[0]-t.overflows[0]})),L=null==(u=P.find((function(e){return e.overflows.every((function(e){return e<=0}))})))?void 0:u.placement,M=null!=L?L:P[0].placement,n.abrupt("return",M!==h?{data:{index:E+1,overflows:O},reset:{placement:M}}:{});case 39:case"end":return n.stop()}}),n)})))()}}}():function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn:function(t){return Vt(Ft().mark((function n(){var r,i,a,o,u,c,l,f,d,h,p,v,g,m,y,b,k,w,x,_,I,S,E,T,C,N,A,D,O,R,P,L,M,j;return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.placement,a=t.middlewareData,o=t.rects,u=t.initialPlacement,c=t.platform,l=t.elements,d=(f=e).mainAxis,h=void 0===d||d,p=f.crossAxis,v=void 0===p||p,g=f.fallbackPlacements,m=f.fallbackStrategy,y=void 0===m?"bestFit":m,b=f.flipAlignment,k=void 0===b||b,w=Pe(f,zt),x=Kt(i),_=g||(x!==u&&k?function(e){var t=an(e);return[sn(e),t,sn(t)]}(u):[an(u)]),I=[u].concat(s(_)),n.next=22,Jt(t,w);case 22:if(S=n.sent,E=[],T=(null==(r=a.flip)?void 0:r.overflows)||[],h&&E.push(S[x]),!v){n.next=36;break}return n.t0=on,n.t1=i,n.t2=o,n.next=31,null==c.isRTL?void 0:c.isRTL(l.floating);case 31:n.t3=n.sent,C=(0,n.t0)(n.t1,n.t2,n.t3),N=C.main,A=C.cross,E.push(S[N],S[A]);case 36:if(T=[].concat(s(T),[{placement:i,overflows:E}]),E.every((function(e){return e<=0}))){n.next=50;break}if(R=(null!=(D=null==(O=a.flip)?void 0:O.index)?D:0)+1,!(P=I[R])){n.next=40;break}return n.abrupt("return",{data:{index:R,overflows:T},reset:{placement:P}});case 40:L="bottom",n.t4=y,n.next="bestFit"===n.t4?44:"initialPlacement"===n.t4?47:48;break;case 44:return j=null==(M=T.map((function(e){return[e,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])?void 0:M[0].placement,j&&(L=j),n.abrupt("break",48);case 47:L=u;case 48:if(i===L){n.next=50;break}return n.abrupt("return",{reset:{placement:L}});case 50:return n.abrupt("return",{});case 51:case"end":return n.stop()}}),n)})))()}}}()),r.push(function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn:function(t){return Vt(Ft().mark((function n(){var r,i,a,o,u,s,c,l,f,d,h,p,v,g,m,y,b,k,w,x,_;return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.x,a=t.y,o=t.placement,s=(u=e).mainAxis,c=void 0===s||s,l=u.crossAxis,f=void 0!==l&&l,d=u.limiter,h=void 0===d?{fn:function(e){return{x:e.x,y:e.y}}}:d,p=Pe(u,qt),v={x:i,y:a},n.next=14,Jt(t,p);case 14:return g=n.sent,m=Gt(Kt(o)),y=fn(m),b=v[m],k=v[y],c&&(w="y"===m?"bottom":"right",b=nn(b+g["y"===m?"top":"left"],b,b-g[w])),f&&(x="y"===y?"bottom":"right",k=nn(k+g["y"===y?"top":"left"],k,k-g[x])),_=h.fn(Re(Re({},t),{},(De(r={},m,b),De(r,y,k),r))),n.abrupt("return",Re(Re({},_),{},{data:{x:_.x-i,y:_.y-a}}));case 22:case"end":return n.stop()}}),n)})))()}}}({padding:8})),t.current&&r.push(function(e){return{name:"arrow",options:e,fn:function(t){return Vt(Ft().mark((function n(){var r,i,a,o,u,s,c,l,f,d,h,p,v,g,m,y,b,k,w,x,_,I,S,E,T,C,N,A,D;return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=(a=null!=e?e:{}).element,u=a.padding,s=void 0===u?0:u,c=t.x,l=t.y,f=t.placement,d=t.rects,h=t.platform,null!=o){n.next=3;break}return n.abrupt("return",{});case 3:return p=$t(s),v={x:c,y:l},g=Gt(f),m=Ht(f),y=Wt(g),n.next=10,h.getDimensions(o);case 10:return b=n.sent,k="y"===g?"top":"left",w="y"===g?"bottom":"right",x=d.reference[y]+d.reference[g]-v[g]-d.floating[y],_=v[g]-d.reference[g],n.next=17,null==h.getOffsetParent?void 0:h.getOffsetParent(o);case 17:return I=n.sent,0===(S=I?"y"===g?I.clientHeight||0:I.clientWidth||0:0)&&(S=d.floating[y]),E=x/2-_/2,T=p[k],C=S-b[y]-p[w],N=S/2-b[y]/2+E,A=nn(T,N,C),D=("start"===m?p[k]:p[w])>0&&N!==A&&d.reference[y]<=d.floating[y],n.abrupt("return",(De(i={},g,v[g]-(D?N<T?T-N:C-N:0)),De(i,"data",(De(r={},g,A),De(r,"centerOffset",N-A),r)),i));case 22:case"end":return n.stop()}}),n)})))()}}}({element:t.current})),r},br=function(e){var t=e.placement;return"auto"===t?void 0:t},kr=["children","content","theme","animation","arrow","placement","style","trigger"],wr=function(e){var t,r,i,a=e.children,o=e.content,u=e.theme,c=e.animation,l=void 0===c?"duration-300":c,f=e.arrow,d=void 0===f||f,h=e.placement,p=void 0===h?"top":h,v=e.style,g=void 0===v?"dark":v,m=e.trigger,y=void 0===m?"hover":m,b=Pe(e,kr),k=Xe(b),w=(0,n.useRef)(null),_=x((0,n.useState)(!1),2),I=_[0],S=_[1],E=function(e){var t=void 0===e?{}:e,r=t.open,i=void 0!==r&&r,a=t.onOpenChange,o=t.whileElementsMounted,u=t.placement,s=t.middleware,c=t.strategy,l=t.nodeId,f=x(n.useState(null),2),d=f[0],h=f[1],p=er(),v=n.useRef(null),g=n.useRef({}),m=n.useState((function(){return Hn()}))[0],y=qn({placement:u,middleware:s,strategy:c,whileElementsMounted:o}),b=or(a),k=n.useMemo((function(){return Re(Re({},y.refs),{},{domReference:v})}),[y.refs]),w=n.useMemo((function(){return Re(Re({},y),{},{refs:k,dataRef:g,nodeId:l,events:m,open:i,onOpenChange:b,_:{domReference:d}})}),[y,l,m,i,b,k,d]);Kn((function(){var e=null==p?void 0:p.nodesRef.current.find((function(e){return e.id===l}));e&&(e.context=w)}));var _=y.reference,I=n.useCallback((function(e){(rr(e)||null===e)&&(w.refs.domReference.current=e,h(e)),_(e)}),[_,w.refs]);return n.useMemo((function(){return Re(Re({},y),{},{context:w,refs:k,reference:I})}),[y,k,w,I])}({middleware:yr({arrowRef:w,placement:p}),onOpenChange:S,open:I,placement:br({placement:p})}),T=E.context,C=E.floating,N=E.middlewareData.arrow,A=(N=void 0===N?{}:N).x,D=N.y,O=E.reference,R=E.refs,P=E.strategy,L=E.update,M=E.x,j=E.y,F=(void 0===(r=[gr(T,{enabled:"click"===y}),mr(T),hr(T,{enabled:"hover"===y}),pr(T,{role:"tooltip"})])&&(r=[]),{getReferenceProps:function(e){return ur(e,r,"reference")},getFloatingProps:function(e){return ur(e,r,"floating")},getItemProps:function(e){return ur(e,r,"item")}}),U=F.getFloatingProps,V=F.getReferenceProps;return(0,n.useEffect)((function(){if(R.reference.current&&R.floating.current&&I)return function(e,t,n,r){void 0===r&&(r={});var i=r,a=i.ancestorScroll,o=void 0===a||a,u=i.ancestorResize,c=void 0===u||u,l=i.elementResize,f=void 0===l||l,d=i.animationFrame,h=void 0!==d&&d,p=o&&!h,v=c&&!h,g=p||v?[].concat(s(yn(e)?jn(e):[]),s(jn(t))):[];g.forEach((function(e){p&&e.addEventListener("scroll",n,{passive:!0}),v&&e.addEventListener("resize",n)}));var m,y=null;if(f){var b=!0;y=new ResizeObserver((function(){b||n(),b=!1})),yn(e)&&!h&&y.observe(e),y.observe(t)}var k=h?Tn(e):null;return h&&function t(){var r=Tn(e);!k||r.x===k.x&&r.y===k.y&&r.width===k.width&&r.height===k.height||n(),k=r,m=requestAnimationFrame(t)}(),n(),function(){var e;g.forEach((function(e){p&&e.removeEventListener("scroll",n),v&&e.removeEventListener("resize",n)})),null==(e=y)||e.disconnect(),y=null,h&&cancelAnimationFrame(m)}}(R.reference.current,R.floating.current,L)}),[I,R.floating,R.reference,L]),(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)("div",Re(Re({className:u.target},V({ref:O})),{},{"data-testid":"flowbite-tooltip-target",children:a})),(0,Le.jsxs)("div",Re(Re({"data-testid":"flowbite-tooltip"},U(Re({className:je()(u.base,l&&"".concat(u.animation," ").concat(l),!I&&u.hidden,u.style[g]),ref:C,style:{position:P,top:null!==j&&void 0!==j?j:" ",left:null!==M&&void 0!==M?M:" "}},k))),{},{children:[(0,Le.jsx)("div",{className:u.content,children:o}),d&&(0,Le.jsx)("div",{className:je()(u.arrow.base,(t={},De(t,u.arrow.style.dark,"dark"===g),De(t,u.arrow.style.light,"light"===g),De(t,u.arrow.style.auto,"auto"===g),t)),"data-testid":"flowbite-tooltip-arrow",ref:w,style:De({top:null!==D&&void 0!==D?D:" ",left:null!==A&&void 0!==A?A:" ",right:" ",bottom:" "},(i={placement:E.placement},{top:"bottom",right:"left",bottom:"top",left:"right"}[i.placement.split("-")[0]]),u.arrow.placement),children:"\xa0"})]}))]})},xr=function(){var e=tt().theme.dropdown.floating.divider;return(0,Le.jsx)("div",{className:e})},_r=["children"],Ir=function(e){var t=e.children,n=Pe(e,_r),r=tt().theme.dropdown.floating.header,i=Xe(n);return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)("div",Re(Re({className:r},i),{},{children:t})),(0,Le.jsx)(xr,{})]})},Sr=function(e){var t=e.children,n=e.onClick,r=e.icon,i=tt().theme.dropdown.floating.item;return(0,Le.jsxs)("li",{className:i.base,onClick:n,children:[r&&(0,Le.jsx)(r,{className:i.icon}),t]})},Er=["children"],Tr=["placement","trigger","label","inline","floatingArrow","arrowIcon"],Cr={top:function(e){return qe({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"}}]})(e)},right:Ye,bottom:Qe,left:function(e){return qe({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"}}]})(e)}},Nr=function(e){var t=e.children,r=Pe(e,Er),i=tt().theme.dropdown,a=Xe(r),o=a.placement,u=void 0===o?r.inline?"bottom-start":"bottom":o,s=a.trigger,c=void 0===s?"click":s,l=a.label,f=a.inline,d=a.floatingArrow,h=void 0!==d&&d,p=a.arrowIcon,v=void 0===p||p,g=Pe(a,Tr),m=(0,n.useMemo)((function(){var e,t=x(u.split("-"),1)[0];return null!==(e=Cr[t])&&void 0!==e?e:Qe}),[u]),y=(0,n.useMemo)((function(){return(0,Le.jsx)("ul",{className:i.content,children:t})}),[t,i]);return(0,Le.jsx)(wr,{content:y,style:"auto",animation:"duration-100",placement:u,arrow:h,trigger:c,theme:i.floating,children:(0,Le.jsxs)((function(e){var t=e.children;return f?(0,Le.jsx)("button",{className:i.inlineWrapper,children:t}):(0,Le.jsx)(Dt,Re(Re({},g),{},{children:t}))}),{children:[l,v&&(0,Le.jsx)(m,{className:i.arrowIcon})]})})};Nr.displayName="Dropdown",Sr.displayName="Dropdown.Item",Ir.displayName="Dropdown.Header",xr.displayName="Dropdown.Divider";Object.assign(Nr,{Item:Sr,Header:Ir,Divider:xr});var Ar=function(e){var t=e.alt,n=e.children,r=e.href,i=e.name,a=e.src,o=tt().theme.footer.brand;return(0,Le.jsx)("div",{children:r?(0,Le.jsxs)("a",{"data-testid":"flowbite-footer-brand",href:r,className:o.base,children:[(0,Le.jsx)("img",{alt:t,src:a,className:o.img}),(0,Le.jsx)("span",{"data-testid":"flowbite-footer-brand-span",className:o.span,children:i}),n]}):(0,Le.jsx)("img",{alt:t,"data-testid":"flowbite-footer-brand",src:a,className:o.img})})},Dr=function(e){var t=e.href,n=e.by,r=e.year,i=tt().theme.footer.copyright;return(0,Le.jsx)("div",{children:(0,Le.jsxs)("span",{className:i.base,"data-testid":"flowbite-footer-copyright",children:["\xa9 ",r,t?(0,Le.jsx)("a",{href:t,className:i.href,children:n}):(0,Le.jsx)("span",{"data-testid":"flowbite-footer-copyright-span",className:i.span,children:n})]})})},Or=function(){var e=tt().theme.footer.divider;return(0,Le.jsx)("hr",{"data-testid":"footer-divider",className:e.base})},Rr=function(e){var t=e.href,n=e.ariaLabel,r=e.icon,i=tt().theme.footer.icon;return(0,Le.jsx)("div",{children:t?(0,Le.jsx)("a",{"aria-label":n,"data-testid":"flowbite-footer-icon",href:t,className:i.base,children:(0,Le.jsx)(r,{className:i.size})}):(0,Le.jsx)(r,{"data-testid":"flowbite-footer-icon",className:i.size})})},Pr=function(e){var t=e.children,n=e.href,r=tt().theme.footer.groupLink.link;return(0,Le.jsx)("li",{className:r.base,children:(0,Le.jsx)("a",{href:n,className:r.href,children:t})})},Lr=function(e){var t=e.children,n=e.col,r=void 0!==n&&n,i=tt().theme.footer.groupLink;return(0,Le.jsx)("ul",{"data-testid":"footer-groupLink",className:je()(i.base,r&&i.col),children:t})},Mr=function(e){var t=e.title,n=tt().theme.footer.title;return(0,Le.jsx)("h2",{"data-testid":"flowbite-footer-title",className:n.base,children:t})},jr=function(e){var t=e.children,n=e.bgDark,r=void 0!==n&&n,i=e.container,a=void 0!==i&&i,o=tt().theme.footer;return(0,Le.jsx)("footer",{"data-testid":"flowbite-footer",className:je()(o.base,r&&o.bgDark,a&&o.container),children:t})};jr.displayName="Footer",Dr.displayName="Footer.Copyright",Pr.displayName="Footer.Link",Ar.displayName="Footer.Brand",Lr.displayName="Footer.LinkGroup",Rr.displayName="Footer.Icon",Mr.displayName="Footer.Title",Or.displayName="Footer.Divider";Object.assign(jr,{Copyright:Dr,Link:Pr,LinkGroup:Lr,Brand:Ar,Icon:Rr,Title:Mr,Divider:Or});var Fr=(0,n.forwardRef)((function(e,t){var n=tt().theme.formControls.checkbox,r=Xe(e);return(0,Le.jsx)("input",Re({ref:t,className:n.base,type:"checkbox"},r))}));Fr.displayName="Checkbox";var Ur=["value","children","color"],Vr=function(e){var t,n=e.value,r=e.children,i=e.color,a=void 0===i?"default":i,o=Pe(e,Ur),u=tt().theme.formControls.helperText,s=Xe(o);return(0,Le.jsx)("p",Re(Re({className:je()(u.base,u.colors[a])},s),{},{children:null!==(t=null!==n&&void 0!==n?n:r)&&void 0!==t?t:""}))},Br=["sizing","helperText","color"],zr=(0,n.forwardRef)((function(e,t){var n=e.sizing,r=void 0===n?"md":n,i=e.helperText,a=e.color,o=void 0===a?"gray":a,u=Pe(e,Br),s=tt().theme.formControls.fileInput,c=Xe(u);return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)("div",{className:s.base,children:(0,Le.jsx)("div",{className:s.field.base,children:(0,Le.jsx)("input",Re(Re({className:je()(s.field.input.base,s.field.input.colors[o],s.field.input.sizes[r])},c),{},{type:"file",ref:t}))})}),i&&(0,Le.jsx)(Vr,{color:o,children:i})]})}));zr.displayName="FileInput";var qr=(0,n.forwardRef)((function(e,t){var n=tt().theme.formControls.radio,r=Xe(e);return(0,Le.jsx)("input",Re({ref:t,className:n.base,type:"radio"},r))}));qr.displayName="Radio";var Kr=["children","sizing","shadow","helperText","addon","icon","color"],Hr=(0,n.forwardRef)((function(e,t){var n=e.children,r=e.sizing,i=void 0===r?"md":r,a=e.shadow,o=e.helperText,u=e.addon,s=e.icon,c=e.color,l=void 0===c?"gray":c,f=Pe(e,Kr),d=tt().theme.formControls.select,h=Xe(f);return(0,Le.jsxs)("div",{className:d.base,children:[u&&(0,Le.jsx)("span",{className:d.addon,children:u}),(0,Le.jsxs)("div",{className:d.field.base,children:[s&&(0,Le.jsx)("div",{className:d.field.icon.base,children:(0,Le.jsx)(s,{className:d.field.icon.svg})}),(0,Le.jsx)("select",Re(Re({className:je()(d.field.select.base,d.field.select.colors[l],d.field.select.withIcon[s?"on":"off"],d.field.select.withAddon[u?"on":"off"],d.field.select.withShadow[a?"on":"off"],d.field.select.sizes[i])},h),{},{ref:t,children:n})),o&&(0,Le.jsx)(Vr,{color:l,children:o})]})]})}));Hr.displayName="Select";var Gr=["shadow","helperText","color"],Wr=(0,n.forwardRef)((function(e,t){var n=e.shadow,r=e.helperText,i=e.color,a=void 0===i?"gray":i,o=Pe(e,Gr),u=tt().theme.formControls.textarea,s=Xe(o);return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)("textarea",Re({ref:t,className:je()(u.base,u.colors[a],u.withShadow[n?"on":"off"])},s)),r&&(0,Le.jsx)(Vr,{color:a,children:r})]})}));Wr.displayName="Textarea";var Qr=["sizing","shadow","helperText","addon","icon","color"],Yr=(0,n.forwardRef)((function(e,t){var n=e.sizing,r=void 0===n?"md":n,i=e.shadow,a=e.helperText,o=e.addon,u=e.icon,s=e.color,c=void 0===s?"gray":s,l=Pe(e,Qr),f=tt().theme.formControls.textInput,d=Xe(l);return(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsxs)("div",{className:f.base,children:[o&&(0,Le.jsx)("span",{className:f.addon,children:o}),(0,Le.jsxs)("div",{className:f.field.base,children:[u&&(0,Le.jsx)("div",{className:f.field.icon.base,children:(0,Le.jsx)(u,{className:f.field.icon.svg})}),(0,Le.jsx)("input",Re(Re({className:je()(f.field.input.base,f.field.input.colors[c],f.field.input.withIcon[u?"on":"off"],f.field.input.withAddon[o?"on":"off"],f.field.input.withShadow[i?"on":"off"],f.field.input.sizes[r])},d),{},{ref:t}))]})]}),a&&(0,Le.jsx)(Vr,{color:c,children:a})]})}));Yr.displayName="TextInput";var $r=["active","children","href","icon","onClick"],Xr=function(e){var t=e.active,n=e.children,r=e.href,i=e.icon,a=e.onClick,o=Pe(e,$r),u="undefined"!==typeof r,s=u?"a":"button",c=Xe(o),l=tt().theme.listGroup.item;return(0,Le.jsx)("li",{children:(0,Le.jsxs)(s,Re(Re({className:je()(l.active[t?"on":"off"],l.base,l.href[u?"on":"off"]),href:r,onClick:a,type:u?void 0:"button"},c),{},{children:[i&&(0,Le.jsx)(i,{"aria-hidden":!0,className:l.icon,"data-testid":"flowbite-list-group-item-icon"}),n]}))})},Jr=["children"],Zr=function(e){var t=e.children,n=Pe(e,Jr),r=Xe(n),i=tt().theme.listGroup.base;return(0,Le.jsx)("ul",Re(Re({className:i},r),{},{children:t}))};Zr.displayName="ListGroup",Xr.displayName="ListGroup.Item";Object.assign(Zr,{Item:Xr});var ei=(0,n.createContext)(void 0);function ti(){var e=(0,n.useContext)(ei);if(!e)throw new Error("useModalContext should be used within the ModalContext provider!");return e}var ni=["children"],ri=function(e){var t=e.children,n=Pe(e,ni),r=ti().popup,i=tt().theme.modal.body,a=Xe(n);return(0,Le.jsx)("div",Re(Re({className:je()(i.base,De({},i.popup,r))},a),{},{children:t}))},ii=["children"],ai=function(e){var t=e.children,n=Pe(e,ii),r=ti().popup,i=tt().theme.modal.footer,a=Xe(n);return(0,Le.jsx)("div",Re(Re({className:je()(i.base,De({},i.popup,!r))},a),{},{children:t}))},oi=["children"],ui=function(e){var t=e.children,n=Pe(e,oi),r=ti(),i=r.popup,a=r.onClose,o=tt().theme.modal.header,u=Xe(n);return(0,Le.jsxs)("div",Re(Re({className:je()(o.base,De({},o.popup,i))},u),{},{children:[(0,Le.jsx)("h3",{className:o.title,children:t}),(0,Le.jsx)("button",{"aria-label":"Close",className:o.close.base,type:"button",onClick:a,children:(0,Le.jsx)($e,{"aria-hidden":!0,className:o.close.icon})})]}))},si=["children","show","root","popup","size","position","onClose"],ci=function(e){var t=e.children,r=e.show,i=e.root,a=e.popup,o=e.size,u=void 0===o?"2xl":o,s=e.position,c=void 0===s?"center":s,l=e.onClose,f=Pe(e,si),d=x((0,n.useState)(i),2),h=d[0],p=d[1],v=x((0,n.useState)(),2),g=v[0],m=v[1],y=tt().theme.modal,b=Xe(f);return(0,n.useEffect)((function(){h||p(document.body),g||m(document.createElement("div"))}),[]),(0,n.useEffect)((function(){if(g&&h&&r)return h.appendChild(g),function(){g&&h.removeChild(g)}}),[g,h,r]),g?(0,Vn.createPortal)((0,Le.jsx)(ei.Provider,{value:{popup:a,onClose:l},children:(0,Le.jsx)("div",Re(Re({"aria-hidden":!r,className:je()(y.base,y.positions[c],r?y.show.on:y.show.off),"data-testid":"modal",role:"dialog"},b),{},{children:(0,Le.jsx)("div",{className:je()(y.content.base,y.sizes[u]),children:(0,Le.jsx)("div",{className:y.content.inner,children:t})})}))}),g):null};ci.displayName="Modal",ui.displayName="Modal.Header",ri.displayName="Modal.Body",ai.displayName="Modal.Footer";Object.assign(ci,{Header:ui,Body:ri,Footer:ai});var li=["children","href"],fi=function(e){var t=e.children,n=e.href,r=Pe(e,li),i=tt().theme.navbar,a=Xe(r);return(0,Le.jsx)("a",Re(Re({href:n,className:i.brand},a),{},{children:t}))},di=(0,n.createContext)(void 0);function hi(){var e=(0,n.useContext)(di);if(!e)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return e}var pi=["children"],vi=function(e){var t=e.children,n=Pe(e,pi),r=hi().isOpen,i=tt().theme.navbar.collapse,a=Xe(n);return(0,Le.jsx)("div",Re(Re({className:je()(i.base,i.hidden[r?"off":"on"]),"data-testid":"flowbite-navbar-collapse"},a),{},{children:(0,Le.jsx)("ul",{className:i.list,children:t})}))},gi=["active","disabled","href","children"],mi=function(e){var t,n=e.active,r=e.disabled,i=e.href,a=e.children,o=Pe(e,gi),u=tt().theme.navbar.link,s=Xe(o);return(0,Le.jsx)("li",{children:(0,Le.jsx)("a",Re(Re({href:i,className:je()(u.base,(t={},De(t,u.active.on,n),De(t,u.active.off,!n&&!r),t),u.disabled[r?"on":"off"])},s),{},{children:a}))})};function yi(e){return qe({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z"}}]})(e)}var bi=["barIcon"],ki=function(e){var t=e.barIcon,n=void 0===t?yi:t,r=Pe(e,bi),i=hi(),a=i.isOpen,o=i.setIsOpen,u=tt().theme.navbar.toggle,s=Xe(r);return(0,Le.jsxs)("button",Re(Re({className:u.base,"data-testid":"flowbite-navbar-toggle",onClick:function(){o(!a)}},s),{},{children:[(0,Le.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,Le.jsx)(n,{className:u.icon})]}))},wi=["children","menuOpen","fluid","rounded","border"],xi=function(e){var t=e.children,r=e.menuOpen,i=e.fluid,a=void 0!==i&&i,o=e.rounded,u=e.border,s=Pe(e,wi),c=x((0,n.useState)(r),2),l=c[0],f=c[1],d=tt().theme.navbar,h=Xe(s);return(0,Le.jsx)(di.Provider,{value:{isOpen:l,setIsOpen:f},children:(0,Le.jsx)("nav",Re(Re({className:je()(d.base,d.bordered[u?"on":"off"],d.rounded[o?"on":"off"])},h),{},{children:(0,Le.jsx)("div",{className:je()(d.inner.base,d.inner.fluid[a?"on":"off"]),children:t})}))})};xi.displayName="Navbar",fi.displayName="Navbar.Brand",vi.displayName="Navbar.Collapse",mi.displayName="Navbar.Link",ki.displayName="Navbar.Toggle";Object.assign(xi,{Brand:fi,Collapse:vi,Link:mi,Toggle:ki});var _i=["percentFilled","children"],Ii=function(e){var t=e.percentFilled,n=void 0===t?0:t,r=e.children,i=Pe(e,_i),a=tt().theme.rating.advanced,o=Xe(i);return(0,Le.jsxs)("div",Re(Re({className:a.base},o),{},{children:[(0,Le.jsx)("span",{className:a.label,children:r}),(0,Le.jsx)("div",{className:a.progress.base,children:(0,Le.jsx)("div",{className:a.progress.fill,"data-testid":"flowbite-rating-fill",style:{width:"".concat(n,"%")}})}),(0,Le.jsx)("span",{className:a.progress.label,children:"".concat(n,"%")})]}))},Si=(0,n.createContext)(void 0);var Ei=function(e){var t=e.filled,r=void 0===t||t,i=e.starIcon,a=void 0===i?Ge:i,o=function(){var e=(0,n.useContext)(Si);if(!e)throw new Error("useRatingContext should be used within the RatingContext provider!");return e}().size,u=void 0===o?"sm":o,s=tt().theme.rating.star;return(0,Le.jsx)(a,{className:je()(s.sizes[u],s[r?"filled":"empty"]),"data-testid":"flowbite-rating-star"})},Ti=["children","size"],Ci=function(e){var t=e.children,n=e.size,r=void 0===n?"sm":n,i=Pe(e,Ti),a=tt().theme.rating,o=Xe(i);return(0,Le.jsx)(Si.Provider,{value:{size:r},children:(0,Le.jsx)("div",Re(Re({className:a.base},o),{},{children:t}))})};Ci.displayName="Rating",Ei.displayName="Rating.Star",Ii.displayName="Rating.Advanced";Object.assign(Ci,{Star:Ei,Advanced:Ii});var Ni=["animation","arrow","children","content","placement","style","trigger"],Ai=function(e){var t=e.animation,n=void 0===t?"duration-300":t,r=e.arrow,i=void 0===r||r,a=e.children,o=e.content,u=e.placement,s=void 0===u?"top":u,c=e.style,l=void 0===c?"dark":c,f=e.trigger,d=void 0===f?"hover":f,h=Pe(e,Ni),p=tt().theme.tooltip,v=Xe(h);return(0,Le.jsx)(wr,Re(Re({content:o,style:l,animation:n,placement:s,arrow:i,trigger:d,theme:p},v),{},{children:a}))},Di=(0,n.createContext)(void 0);function Oi(){var e=(0,n.useContext)(Di);if(!e)throw new Error("useSidebarContext should be used within the SidebarContext provider!");return e}var Ri=(0,n.createContext)(void 0);var Pi=["children","icon","label"],Li=function(e){var t=e.children,r=e.icon,i=e.label,a=Pe(e,Pi),o=Xe(a),u=(0,n.useId)(),s=Oi().isCollapsed,c=x((0,n.useState)(!1),2),l=c[0],f=c[1],d=tt().theme.sidebar.collapse;return(0,Le.jsxs)((function(e){var t=e.children;return(0,Le.jsx)("li",{children:s?(0,Le.jsx)(Ai,{content:i,placement:"right",children:t}):t})}),{children:[(0,Le.jsxs)("button",Re(Re({className:d.button,id:"flowbite-sidebar-collapse-".concat(u),onClick:function(){return f(!l)},type:"button"},o),{},{children:[r&&(0,Le.jsx)(r,{"aria-hidden":!0,className:je()(d.icon.base,d.icon.open[l?"on":"off"]),"data-testid":"flowbite-sidebar-collapse-icon"}),s?(0,Le.jsx)("span",{className:"sr-only",children:i}):(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)("span",{className:d.label.base,"data-testid":"flowbite-sidebar-collapse-label",children:i}),(0,Le.jsx)(He,{"aria-hidden":!0,className:d.label.icon})]})]})),(0,Le.jsx)("ul",{"aria-labelledby":"flowbite-sidebar-collapse-".concat(u),className:d.list,hidden:!l,children:(0,Le.jsx)(Ri.Provider,{value:{isInsideCollapse:!0},children:t})})]})};Li.displayName="Sidebar.Collapse";var Mi=Li,ji=["children","color"],Fi=function(e){var t=e.children,n=e.color,r=void 0===n?"info":n,i=Pe(e,ji),a=Xe(i),o=Oi().isCollapsed,u=tt().theme.sidebar.cta;return(0,Le.jsx)("div",Re(Re({className:je()(u.base,u.color[r]),"data-testid":"sidebar-cta",hidden:o},a),{},{children:t}))};Fi.displayName="Sidebar.CTA";var Ui=Fi,Vi=["as","children","icon","active","label","labelColor"],Bi=function(e){var t,r=e.as,i=void 0===r?"a":r,a=e.children,o=e.icon,u=e.active,s=e.label,c=e.labelColor,l=void 0===c?"info":c,f=Pe(e,Vi),d=Xe(f),h=(0,n.useId)(),p=Oi().isCollapsed,v=function(){var e=(0,n.useContext)(Ri);if(!e)throw new Error("useSidebarItemContext should be used within the SidebarItemContext provider!");return e}().isInsideCollapse,g=tt().theme.sidebar.item,m=function(e){var t=e.children;return(0,Le.jsx)(y,{children:t})},y=function(e){var t=e.children;return(0,Le.jsx)("span",{className:je()(g.content.base),"data-testid":"flowbite-sidebar-item-content",id:"flowbite-sidebar-item-".concat(h),children:t})};return(0,Le.jsx)((function(e){var t=e.children;return(0,Le.jsx)("li",{children:p?(0,Le.jsx)(Ai,{content:(0,Le.jsx)(m,{children:a}),placement:"right",children:t}):t})}),{children:(0,Le.jsxs)(i,Re(Re({"aria-labelledby":"flowbite-sidebar-item-".concat(h),className:je()(g.base,u&&g.active,!p&&v&&g.collapsed.insideCollapse)},d),{},{children:[o&&(0,Le.jsx)(o,{"aria-hidden":!0,className:je()(g.icon.base,u&&g.icon.active),"data-testid":"flowbite-sidebar-item-icon"}),p&&!o&&(0,Le.jsx)("span",{className:g.collapsed.noIcon,children:null!==(t=a.charAt(0).toLocaleUpperCase())&&void 0!==t?t:"?"}),!p&&(0,Le.jsx)(y,{children:a}),!p&&s&&(0,Le.jsx)(bt,{color:l,"data-testid":"flowbite-sidebar-label",hidden:p,children:s})]}))})};Bi.displayName="Sidebar.Item";var zi=Bi,qi=["children"],Ki=function(e){var t=e.children,n=Pe(e,qi),r=Xe(n),i=tt().theme.sidebar.itemGroup;return(0,Le.jsx)("ul",Re(Re({className:i,"data-testid":"flowbite-sidebar-item-group"},r),{},{children:(0,Le.jsx)(Ri.Provider,{value:{isInsideCollapse:!1},children:t})}))};Ki.displayName="Sidebar.ItemGroup";var Hi=Ki,Gi=["children"],Wi=function(e){var t=e.children,n=Pe(e,Gi),r=Xe(n),i=tt().theme.sidebar.items;return(0,Le.jsx)("div",Re(Re({className:i,"data-testid":"flowbite-sidebar-items"},r),{},{children:t}))};Wi.displayName="Sidebar.Items";var Qi=Wi,Yi=["children","href","img","imgAlt"],$i=function(e){var t=e.children,r=e.href,i=e.img,a=e.imgAlt,o=void 0===a?"":a,u=Pe(e,Yi),s=Xe(u),c=(0,n.useId)(),l=Oi().isCollapsed,f=tt().theme.sidebar.logo;return(0,Le.jsxs)("a",Re(Re({"aria-labelledby":"flowbite-sidebar-logo-".concat(c),className:f.base,href:r},s),{},{children:[(0,Le.jsx)("img",{alt:o,className:f.img,src:i}),(0,Le.jsx)("span",{className:f.collapsed[l?"on":"off"],id:"flowbite-sidebar-logo-".concat(c),children:t})]}))};$i.displayName="Sidebar.Logo";var Xi=$i,Ji=["children","collapseBehavior","collapsed"],Zi=function(e){var t=e.children,n=e.collapseBehavior,r=void 0===n?"collapse":n,i=e.collapsed,a=void 0!==i&&i,o=Pe(e,Ji),u=Xe(o),s=tt().theme.sidebar;return(0,Le.jsx)(Di.Provider,{value:{isCollapsed:a},children:(0,Le.jsx)("aside",Re(Re({"aria-label":"Sidebar",className:je()(s.base,s.collapsed[a?"on":"off"]),hidden:a&&"hide"===r},u),{},{children:(0,Le.jsx)("div",{className:s.inner,children:t})}))})};Zi.displayName="Sidebar";Object.assign(Zi,{Collapse:Mi,CTA:Ui,Item:zi,Items:Qi,ItemGroup:Hi,Logo:Xi});var ea=function(e){var t=e.children;return(0,Le.jsx)(Le.Fragment,{children:t})},ta=["children","style"],na=function(e){var t=e.children,r=e.style,i=void 0===r?"default":r,a=Pe(e,ta),o=tt().theme.tab,u=Xe(a),s=(0,n.useId)(),c=(0,n.useMemo)((function(){return n.Children.map(t,(function(e){return e.props}))}),[t]),l=(0,n.useRef)([]),f=x((0,n.useState)(Math.max(0,c.findIndex((function(e){return e.active})))),2),d=f[0],h=f[1],p=x((0,n.useState)(Math.max(0,c.findIndex((function(e){return e.active})))),2),v=p[0],g=p[1];return(0,n.useEffect)((function(){var e;null===(e=l.current[v])||void 0===e||e.focus()}),[v]),(0,Le.jsxs)("div",{className:o.base,children:[(0,Le.jsx)("div",Re(Re({"aria-label":"Tabs",role:"tablist",className:je()(o.tablist.base,o.tablist.styles[i])},u),{},{children:c.map((function(e,t){var n;return(0,Le.jsxs)("button",{type:"button","aria-controls":"".concat(s,"-tabpanel-").concat(t),"aria-selected":t===d,className:je()(o.tablist.tabitem.base,o.tablist.tabitem.styles[i],(n={},De(n,o.tablist.tabitem.styles[i].active.on,t===d),De(n,o.tablist.tabitem.styles[i].active.off,t!==d&&!e.disabled),n)),disabled:e.disabled,id:"".concat(s,"-tab-").concat(t),onClick:function(){return function(e){var t=e.target;h(t),g(t)}({target:t})},onKeyDown:function(e){return function(e){var t=e.event,n=e.target;"ArrowLeft"===t.key&&g(Math.max(0,v-1)),"ArrowRight"===t.key&&g(Math.min(c.length-1,v+1)),"Enter"===t.key&&(h(n),g(n))}({event:e,target:t})},ref:function(e){return l.current[t]=e},role:"tab",tabIndex:t===v?0:-1,children:[e.icon&&(0,Le.jsx)(e.icon,{className:o.tablist.tabitem.icon}),e.title]},t)}))})),(0,Le.jsx)("div",{children:c.map((function(e,t){return(0,Le.jsx)("div",{"aria-labelledby":"".concat(s,"-tab-").concat(t),className:o.tabpanel,hidden:t!==d,id:"".concat(s,"-tabpanel-").concat(t),role:"tabpanel",tabIndex:0,children:e.children},t)}))})]})};na.displayName="Tabs.Group",ea.displayName="Tabs.Item";var ra=["children"],ia=function(e){var t=e.children,n=Pe(e,ra);return(0,Le.jsx)("tbody",Re(Re({},n),{},{children:t}))},aa=["children","className"],oa=function(e){var t=e.children,n=e.className,r=Pe(e,aa);return(0,Le.jsx)("td",Re(Re({className:je()("px-6 py-4",n)},r),{},{children:t}))},ua=(0,n.createContext)(void 0);var sa=["children","className"],ca=function(e){var t=e.children,n=e.className,r=Pe(e,sa);return(0,Le.jsx)("thead",Re(Re({className:je()("bg-gray-50 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400",n)},r),{},{children:(0,Le.jsx)("tr",{children:t})}))},la=["children","className"],fa=function(e){var t=e.children,n=e.className,r=Pe(e,la);return(0,Le.jsx)("th",Re(Re({className:je()("px-6 py-3",n)},r),{},{children:t}))},da=["children","className"],ha=function(e){var t=e.children,r=e.className,i=Pe(e,da),a=function(){var e=(0,n.useContext)(ua);if(!e)throw new Error("useTableContext should be used within the TableContext provider!");return e}(),o=a.striped,u=a.hoverable;return(0,Le.jsx)("tr",Re(Re({"data-testid":"table-row-element",className:je()({"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700":o,"hover:bg-gray-50 dark:hover:bg-gray-600":u},r)},i),{},{children:t}))},pa=["children","striped","hoverable","className"],va=function(e){var t=e.children,n=e.striped,r=e.hoverable,i=e.className,a=Pe(e,pa);return(0,Le.jsx)("div",{"data-testid":"table-element",className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:(0,Le.jsx)(ua.Provider,{value:{striped:n,hoverable:r},children:(0,Le.jsx)("table",Re(Re({className:je()("w-full text-left text-sm text-gray-500 dark:text-gray-400",i)},a),{},{children:t}))})})};va.displayName="Table",ca.displayName="Table.Head",ia.displayName="Table.Body",ha.displayName="Table.Row",oa.displayName="Table.Cell",fa.displayName="Table.HeadCell";var ga=Object.assign(va,{Head:ca,Body:ia,Row:ha,Cell:oa,HeadCell:fa}),ma=["children","className"],ya=function(e){var t=e.children,n=e.className,r=Pe(e,ma);return(0,Le.jsx)("p",Re(Re({className:je()("mb-4 text-base font-normal text-gray-500 dark:text-gray-400",n)},r),{},{children:t}))},ba=(0,n.createContext)(void 0);function ka(){var e=(0,n.useContext)(ba);if(!e)throw new Error("useTimelineContext should be used within the TimelineContext providor!");return e}var wa=["children","className"],xa=function(e){var t=e.children,n=e.className,r=Pe(e,wa),i=ka().horizontal;return(0,Le.jsx)("div",Re(Re({"data-testid":"timeline-content",className:je()({"mt-3 sm:pr-8":i},n)},r),{},{children:t}))},_a=["children","className"],Ia=function(e){var t=e.children,n=e.className,r=Pe(e,_a),i=ka().horizontal;return(0,Le.jsx)("li",Re(Re({"data-testid":"timeline-item",className:je()({"mb-10 ml-6":!i,"relative mb-6 sm:mb-0":i},n)},r),{},{children:t}))},Sa=["children","className","icon"],Ea=function(e){var t=e.children,n=e.className,r=e.icon,i=Pe(e,Sa),a=ka().horizontal;return(0,Le.jsxs)("div",Re(Re({"data-testid":"timeline-point",className:je()({"flex items-center":a},n)},i),{},{children:[t,r?(0,Le.jsx)("span",{className:"absolute -left-3 flex h-6 w-6 items-center justify-center rounded-full bg-blue-200 ring-8 ring-white dark:bg-blue-900 dark:ring-gray-900",children:(0,Le.jsx)(r,{"aria-hidden":!0,className:"h-3 w-3 text-blue-600 dark:text-blue-300"})}):(0,Le.jsx)("div",{className:"absolute -left-1.5 mt-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700"}),a?(0,Le.jsx)("div",{className:"hidden h-0.5 w-full bg-gray-200 dark:bg-gray-700 sm:flex"}):""]}))},Ta=["children","className"],Ca=function(e){var t=e.children,n=e.className,r=Pe(e,Ta);return(0,Le.jsx)("time",Re(Re({className:je()("mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",n)},r),{},{children:t}))},Na=["children","className","as"],Aa=function(e){var t=e.children,n=e.className,r=e.as,i=void 0===r?"h3":r,a=Pe(e,Na),o=i;return(0,Le.jsx)(o,Re(Re({className:je()("text-lg font-semibold text-gray-900 dark:text-white",n)},a),{},{children:t}))},Da=function(e){var t=e.children,n=e.horizontal;return(0,Le.jsx)(ba.Provider,{value:{horizontal:n},children:(0,Le.jsx)("ol",{"data-testid":"timeline-component",className:je()({"relative border-l border-gray-200 dark:border-gray-700":!n,"items-center sm:flex":n}),children:t})})};Da.displayName="Timeline",Ia.displayName="Timeline.Item",Ea.displayName="Timeline.Point",xa.displayName="Timeline.Content",Ca.displayName="Timeline.Time",Aa.displayName="Timeline.Title",ya.displayName="Timeline.Body";Object.assign(Da,{Item:Ia,Point:Ea,Content:xa,Time:Ca,Title:Aa,Body:ya});var Oa=(0,n.createContext)(void 0);var Ra=function(e){var t=e.xIcon,r=void 0===t?We:t,i=function(){var e=(0,n.useContext)(Oa);if(!e)throw new Error("useToastContext should be used within the ToastContext provider!");return e}(),a=i.duration,o=i.isClosed,u=i.isRemoved,s=i.setIsClosed,c=i.setIsRemoved,l=tt().theme.toast.toggle;return(0,Le.jsx)("button",{"aria-label":"Close",onClick:function(){s(!o),setTimeout((function(){return c(!u)}),a)},type:"button",className:l.base,children:(0,Le.jsx)(r,{className:l.icon})})},Pa=["children","duration"],La={75:"duration-75",100:"duration-100",150:"duration-150",200:"duration-200",300:"duration-300",500:"duration-500",700:"duration-700",1e3:"duration-1000"},Ma=function(e){var t=e.children,r=e.duration,i=void 0===r?300:r,a=Pe(e,Pa),o=x((0,n.useState)(!1),2),u=o[0],s=o[1],c=x((0,n.useState)(!1),2),l=c[0],f=c[1],d=tt().theme.toast,h=Xe(a);return(0,Le.jsx)(Oa.Provider,{value:{duration:i,isClosed:u,isRemoved:l,setIsClosed:s,setIsRemoved:f},children:(0,Le.jsx)("div",Re(Re({"data-testid":"flowbite-toast",className:je()(d.base,La[i],De({},d.closed,u),De({},d.removed,l))},h),{},{children:t}))})};Ma.displayName="Toast",Ra.displayName="Toast.Toggle";Object.assign(Ma,{Toggle:Ra});var ja=function(e){var t=x((0,n.useState)([{i:0,r:-1},{i:1,r:-1},{i:2,r:-1},{i:3,r:-1},{i:4,r:-1}]),2),r=t[0],i=t[1],a=(e.results.length,e.setRel),o=e.index,u=function(){for(var t=[],n=0;n<e.results.length;n++){var r=e.results[n].return_url,i=e.results[n].description,a=[n,e.results[n].text,r,i];t.push(a)}return t}(),s=function(e,t){var n=r.map((function(n){return n.i===e?Re(Re({},n),{},{r:t}):n}));i(n),a(o,e,t)};return(0,Le.jsxs)("div",{className:"my-4",children:[(0,Le.jsx)("p",{className:"text-3xl text-gray-700 font-bold mb-5",children:e.query}),(0,Le.jsxs)(ga,{children:[(0,Le.jsx)("caption",{className:"p-3 text-lg text-left text-gray-700 font-bold mb-0 bg-gray-50",children:"RESULTS"}),(0,Le.jsx)(ga.Body,{className:"divide-y",children:u.map((function(e){return(0,Le.jsxs)(ga.Row,{className:"flex flex-col flex-no wrap lg:table-row mb-2 sm:mb-0 bg-white dark:border-gray-700 dark:bg-gray-800",children:[(0,Le.jsxs)(ga.Cell,{className:"whitespace-nowrap font-medium text-gray-900 dark:text-white",children:[(0,Le.jsxs)("p",{className:"text-l text-gray-700 font-bold mb-5",children:[e[1]," "]}),(0,Le.jsx)("p",{children:e[3].length>80?e[3].substring(0,80)+"...":e[3]}),(0,Le.jsxs)("a",{href:e[2],target:"_blank",rel:"noopener noreferrer",style:{color:"blue"},children:[e[2].length>40?e[2].substring(0,40)+"...":e[2]," "]})]}),(0,Le.jsxs)(ga.Cell,{children:[(0,Le.jsx)("p",{className:"pt-2 pb-2 pl-2 text-medium text-left mb-5 text-gray-700 font-bold bg-gray-50",children:" RATING"}),(0,Le.jsxs)(Dt.Group,{children:[(0,Le.jsx)(Dt,{color:0==r[e[0]].r?"info":"gray",onClick:function(){s(e[0],0)},children:"Irrelevant"}),(0,Le.jsx)(Dt,{color:1==r[e[0]].r?"info":"gray",onClick:function(){s(e[0],1)},children:"Partially relevant"}),(0,Le.jsx)(Dt,{color:2==r[e[0]].r?"info":"gray",onClick:function(){s(e[0],2)},children:"Relevant"}),(0,Le.jsx)(Dt,{color:3==r[e[0]].r?"info":"gray",onClick:function(){s(e[0],3)},children:"Perfect"})]})]})]},e)}))})]})]})};function Fa(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var Ua=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Va={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ua(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ba=function(e){return function(e){var t=Ua(e);return Va.encodeByteArray(t,!0)}(e).replace(/\./g,"")},za=function(e){try{return Va.decodeString(e,!0)}catch(Ht){console.error("base64Decode failed: ",Ht)}return null};function qa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=qa(e[n],t[n]));return e}function Ka(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ha(){try{return"[object process]"===Object.prototype.toString.call(__webpack_require__.g.process)}catch(Ht){return!1}}function Ga(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Wa(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Qa(){var e=Ka();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ya(){return"object"===typeof indexedDB}var $a=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Xa=function(){try{return $a()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/f22-t4sg-search-evaluator",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ht){return}var t=e&&za(e[1]);return t&&JSON.parse(t)}}()}catch(Ht){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Ht))}},Ja=function(){var e;return null===(e=Xa())||void 0===e?void 0:e.config},Za=function(){function e(){var t=this;c(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return f(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function eo(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ba(JSON.stringify({alg:"none",type:"JWT"})),Ba(JSON.stringify(a)),""].join(".")}var to=function(e){h(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(m(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(m(a),no.prototype.create),a}return f(n)}(I(Error)),no=function(){function e(t,n,r){c(this,e),this.service=t,this.serviceName=n,this.errors=r}return f(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ro(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new to(n,a,t);return o}}]),e}();function ro(e,t){return e.replace(io,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var io=/\{\$([^}]+)}/g;function ao(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oo(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(uo(u)&&uo(s)){if(!oo(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function uo(e){return null!==e&&"object"===typeof e}function so(e){for(var t=[],n=function(){var e=x(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function co(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=x(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function lo(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function fo(e,t){var n=new ho(e,t);return n.subscribe.bind(n)}var ho=function(){function e(t,n){var r=this;c(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return f(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Fa(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=po),void 0===r.error&&(r.error=po),void 0===r.complete&&(r.complete=po);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Ht){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Ht){"undefined"!==typeof console&&console.error&&console.error(Ht)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function po(){}function vo(e){return e&&e._delegate?e._delegate:e}var go=function(){function e(t,n,r){c(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return f(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),mo="[DEFAULT]",yo=function(){function e(t,n){c(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return f(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Za;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Ht){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Ht){if(r)return null;throw Ht}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch(Ht){}var t,n=Fa(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=x(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(Ht){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(s(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),s(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Fa(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=x(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Fa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(pN){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bo(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(pN){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mo;return this.component?this.component.multipleInstances?e:mo:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function bo(e){return e===mo?void 0:e}var ko,wo,xo=function(){function e(t){c(this,e),this.name=t,this.providers=new Map}return f(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new yo(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),_o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(wo||(wo={}));var Io={debug:wo.DEBUG,verbose:wo.VERBOSE,info:wo.INFO,warn:wo.WARN,error:wo.ERROR,silent:wo.SILENT},So=wo.INFO,Eo=(De(ko={},wo.DEBUG,"log"),De(ko,wo.VERBOSE,"log"),De(ko,wo.INFO,"info"),De(ko,wo.WARN,"warn"),De(ko,wo.ERROR,"error"),ko),To=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Eo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Co=function(){function e(t){c(this,e),this.name=t,this._logLevel=So,this._logHandler=To,this._userLogHandler=null,_o.push(this)}return f(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in wo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Io[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wo.DEBUG].concat(t)),this._logHandler.apply(this,[this,wo.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wo.VERBOSE].concat(t)),this._logHandler.apply(this,[this,wo.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wo.INFO].concat(t)),this._logHandler.apply(this,[this,wo.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wo.WARN].concat(t)),this._logHandler.apply(this,[this,wo.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,wo.ERROR].concat(t)),this._logHandler.apply(this,[this,wo.ERROR].concat(t))}}]),e}();var No,Ao;var Do=new WeakMap,Oo=new WeakMap,Ro=new WeakMap,Po=new WeakMap,Lo=new WeakMap;var Mo={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Oo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ro.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Uo(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function jo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ao||(Ao=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Vo(this),n),Uo(Do.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Uo(e.apply(Vo(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Vo(this),t].concat(r));return Ro.set(a,t.sort?t.sort():[t]),Uo(a)}}function Fo(e){return"function"===typeof e?jo(e):(e instanceof IDBTransaction&&function(e){if(!Oo.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Oo.set(e,t)}}(e),t=e,(No||(No=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Mo):e);var t}function Uo(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Uo(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Do.set(t,e)})).catch((function(){})),Lo.set(t,e),t}(e);if(Po.has(e))return Po.get(e);var t=Fo(e);return t!==e&&(Po.set(e,t),Lo.set(t,e)),t}var Vo=function(e){return Lo.get(e)};var Bo,zo,qo=["get","getKey","getAll","getAllKeys","count"],Ko=["put","add","delete","clear"],Ho=new Map;function Go(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ho.get(t))return Ho.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ko.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||qo.includes(n))){var a=function(){var e=Vt(Ft().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ho.set(t,a),a}}}Mo=function(e){return Re(Re({},e),{},{get:function(t,n,r){return Go(t,n)||e.get(t,n,r)},has:function(t,n){return!!Go(t,n)||e.has(t,n)}})}(Mo);var Wo=function(){function e(t){c(this,e),this.container=t}return f(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Qo="@firebase/app",Yo="0.8.2",$o=new Co("@firebase/app"),Xo="[DEFAULT]",Jo=(De(Bo={},Qo,"fire-core"),De(Bo,"@firebase/app-compat","fire-core-compat"),De(Bo,"@firebase/analytics","fire-analytics"),De(Bo,"@firebase/analytics-compat","fire-analytics-compat"),De(Bo,"@firebase/app-check","fire-app-check"),De(Bo,"@firebase/app-check-compat","fire-app-check-compat"),De(Bo,"@firebase/auth","fire-auth"),De(Bo,"@firebase/auth-compat","fire-auth-compat"),De(Bo,"@firebase/database","fire-rtdb"),De(Bo,"@firebase/database-compat","fire-rtdb-compat"),De(Bo,"@firebase/functions","fire-fn"),De(Bo,"@firebase/functions-compat","fire-fn-compat"),De(Bo,"@firebase/installations","fire-iid"),De(Bo,"@firebase/installations-compat","fire-iid-compat"),De(Bo,"@firebase/messaging","fire-fcm"),De(Bo,"@firebase/messaging-compat","fire-fcm-compat"),De(Bo,"@firebase/performance","fire-perf"),De(Bo,"@firebase/performance-compat","fire-perf-compat"),De(Bo,"@firebase/remote-config","fire-rc"),De(Bo,"@firebase/remote-config-compat","fire-rc-compat"),De(Bo,"@firebase/storage","fire-gcs"),De(Bo,"@firebase/storage-compat","fire-gcs-compat"),De(Bo,"@firebase/firestore","fire-fst"),De(Bo,"@firebase/firestore-compat","fire-fst-compat"),De(Bo,"fire-js","fire-js"),De(Bo,"firebase","fire-js-all"),Bo),Zo=new Map,eu=new Map;function tu(e,t){try{e.container.addComponent(t)}catch(Ht){$o.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Ht)}}function nu(e,t){e.container.addOrOverwriteComponent(t)}function ru(e){var t=e.name;if(eu.has(t))return $o.debug("There were multiple attempts to register component ".concat(t,".")),!1;eu.set(t,e);var n,r=Fa(Zo.values());try{for(r.s();!(n=r.n()).done;){tu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function iu(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function au(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xo;iu(e,t).clearInstance(n)}function ou(){eu.clear()}var uu=(De(zo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),De(zo,"bad-app-name","Illegal App name: '{$appName}"),De(zo,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),De(zo,"app-deleted","Firebase App named '{$appName}' already deleted"),De(zo,"no-options","Need to provide options, when not being deployed to hosting via source."),De(zo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),De(zo,"invalid-log-argument","First argument to `onLog` must be null or a function."),De(zo,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),De(zo,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),De(zo,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),De(zo,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),zo),su=new no("app","Firebase",uu),cu=function(){function e(t,n,r){var i=this;c(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",(function(){return i}),"PUBLIC"))}return f(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw su.create("app-deleted",{appName:this._name})}}]),e}(),lu="9.12.1";function fu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Xo,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw su.create("bad-app-name",{appName:String(a)});if(n||(n=Ja()),!n)throw su.create("no-options");var o=Zo.get(a);if(o){if(oo(n,o.options)&&oo(i,o.config))return o;throw su.create("duplicate-app",{appName:a})}var u,s=new xo(a),c=Fa(eu.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(d){c.e(d)}finally{c.f()}var f=new cu(n,i,s);return Zo.set(a,f),f}function du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo,t=Zo.get(e);if(!t&&e===Xo)return fu();if(!t)throw su.create("no-app",{appName:e});return t}function hu(){return Array.from(Zo.values())}function pu(e){return vu.apply(this,arguments)}function vu(){return(vu=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Zo.has(n)){e.next=6;break}return Zo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(e,t,n){var r,i=null!==(r=Jo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void $o.warn(u.join(" "))}ru(new go("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function mu(e,t){if(null!==e&&"function"!==typeof e)throw su.create("invalid-log-argument");!function(e,t){var n,r=Fa(_o);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Io[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:wo[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function yu(e){var t;t=e,_o.forEach((function(e){e.setLogLevel(t)}))}var bu="firebase-heartbeat-store",ku=null;function wu(){return ku||(ku=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Uo(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Uo(u.result),e.oldVersion,e.newVersion,Uo(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(bu)}}).catch((function(e){throw su.create("idb-open",{originalErrorMessage:e.message})}))),ku}function xu(e){return _u.apply(this,arguments)}function _u(){return _u=Vt(Ft().mark((function e(t){var n,r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wu();case 3:return r=e.sent,e.abrupt("return",r.transaction(bu).objectStore(bu).get(Eu(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof to?$o.warn(e.t0.message):(i=su.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),$o.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),_u.apply(this,arguments)}function Iu(e,t){return Su.apply(this,arguments)}function Su(){return Su=Vt(Ft().mark((function e(t,n){var r,i,a,o,u;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wu();case 3:return i=e.sent,a=i.transaction(bu,"readwrite"),o=a.objectStore(bu),e.next=8,o.put(n,Eu(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof to?$o.warn(e.t0.message):(u=su.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),$o.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Su.apply(this,arguments)}function Eu(e){return"".concat(e.name,"!").concat(e.options.appId)}var Tu=function(){function e(t){var n=this;c(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ou(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return f(e,[{key:"triggerHeartbeat",value:function(){var e=Vt(Ft().mark((function e(){var t,n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Cu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Vt(Ft().mark((function e(){var t,n,r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Cu(),n=Nu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ba(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Cu(){return(new Date).toISOString().substring(0,10)}function Nu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Fa(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ru(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ru(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Au,Du,Ou=function(){function e(t){c(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return f(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ya()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,xu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Iu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Iu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(s(r.heartbeats),s(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ru(e){return Ba(JSON.stringify({version:2,heartbeats:e})).length}Au="",ru(new go("platform-logger",(function(e){return new Wo(e)}),"PRIVATE")),ru(new go("heartbeat",(function(e){return new Tu(e)}),"PRIVATE")),gu(Qo,Yo,Au),gu(Qo,Yo,"esm2017"),gu("fire-js","");var Pu=function(){function e(t,n){var r=this;c(this,e),this._delegate=t,this.firebase=n,tu(t,new go("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return f(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),pu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){tu(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){nu(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Lu=(De(Du={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),De(Du,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Du),Mu=new no("app-compat","Firebase",Lu);var ju=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=fu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ao(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:gu,setLogLevel:yu,onLog:mu,apps:null,SDK_VERSION:lu,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ru(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Mu.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&qa(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ao(n,e=e||Xo))throw Mu.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Pu);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){qa(n,e)},createSubscribe:fo,ErrorFactory:no,deepExtend:qa}),n}(),Fu=new Co("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Fu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Uu=self.firebase.SDK_VERSION;Uu&&Uu.indexOf("LITE")>=0&&Fu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Vu=ju;!function(e){gu("@firebase/app-compat","0.1.37",e)}();function Bu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function zu(){return zu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Bu(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},zu.apply(this,arguments)}Vu.registerVersion("firebase","9.12.1","app-compat");function qu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ku;Object.create;var Hu="facebook.com",Gu="github.com",Wu="google.com",Qu="password",Yu="twitter.com",$u="EMAIL_SIGNIN",Xu="PASSWORD_RESET",Ju="RECOVER_EMAIL",Zu="REVERT_SECOND_FACTOR_ADDITION",es="VERIFY_AND_CHANGE_EMAIL",ts="VERIFY_EMAIL";function ns(){return De({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var rs=function(){var e;return De(e={},"admin-restricted-operation","This operation is restricted to administrators only."),De(e,"argument-error",""),De(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),De(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),De(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),De(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),De(e,"cordova-not-ready","Cordova framework is not ready."),De(e,"cors-unsupported","This browser is not supported."),De(e,"credential-already-in-use","This credential is already associated with a different user account."),De(e,"custom-token-mismatch","The custom token corresponds to a different audience."),De(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),De(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),De(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),De(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),De(e,"email-already-in-use","The email address is already in use by another account."),De(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),De(e,"expired-action-code","The action code has expired."),De(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),De(e,"internal-error","An internal AuthError has occurred."),De(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),De(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),De(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),De(e,"invalid-auth-event","An internal AuthError has occurred."),De(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),De(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),De(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),De(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),De(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),De(e,"invalid-email","The email address is badly formatted."),De(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),De(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),De(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),De(e,"invalid-credential","The supplied auth credential is malformed or has expired."),De(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),De(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),De(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),De(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),De(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),De(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),De(e,"wrong-password","The password is invalid or the user does not have a password."),De(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),De(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),De(e,"invalid-provider-id","The specified provider ID is invalid."),De(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),De(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),De(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),De(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),De(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),De(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),De(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),De(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),De(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),De(e,"missing-continue-uri","A continue URL must be provided in the request."),De(e,"missing-iframe-start","An internal AuthError has occurred."),De(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),De(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),De(e,"missing-multi-factor-info","No second factor identifier is provided."),De(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),De(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),De(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),De(e,"app-deleted","This instance of FirebaseApp has been deleted."),De(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),De(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),De(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),De(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),De(e,"no-auth-event","An internal AuthError has occurred."),De(e,"no-such-provider","User was not linked to an account with the given provider."),De(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),De(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),De(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),De(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),De(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),De(e,"provider-already-linked","User can only be linked to one identity for the given provider."),De(e,"quota-exceeded","The project's quota for this operation has been exceeded."),De(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),De(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),De(e,"rejected-credential","The request contains malformed or mismatching credentials."),De(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),De(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),De(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),De(e,"timeout","The operation has timed out."),De(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),De(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),De(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),De(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),De(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),De(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),De(e,"unverified-email","The operation requires a verified email."),De(e,"user-cancelled","The user did not grant your application the permissions it requested."),De(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),De(e,"user-disabled","The user account has been disabled by an administrator."),De(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),De(e,"user-signed-out",""),De(e,"weak-password","The password must be 6 characters long or more."),De(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),De(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},is=ns,as=new no("auth","Firebase",ns()),os=new Co("@firebase/auth");function us(e){if(os.logLevel<=wo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];os.error.apply(os,["Auth (".concat(lu,"): ").concat(e)].concat(n))}}function ss(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ds.apply(void 0,[e].concat(n))}function cs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ds.apply(void 0,[e].concat(n))}function ls(e,t,n){var r=Object.assign(Object.assign({},is()),De({},t,n));return new no("auth","Firebase",r).create(t,{appName:e.name})}function fs(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ss(e,"argument-error"),ls(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ds(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=s(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(s(o)))}return as.create.apply(as,[e].concat(n))}function hs(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ds.apply(void 0,[t].concat(r))}}function ps(e){var t="INTERNAL ASSERTION FAILED: "+e;throw us(t),new Error(t)}function vs(e,t){e||ps(t)}var gs=new Map;function ms(e){vs(e instanceof Function,"Expected a class definition");var t=gs.get(e);return t?(vs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,gs.set(e,t),t)}function ys(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function bs(){return"http:"===ks()||"https:"===ks()}function ks(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ws=function(){function e(t,n){c(this,e),this.shortDelay=t,this.longDelay=n,vs(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ka())||Wa()}return f(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(bs()||Ga()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function xs(e,t){vs(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var _s=function(){function e(){c(this,e)}return f(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Is=(De(Ku={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),De(Ku,"MISSING_CUSTOM_TOKEN","internal-error"),De(Ku,"INVALID_IDENTIFIER","invalid-email"),De(Ku,"MISSING_CONTINUE_URI","internal-error"),De(Ku,"INVALID_PASSWORD","wrong-password"),De(Ku,"MISSING_PASSWORD","internal-error"),De(Ku,"EMAIL_EXISTS","email-already-in-use"),De(Ku,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),De(Ku,"INVALID_IDP_RESPONSE","invalid-credential"),De(Ku,"INVALID_PENDING_TOKEN","invalid-credential"),De(Ku,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),De(Ku,"MISSING_REQ_TYPE","internal-error"),De(Ku,"EMAIL_NOT_FOUND","user-not-found"),De(Ku,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),De(Ku,"EXPIRED_OOB_CODE","expired-action-code"),De(Ku,"INVALID_OOB_CODE","invalid-action-code"),De(Ku,"MISSING_OOB_CODE","internal-error"),De(Ku,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),De(Ku,"INVALID_ID_TOKEN","invalid-user-token"),De(Ku,"TOKEN_EXPIRED","user-token-expired"),De(Ku,"USER_NOT_FOUND","user-token-expired"),De(Ku,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),De(Ku,"INVALID_CODE","invalid-verification-code"),De(Ku,"INVALID_SESSION_INFO","invalid-verification-id"),De(Ku,"INVALID_TEMPORARY_PROOF","invalid-credential"),De(Ku,"MISSING_SESSION_INFO","missing-verification-id"),De(Ku,"SESSION_EXPIRED","code-expired"),De(Ku,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),De(Ku,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),De(Ku,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),De(Ku,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),De(Ku,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),De(Ku,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),De(Ku,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),De(Ku,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),De(Ku,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),De(Ku,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),De(Ku,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ku),Ss=new ws(3e4,6e4);function Es(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ts(e,t,n,r){return Cs.apply(this,arguments)}function Cs(){return Cs=Vt(Ft().mark((function e(t,n,r,i){var a,o=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ns(t,a,Vt(Ft().mark((function e(){var a,o,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=so(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",_s.fetch()(Rs(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function Ns(e,t,n){return As.apply(this,arguments)}function As(){return As=Vt(Ft().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Is),n),e.prev=2,a=new Ps(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Ls(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=x(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Ls(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Ls(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Ls(t,"user-disabled",u);case 29:if(h=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw ls(t,h,d);case 34:ss(t,h);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof to)){e.next=41;break}throw e.t0;case 41:ss(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),As.apply(this,arguments)}function Ds(e,t,n,r){return Os.apply(this,arguments)}function Os(){return Os=Vt(Ft().mark((function e(t,n,r,i){var a,o,u=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ts(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ss(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function Rs(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?xs(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ps=function(){function e(t){var n=this;c(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(cs(n.auth,"network-request-failed"))}),Ss.get())}))}return f(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ls(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=cs(e,t,r);return i.customData._tokenResponse=n,i}function Ms(e,t){return js.apply(this,arguments)}function js(){return(js=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return(Us=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(e,t){return Bs.apply(this,arguments)}function Bs(){return(Bs=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Ht){}}function qs(){return qs=Vt(Ft().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=vo(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,hs((a=Hs(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:zs(Ks(a.auth_time)),issuedAtTime:zs(Ks(a.iat)),expirationTime:zs(Ks(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Ks(e){return 1e3*Number(e)}function Hs(e){var t,n=x(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return us("JWT malformed, contained fewer than 3 sections"),null;try{var o=za(i);return o?JSON.parse(o):(us("Failed to decode base64 JWT payload"),null)}catch(Ht){return us("Caught error parsing JWT payload as JSON",null===(t=Ht)||void 0===t?void 0:t.toString()),null}}function Gs(e,t){return Ws.apply(this,arguments)}function Ws(){return Ws=Vt(Ft().mark((function e(t,n){var r=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof to&&Qs(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ws.apply(this,arguments)}function Qs(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ys=function(){function e(t){c(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return f(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Vt(Ft().mark((function t(){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),$s=function(){function e(t,n){c(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return f(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=zs(this.lastLoginAt),this.creationTime=zs(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Xs(e){return Js.apply(this,arguments)}function Js(){return Js=Vt(Ft().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Gs(t,Vs(r,{idToken:i}));case 6:hs(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?tc(o.providerUserInfo):[],s=ec(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new $s(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Zs(){return(Zs=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vo(t),e.next=3,Xs(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ec(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(s(n),s(t))}function tc(e){return e.map((function(e){var t=e.providerId,n=qu(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function nc(e,t){return rc.apply(this,arguments)}function rc(){return(rc=Vt(Ft().mark((function e(t,n){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(t,{},Vt(Ft().mark((function e(){var r,i,a,o,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=so({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Rs(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",_s.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ic=function(){function e(){c(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return f(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){hs(e.idToken,"internal-error"),hs("undefined"!==typeof e.idToken,"internal-error"),hs("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Hs(e);return hs(t,"internal-error"),hs("undefined"!==typeof t.exp,"internal-error"),hs("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Vt(Ft().mark((function e(t){var n,r=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],hs(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Vt(Ft().mark((function e(t,n){var r,i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ps("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(hs("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(hs("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(hs("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ac(e,t){hs("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var oc=function(){function e(t){c(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=qu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ys(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?s(a.providerData):[],this.metadata=new $s(a.createdAt||void 0,a.lastLoginAt||void 0)}return f(e,[{key:"getIdToken",value:function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(hs(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return qs.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Zs.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(hs(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){hs(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Vt(Ft().mark((function e(t){var n,r,i=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Xs(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Gs(this,Ms(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,g=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;hs(b&&_,t,"internal-error");var I=ic.fromJSON(this.name,_);hs("string"===typeof b,t,"internal-error"),ac(f,t.name),ac(d,t.name),hs("boolean"===typeof k,t,"internal-error"),hs("boolean"===typeof w,t,"internal-error"),ac(h,t.name),ac(p,t.name),ac(v,t.name),ac(g,t.name),ac(m,t.name),ac(y,t.name);var S=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:m,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),g&&(S._redirectEventId=g),S}},{key:"_fromIdTokenResponse",value:function(){var t=Vt(Ft().mark((function t(n,r){var i,a,o,u=arguments;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ic).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Xs(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),uc=function(){function e(){c(this,e),this.type="NONE",this.storage={}}return f(e,[{key:"_isAvailable",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();uc.type="NONE";var sc=uc;function cc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var lc=function(){function e(t,n,r){c(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=cc(this.userKey,a.apiKey,o),this.fullPersistenceKey=cc("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return f(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?oc._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Vt(Ft().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ms(sc),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ms(sc),u=cc(i,n.config.apiKey,n.name),s=null,c=Fa(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=oc._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function fc(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mc(t))return"Blackberry";if(yc(t))return"Webos";if(hc(t))return"Safari";if((t.includes("chrome/")||pc(t))&&!t.includes("edge/"))return"Chrome";if(gc(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function dc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return/firefox\//i.test(e)}function hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return/crios\//i.test(e)}function vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return/iemobile/i.test(e)}function gc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return/android/i.test(e)}function mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return/blackberry/i.test(e)}function yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return/webos/i.test(e)}function bc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function kc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return bc(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function wc(){return Qa()&&10===document.documentMode}function xc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return bc(e)||gc(e)||yc(e)||mc(e)||/windows phone/i.test(e)||vc(e)}function _c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=fc(Ka());break;case"Worker":t="".concat(fc(Ka()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(lu,"/").concat(r)}var Ic=function(){function e(t){c(this,e),this.auth=t,this.queue=[]}return f(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(Ht){r(Ht)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Vt(Ft().mark((function e(t){var n,r,i,a,o,u,s,c;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Fa(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Fa(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Sc=function(){function e(t,n,r){c(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tc(this),this.idTokenSubscription=new Tc(this),this.beforeStateQueue=new Ic(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=as,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return f(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ms(t)),this._initializationPromise=this.queue(Vt(Ft().mark((function r(){var i,a;return Ft().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,lc.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Vt(Ft().mark((function e(t){var n,r,i,a,o,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return hs(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xs(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?vo(t):null)&&hs(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Vt(Ft().mark((function e(t){var n,r=this,i=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&hs(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Vt(Ft().mark((function n(){return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ms(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new no("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Vt(Ft().mark((function e(t,n){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return hs(n=t&&ms(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,lc.create(this,[ms(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Vt(Ft().mark((function e(t){var n=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return hs(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return hs(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_c(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Vt(Ft().mark((function e(){var t,n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=De({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ec(e){return vo(e)}var Tc=function(){function e(t){var n=this;c(this,e),this.auth=t,this.observer=null,this.addObserver=fo((function(e){return n.observer=e}))}return f(e,[{key:"next",get:function(){return hs(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Cc(e,t,n){var r=Ec(e);hs(r._canInitEmulator,r,"emulator-config-failed"),hs(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Nc(t),o=function(e){var t=Nc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ac(r.substr(a.length+1))}}var o=x(r.split(":"),2);return{host:o[0],port:Ac(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Nc(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ac(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Dc=function(){function e(t,n){c(this,e),this.providerId=t,this.signInMethod=n}return f(e,[{key:"toJSON",value:function(){return ps("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ps("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ps("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ps("not implemented")}}]),e}();function Oc(e,t){return Rc.apply(this,arguments)}function Rc(){return(Rc=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts(t,"POST","/v1/accounts:resetPassword",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pc(e,t){return Lc.apply(this,arguments)}function Lc(){return(Lc=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(e,t){return jc.apply(this,arguments)}function jc(){return(jc=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts(t,"POST","/v1/accounts:update",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(e,t){return Uc.apply(this,arguments)}function Uc(){return(Uc=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(t,"POST","/v1/accounts:signInWithPassword",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(e,t){return Bc.apply(this,arguments)}function Bc(){return(Bc=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts(t,"POST","/v1/accounts:sendOobCode",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zc(e,t){return qc.apply(this,arguments)}function qc(){return(qc=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(e,t){return Hc.apply(this,arguments)}function Hc(){return(Hc=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gc(e,t){return Wc.apply(this,arguments)}function Wc(){return(Wc=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qc(e,t){return Yc.apply(this,arguments)}function Yc(){return(Yc=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $c(e,t){return Xc.apply(this,arguments)}function Xc(){return(Xc=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jc(e,t){return Zc.apply(this,arguments)}function Zc(){return(Zc=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var el=function(e){h(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return c(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return f(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Fc(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",$c(t,{email:this._email,oobCode:this._password}));case 5:ss(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Pc(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Jc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ss(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Dc);function tl(e,t){return nl.apply(this,arguments)}function nl(){return(nl=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(t,"POST","/v1/accounts:signInWithIdp",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rl=function(e){h(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return f(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return tl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,tl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,tl(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=so(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ss("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=qu(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Dc);function il(e,t){return al.apply(this,arguments)}function al(){return(al=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts(t,"POST","/v1/accounts:sendVerificationCode",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ol(){return(ol=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(t,"POST","/v1/accounts:signInWithPhoneNumber",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ul(){return(ul=Vt(Ft().mark((function e(t,n){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(t,"POST","/v1/accounts:signInWithPhoneNumber",Es(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ls(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sl=De({},"USER_NOT_FOUND","user-not-found");function cl(){return(cl=Vt(Ft().mark((function e(t,n){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ds(t,"POST","/v1/accounts:signInWithPhoneNumber",Es(t,r),sl));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ll=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone","phone")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ol.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ul.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return cl.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Dc);var fl=function(){function e(t){var n,r,i,a,o,u;c(this,e);var s=co(lo(t)),l=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);hs(l&&f&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=f,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return f(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=co(lo(e)).link,n=t?co(lo(t)).deep_link_id:null,r=co(lo(e)).deep_link_id;return(r?co(lo(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(pN){return null}}}]),e}();var dl=function(){function e(){c(this,e),this.providerId=e.PROVIDER_ID}return f(e,null,[{key:"credential",value:function(e,t){return el._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=fl.parseLink(t);return hs(n,"argument-error"),el._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();dl.PROVIDER_ID="password",dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var hl=function(){function e(t){c(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return f(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),pl=function(e){h(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).scopes=[],e}return f(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return s(this.scopes)}}]),n}(hl),vl=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return f(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return hs(e.idToken||e.accessToken,"argument-error"),rl._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return hs("providerId"in t&&"signInMethod"in t,"argument-error"),rl._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(Ht){return null}}}]),n}(pl),gl=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.call(this,"facebook.com")}return f(n,null,[{key:"credential",value:function(e){return rl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(pN){return null}}}]),n}(pl);gl.FACEBOOK_SIGN_IN_METHOD="facebook.com",gl.PROVIDER_ID="facebook.com";var ml=function(e){h(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return f(n,null,[{key:"credential",value:function(e,t){return rl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(pN){return null}}}]),n}(pl);ml.GOOGLE_SIGN_IN_METHOD="google.com",ml.PROVIDER_ID="google.com";var yl=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.call(this,"github.com")}return f(n,null,[{key:"credential",value:function(e){return rl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(pN){return null}}}]),n}(pl);yl.GITHUB_SIGN_IN_METHOD="github.com",yl.PROVIDER_ID="github.com";var bl=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return f(n,[{key:"_getIdTokenResponse",value:function(e){return tl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,tl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,tl(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Dc),kl=function(e){h(n,e);var t=b(n);function n(e){return c(this,n),hs(e.startsWith("saml."),"argument-error"),t.call(this,e)}return f(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=bl.fromJSON(e);return hs(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return bl._create(r,n)}catch(Ht){return null}}}]),n}(hl),wl=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.call(this,"twitter.com")}return f(n,null,[{key:"credential",value:function(e,t){return rl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(pN){return null}}}]),n}(pl);function xl(e,t){return _l.apply(this,arguments)}function _l(){return(_l=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(t,"POST","/v1/accounts:signUp",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}wl.TWITTER_SIGN_IN_METHOD="twitter.com",wl.PROVIDER_ID="twitter.com";var Il=function(){function e(t){c(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return f(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Vt(Ft().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,oc._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Sl(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Vt(Ft().mark((function t(n,r,i){var a;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Sl(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Sl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function El(){return El=Vt(Ft().mark((function e(t){var n,r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Il({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,xl(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Il._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),El.apply(this,arguments)}var Tl=function(e){h(n,e);var t=b(n);function n(e,r,i,a){var o,u;return c(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(m(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return f(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(to);function Cl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Tl._fromErrorAndOperation(e,n,t,r);throw n}))}function Nl(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Al(e,t){return Dl.apply(this,arguments)}function Dl(){return Dl=Vt(Ft().mark((function e(t,n){var r,i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),e.next=3,Pl(!0,r,n);case 3:return e.t0=Fs,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Nl(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ol(e,t){return Rl.apply(this,arguments)}function Rl(){return Rl=Vt(Ft().mark((function e(t,n){var r,i,a=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Gs,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Il._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}function Pl(e,t,n){return Ll.apply(this,arguments)}function Ll(){return(Ll=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xs(n);case 2:i=Nl(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",hs(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ml(e,t){return jl.apply(this,arguments)}function jl(){return jl=Vt(Ft().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Gs(t,Cl(a,o,n,t),r);case 6:return hs((u=e.sent).idToken,a,"internal-error"),hs(s=Hs(u.idToken),a,"internal-error"),c=s.sub,hs(t.uid===c,a,"user-mismatch"),e.abrupt("return",Il._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&ss(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),jl.apply(this,arguments)}function Fl(e,t){return Ul.apply(this,arguments)}function Ul(){return Ul=Vt(Ft().mark((function e(t,n){var r,i,a,o,u=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Cl(t,i,n);case 4:return a=e.sent,e.next=7,Il._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function Vl(e,t){return Bl.apply(this,arguments)}function Bl(){return(Bl=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl(Ec(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zl(e,t){return ql.apply(this,arguments)}function ql(){return(ql=Vt(Ft().mark((function e(t,n){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),e.next=3,Pl(!1,r,n.providerId);case 3:return e.abrupt("return",Ol(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(e,t){return Hl.apply(this,arguments)}function Hl(){return(Hl=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ml(vo(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gl(e,t){return Wl.apply(this,arguments)}function Wl(){return(Wl=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ds(t,"POST","/v1/accounts:signInWithCustomToken",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ql(){return(Ql=Vt(Ft().mark((function e(t,n){var r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),e.next=3,Gl(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Il._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yl=function(){function e(t,n){c(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return f(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?$l._fromServerResponse(e,t):ss(e,"internal-error")}}]),e}(),$l=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return f(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Yl);function Xl(e,t,n){var r;hs((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),hs("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(hs(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(hs(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Jl(){return(Jl=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),a={requestType:"PASSWORD_RESET",email:n},r&&Xl(i,a,r),e.next=5,Kc(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zl(){return(Zl=Vt(Ft().mark((function e(t,n,r){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oc(vo(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ef(){return(ef=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mc(vo(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(e,t){return nf.apply(this,arguments)}function nf(){return(nf=Vt(Ft().mark((function e(t,n){var r,i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),e.next=3,Oc(r,{oobCode:n});case 3:i=e.sent,hs(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return hs(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:hs(i.mfaInfo,r,"internal-error");case 13:hs(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Yl._fromServerResponse(Ec(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rf(){return(rf=Vt(Ft().mark((function e(t,n){var r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tf(vo(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(e,t,n){return of.apply(this,arguments)}function of(){return(of=Vt(Ft().mark((function e(t,n,r){var i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ec(t),e.next=3,xl(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Il._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(){return(uf=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),a={requestType:"EMAIL_SIGNIN",email:n},hs(r.handleCodeInApp,i,"argument-error"),r&&Xl(i,a,r),e.next=6,Gc(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sf(){return(sf=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),hs((a=dl.credentialWithLink(n,r||ys()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Vl(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cf(e,t){return lf.apply(this,arguments)}function lf(){return(lf=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts(t,"POST","/v1/accounts:createAuthUri",Es(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ff(){return(ff=Vt(Ft().mark((function e(t,n){var r,i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bs()?ys():"http://localhost",i={identifier:n,continueUri:r},e.next=4,cf(vo(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(){return(df=Vt(Ft().mark((function e(t,n){var r,i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vo(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Xl(r.auth,a,n),e.next=8,zc(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hf(){return(hf=Vt(Ft().mark((function e(t,n,r){var i,a,o,u;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Xl(i.auth,o,r),e.next=8,Qc(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pf(e,t){return vf.apply(this,arguments)}function vf(){return(vf=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gf(){return(gf=Vt(Ft().mark((function e(t,n){var r,i,a,o,u,s,c;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=vo(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Gs(a,pf(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mf(e,t,n){return yf.apply(this,arguments)}function yf(){return(yf=Vt(Ft().mark((function e(t,n,r){var i,a,o,u;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Gs(t,Pc(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bf=f((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),kf=function(e){h(n,e);var t=b(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this,e,r,i)).username=a,o}return f(n)}(bf),wf=function(e){h(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"facebook.com",r)}return f(n)}(bf),xf=function(e){h(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return f(n)}(kf),_f=function(e){h(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"google.com",r)}return f(n)}(bf),If=function(e){h(n,e);var t=b(n);function n(e,r,i){return c(this,n),t.call(this,e,"twitter.com",r,i)}return f(n)}(kf);function Sf(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Hs(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new bf(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new wf(a,i);case"github.com":return new xf(a,i);case"google.com":return new _f(a,i);case"twitter.com":return new If(a,i,e.screenName||null);case"custom":case"anonymous":return new bf(a,null);default:return new bf(a,r,i)}}(n)}var Ef=function(){function e(t,n,r){c(this,e),this.type=t,this.credential=n,this.auth=r}return f(e,[{key:"toJSON",value:function(){return{multiFactorSession:De({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Tf=function(){function e(t,n,r){c(this,e),this.session=t,this.hints=n,this.signInResolver=r}return f(e,[{key:"resolveSignIn",value:function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ec(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Yl._fromServerResponse(r,e)}));hs(i.mfaPendingCredential,r,"internal-error");var o=Ef._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Vt(Ft().mark((function e(t){var a,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Il._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return hs(n.user,r,"internal-error"),e.abrupt("return",Il._forOperation(n.user,n.operationType,u));case 17:ss(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Cf(e,t){return Ts(e,"POST","/v2/accounts/mfaEnrollment:start",Es(e,t))}var Nf=function(){function e(t){var n=this;c(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Yl._fromServerResponse(t.auth,e)})))}))}return f(e,[{key:"getSession",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ef,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Vt(Ft().mark((function e(t,n){var r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Gs(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Vt(Ft().mark((function e(t){var n,r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Gs(this.user,Ts(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Es(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Af=new WeakMap;var Df="__sak",Of=function(){function e(t,n){c(this,e),this.storageRetriever=t,this.type=n}return f(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Df,"1"),this.storage.removeItem(Df),Promise.resolve(!0)):Promise.resolve(!1)}catch(pN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Rf=function(e){h(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ka();return hc(e)||bc(e)}()&&function(){try{return!(!window||window===window.top)}catch(Ht){return!1}}(),e.fallbackToPolling=xc(),e._shouldAllowMigration=!0,e}return f(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);wc()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Vt(Ft().mark((function e(t,r){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(p(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Vt(Ft().mark((function e(t){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(p(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(p(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Of);Rf.type="LOCAL";var Pf=Rf,Lf=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return f(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Of);Lf.type="SESSION";var Mf=Lf;function jf(e){return Promise.all(e.map(function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ff=function(){function e(t){c(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return f(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Vt(Ft().mark((function e(t){var n,r,i,a,o,u,s,c;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,jf(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Uf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ff.receivers=[];var Vf=function(){function e(t){c(this,e),this.target=t,this.handlers=new Set}return f(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Vt(Ft().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Uf("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Bf(){return window}function zf(){return"undefined"!==typeof Bf().WorkerGlobalScope&&"function"===typeof Bf().importScripts}function qf(){return Kf.apply(this,arguments)}function Kf(){return(Kf=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Hf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Gf="firebaseLocalStorageDb",Wf="firebaseLocalStorage",Qf="fbase_key",Yf=function(){function e(t){c(this,e),this.request=t}return f(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function $f(e,t){return e.transaction([Wf],t?"readwrite":"readonly").objectStore(Wf)}function Xf(){var e=indexedDB.deleteDatabase(Gf);return new Yf(e).toPromise()}function Jf(){var e=indexedDB.open(Gf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Wf,{keyPath:Qf})}catch(Ht){n(Ht)}})),e.addEventListener("success",Vt(Ft().mark((function n(){var r;return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Wf)){n.next=12;break}return r.close(),n.next=5,Xf();case 5:return n.t0=t,n.next=8,Jf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Zf(e,t,n){return ed.apply(this,arguments)}function ed(){return ed=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$f(t,!0).put((De(i={},Qf,n),De(i,"value",r),i)),e.abrupt("return",new Yf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ed.apply(this,arguments)}function td(e,t){return nd.apply(this,arguments)}function nd(){return nd=Vt(Ft().mark((function e(t,n){var r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$f(t,!1).get(n),e.next=3,new Yf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),nd.apply(this,arguments)}function rd(e,t){var n=$f(e,!0).delete(t);return new Yf(n).toPromise()}var id=function(){function e(){c(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return f(e,[{key:"_openDb",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Jf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Vt(Ft().mark((function e(){var t=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ff._getInstance(zf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Vt(Ft().mark((function e(n,r){var i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Vt(Ft().mark((function e(){var t,n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Vf(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Hf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Jf();case 5:return t=e.sent,e.next=8,Zf(t,Df,"1");case 8:return e.next=10,rd(t,Df);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Vt(Ft().mark((function e(t,n){var r=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Zf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return td(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Vt(Ft().mark((function e(t){var n=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return rd(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Vt(Ft().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=$f(e,!1).getAll();return new Yf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Fa(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Vt(Ft().mark((function t(){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();id.type="LOCAL";var ad=id;function od(e,t){return Ts(e,"POST","/v2/accounts/mfaSignIn:start",Es(e,t))}function ud(e){return sd.apply(this,arguments)}function sd(){return(sd=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ts(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cd(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=cs("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ld(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var fd=1e12,dd=function(){function e(t){c(this,e),this.auth=t,this.counter=fd,this._widgets=new Map}return f(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new hd(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||fd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||fd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||fd,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),hd=function(){function e(t,n,r){var i=this;c(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;hs(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return f(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(Ht){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(Ht){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var pd=ld("rcb"),vd=new ws(3e4,6e4),gd="https://www.google.com/recaptcha/api.js?",md=function(){function e(){var t;c(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Bf().grecaptcha)||void 0===t?void 0:t.render)}return f(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return hs(yd(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Bf().grecaptcha):new Promise((function(r,i){var a=Bf().setTimeout((function(){i(cs(e,"network-request-failed"))}),vd.get());Bf()[pd]=function(){Bf().clearTimeout(a),delete Bf()[pd];var o=Bf().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(cs(e,"internal-error"))},cd("".concat(gd,"?").concat(so({onload:pd,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(cs(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Bf().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function yd(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var bd=function(){function e(){c(this,e)}return f(e,[{key:"load",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new dd(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),kd="recaptcha",wd={theme:"light",type:"image"},xd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},wd),r=arguments.length>2?arguments[2]:void 0;c(this,e),this.parameters=n,this.type=kd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ec(r),this.isInvisible="invisible"===this.parameters.size,hs("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;hs(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bd:new md,this.validateStartingState()}return f(e,[{key:"verify",value:function(){var e=Vt(Ft().mark((function e(){var t,n,r,i=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(Ht){return Promise.reject(Ht)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){hs(!this.parameters.sitekey,this.auth,"argument-error"),hs(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),hs("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Bf()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){hs(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Vt(Ft().mark((function e(){var t,n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hs(bs()&&!zf(),this.auth,"internal-error"),e.next=3,_d();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ud(this.auth);case 8:hs(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return hs(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function _d(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Id=function(){function e(t,n){c(this,e),this.verificationId=t,this.onConfirmation=n}return f(e,[{key:"confirm",value:function(e){var t=ll._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Sd(){return(Sd=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ec(t),e.next=3,Nd(i,n,vo(r));case 3:return a=e.sent,e.abrupt("return",new Id(a,(function(e){return Vl(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ed(e,t,n){return Td.apply(this,arguments)}function Td(){return(Td=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),e.next=3,Pl(!1,i,"phone");case 3:return e.next=5,Nd(i.auth,n,vo(r));case 5:return a=e.sent,e.abrupt("return",new Id(a,(function(e){return zl(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cd(){return(Cd=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vo(t),e.next=3,Nd(i.auth,n,vo(r));case 3:return a=e.sent,e.abrupt("return",new Id(a,(function(e){return Kl(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nd(e,t,n){return Ad.apply(this,arguments)}function Ad(){return Ad=Vt(Ft().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,hs("string"===typeof a,t,"argument-error"),hs(r.type===kd,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return hs("enroll"===u.type,t,"internal-error"),e.next=13,Cf(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return hs("signin"===u.type,t,"internal-error"),hs(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,od(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,il(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ad.apply(this,arguments)}function Dd(){return(Dd=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ol(vo(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Od=function(){function e(t){c(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ec(t)}return f(e,[{key:"verifyPhoneNumber",value:function(e,t){return Nd(this.auth,e,vo(t))}}],[{key:"credential",value:function(e,t){return ll._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ll._fromTokenResponse(n,r):null}}]),e}();function Rd(e,t){return t?ms(t):(hs(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Od.PROVIDER_ID="phone",Od.PHONE_SIGN_IN_METHOD="phone";var Pd=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,"custom","custom")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return tl(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return tl(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return tl(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Dc);function Ld(e){return Fl(e.auth,new Pd(e),e.bypassAuthState)}function Md(e){var t=e.auth,n=e.user;return hs(n,t,"internal-error"),Ml(n,new Pd(e),e.bypassAuthState)}function jd(e){return Fd.apply(this,arguments)}function Fd(){return(Fd=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,hs(r=t.user,n,"internal-error"),e.abrupt("return",Ol(r,new Pd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ud=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];c(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return f(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Vt(Ft().mark((function t(n,r){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Vt(Ft().mark((function e(t){var n,r,i,a,o,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ld;case"linkViaPopup":case"linkViaRedirect":return jd;case"reauthViaPopup":case"reauthViaRedirect":return Md;default:ss(this.auth,"internal-error")}}},{key:"resolve",value:function(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Vd=new ws(2e3,1e4);function Bd(e,t,n){return zd.apply(this,arguments)}function zd(){return(zd=Vt(Ft().mark((function e(t,n,r){var i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ec(t),fs(t,n,hl),a=Rd(i,r),o=new Gd(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qd(){return(qd=Vt(Ft().mark((function e(t,n,r){var i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fs((i=vo(t)).auth,n,hl),a=Rd(i.auth,r),o=new Gd(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kd(e,t,n){return Hd.apply(this,arguments)}function Hd(){return(Hd=Vt(Ft().mark((function e(t,n,r){var i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fs((i=vo(t)).auth,n,hl),a=Rd(i.auth,r),o=new Gd(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gd=function(e){h(n,e);var t=b(n);function n(e,r,i,a,o){var u;return c(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=m(u),u}return f(n,[{key:"executeNotNull",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return hs(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Vt(Ft().mark((function e(){var t,n=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vs(1===this.filter.length,"Popup operations only handle one event"),t=Uf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(cs(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(cs(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(cs(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Vd.get())}()}}]),n}(Ud);Gd.currentPopupAction=null;var Wd=new Map,Qd=function(e){h(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return f(n,[{key:"execute",value:function(){var e=Vt(Ft().mark((function e(){var t,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Wd.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Yd(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,zu(p(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Wd.set(this.auth._key(),t);case 21:return this.bypassAuthState||Wd.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Vt(Ft().mark((function e(t){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",zu(p(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",zu(p(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ud);function Yd(e,t){return $d.apply(this,arguments)}function $d(){return($d=Vt(Ft().mark((function e(t,n){var r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=th(n),i=eh(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xd(e,t){return Jd.apply(this,arguments)}function Jd(){return(Jd=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eh(t)._set(th(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zd(e,t){Wd.set(e._key(),t)}function eh(e){return ms(e._redirectPersistence)}function th(e){return cc("pendingRedirect",e.config.apiKey,e.name)}function nh(e,t,n){return function(e,t,n){return rh.apply(this,arguments)}(e,t,n)}function rh(){return(rh=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ec(t),fs(t,n,hl),a=Rd(i,r),e.next=5,Xd(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ih(e,t,n){return function(e,t,n){return ah.apply(this,arguments)}(e,t,n)}function ah(){return(ah=Vt(Ft().mark((function e(t,n,r){var i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fs((i=vo(t)).auth,n,hl),a=Rd(i.auth,r),e.next=5,Xd(a,i.auth);case 5:return e.next=7,dh(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oh(e,t,n){return function(e,t,n){return uh.apply(this,arguments)}(e,t,n)}function uh(){return(uh=Vt(Ft().mark((function e(t,n,r){var i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fs((i=vo(t)).auth,n,hl),a=Rd(i.auth,r),e.next=5,Pl(!1,i,n.providerId);case 5:return e.next=7,Xd(a,i.auth);case 7:return e.next=9,dh(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sh(e,t){return ch.apply(this,arguments)}function ch(){return(ch=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ec(t)._initializationPromise;case 2:return e.abrupt("return",lh(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lh(e,t){return fh.apply(this,arguments)}function fh(){return fh=Vt(Ft().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ec(t),a=Rd(i,n),o=new Qd(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}function dh(e){return hh.apply(this,arguments)}function hh(){return(hh=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uf("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ph=function(){function e(t){c(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return f(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!gh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(cs(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(vh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function vh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function gh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function mh(e){return yh.apply(this,arguments)}function yh(){return yh=Vt(Ft().mark((function e(t){var n,r=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ts(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),yh.apply(this,arguments)}var bh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kh=/^https?/;function wh(){return(wh=Vt(Ft().mark((function e(t){var n,r,i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mh(t);case 4:n=e.sent,r=n.authorizedDomains,i=Fa(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!xh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ss(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function xh(e){var t=ys(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!kh.test(r))return!1;if(bh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var _h=new ws(3e4,6e4);function Ih(){var e=Bf().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=s(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Sh=null;function Eh(e){return Sh=Sh||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ih(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ih(),n(cs(e,"network-request-failed"))},timeout:_h.get()})}if(null===(i=null===(r=Bf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Bf().gapi)||void 0===a?void 0:a.load)){var u=ld("iframefcb");return Bf()[u]=function(){gapi.load?o():n(cs(e,"network-request-failed"))},cd("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Sh=null,e}))}(e),Sh}var Th=new ws(5e3,15e3),Ch={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ah(e){var t=e.config;hs(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?xs(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:lu},i=Nh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(so(r).slice(1))}function Dh(e){return Oh.apply(this,arguments)}function Oh(){return Oh=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eh(t);case 2:return n=e.sent,hs(r=Bf().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ah(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ch,dontclear:!0},(function(e){return new Promise(function(){var n=Vt(Ft().mark((function n(r,i){var a,o,u;return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Bf().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=cs(t,"network-request-failed"),o=Bf().setTimeout((function(){i(a)}),Th.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}var Rh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ph="_blank",Lh="http://localhost",Mh=function(){function e(t){c(this,e),this.window=t,this.associatedEvent=null}return f(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(Ht){}}}]),e}();function jh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Rh),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ka().toLowerCase();n&&(u=pc(c)?Ph:n),dc(c)&&(t=t||Lh,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=x(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(kc(c)&&"_self"!==u)return Fh(t||"",u),new Mh(null);var f=window.open(t||"",u,l);hs(f,e,"popup-blocked");try{f.focus()}catch(Ht){}return new Mh(f)}function Fh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Uh="__/auth/handler",Vh="emulator/auth/handler";function Bh(e,t,n,r,i,a){hs(e.config.authDomain,e,"auth-domain-config-required"),hs(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:lu,eventId:i};if(t instanceof hl){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=x(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof pl){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var h=o,p=0,v=Object.keys(h);p<v.length;p++){var g=v[p];void 0===h[g]&&delete h[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Uh);return xs(t,Vh)}(e),"?").concat(so(h).slice(1))}var zh="webStorageSupport",qh=function(){function e(){c(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mf,this._completeRedirectFn=lh,this._overrideRedirectResult=Zd}return f(e,[{key:"_openPopup",value:function(){var e=Vt(Ft().mark((function e(t,n,r,i){var a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vs(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Bh(t,n,r,ys(),i),e.abrupt("return",jh(t,o,Uf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Vt(Ft().mark((function e(t,n,r,i){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Bh(t,n,r,ys(),i),Bf().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(vs(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dh(t);case 2:return n=e.sent,r=new ph(t),n.register("authEvent",(function(e){return hs(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(zh,{type:zh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ss(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return wh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return xc()||hc()||bc()}}]),e}(),Kh=qh,Hh=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone")).credential=e,r}return f(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ts(e,"POST","/v2/accounts/mfaEnrollment:finalize",Es(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ts(e,"POST","/v2/accounts/mfaSignIn:finalize",Es(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){c(this,e),this.factorId=t}return f(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ps("unexpected MultiFactorSessionType")}}}]),e}()),Gh=function(){function e(){c(this,e)}return f(e,null,[{key:"assertion",value:function(e){return Hh._fromCredential(e)}}]),e}();Gh.FACTOR_ID="phone";var Wh="@firebase/auth",Qh="0.20.10",Yh=function(){function e(t){c(this,e),this.auth=t,this.internalListeners=new Map}return f(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){hs(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var $h;!function(e){var t;null===(t=Xa())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Xh(){return window}$h="Browser",ru(new go("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){hs(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),hs(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:$h,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_c($h)},i=new Sc(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ms);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ru(new go("auth-internal",(function(e){return function(e){return new Yh(e)}(Ec(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),gu(Wh,Qh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}($h)),gu(Wh,Qh,"esm2017");function Jh(e,t,n){return Zh.apply(this,arguments)}function Zh(){return Zh=Vt(Ft().mark((function e(t,n,r){var i,a,o,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xh(),o=a.BuildInfo,vs(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ap(n.sessionId);case 4:return u=e.sent,s={},bc()?s.ibi=o.packageName:gc()?s.apn=o.packageName:ss(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Bh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}function ep(){return(ep=Vt(Ft().mark((function e(t){var n,r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xh(),r=n.BuildInfo,i={},bc()?i.iosBundleId=r.packageName:gc()?i.androidPackageName=r.packageName:ss(t,"operation-not-supported-in-this-environment"),e.next=5,mh(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tp(e){var t=Xh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function np(e,t,n){return rp.apply(this,arguments)}function rp(){return rp=Vt(Ft().mark((function e(t,n,r){var i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(cs(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),gc()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),rp.apply(this,arguments)}function ip(e){var t,n,r,i,a,o,u,s,c,l,f=Xh();hs("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),hs("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),hs("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),hs("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),hs("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ap(e){return op.apply(this,arguments)}function op(){return(op=Vt(Ft().mark((function e(t){var n,r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=up(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function up(e){if(vs(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var sp=function(e){h(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return f(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),zu(p(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ph);function cp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:pp(),postBody:null,tenantId:e.tenantId,error:cs(e,"no-auth-event")}}function lp(e,t){return vp()._set(gp(e),t)}function fp(e){return dp.apply(this,arguments)}function dp(){return(dp=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vp()._get(gp(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,vp()._remove(gp(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hp(e,t){var n,r,i=function(e){var t=mp(e),n=t.link?decodeURIComponent(t.link):void 0,r=mp(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return mp(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=mp(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(Ht){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?cs(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function pp(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function vp(){return ms(Pf)}function gp(e){return cc("authEvent",e.config.apiKey,e.name)}function mp(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=k(t=n)||o(t)||u(t)||w();r[0];return co(r.slice(1).join("?"))}var yp=function(){function e(){c(this,e),this._redirectPersistence=Mf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=lh,this._overrideRedirectResult=Zd}return f(e,[{key:"_initialize",value:function(){var e=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new sp(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ss(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Vt(Ft().mark((function e(t,n,r,i){var a,o,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ip(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Wd.clear(),e.next=10,this._originValidation(t);case 10:return o=cp(t,r,i),e.next=13,lp(t,o);case 13:return e.next=15,Jh(t,o,n);case 15:return u=e.sent,e.next=18,tp(u);case 18:return s=e.sent,e.abrupt("return",np(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ep.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Xh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Vt(Ft().mark((function n(){return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fp(e);case 2:t.onEvent(kp());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Vt(Ft().mark((function n(r){var i,a;return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,fp(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=hp(i,r.url)),t.onEvent(a||kp());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Xh().handleOpenURL=function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(Ht){console.error(Ht)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),bp=yp;function kp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:cs("no-auth-event")}}function wp(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function xp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return!("file:"!==wp()&&"ionic:"!==wp()&&"capacitor:"!==wp()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _p(){return Qa()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Ip(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return/Edge\/\d+/.test(e)}function Sp(){try{var e=self.localStorage,t=Uf();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka();return _p()||Ip(e)}()||Ya()}catch(Ht){return Ep()&&Ya()}return!1}function Ep(){return"undefined"!==typeof __webpack_require__.g&&"WorkerGlobalScope"in __webpack_require__.g&&"importScripts"in __webpack_require__.g}function Tp(){return("http:"===wp()||"https:"===wp()||Ga()||xp())&&!(Wa()||Ha())&&Sp()&&!Ep()}function Cp(){return xp()&&"undefined"!==typeof document}function Np(){return Ap.apply(this,arguments)}function Ap(){return(Ap=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cp()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dp={LOCAL:"local",NONE:"none",SESSION:"session"},Op=hs,Rp="persistence";function Pp(e,t){Op(Object.values(Dp).includes(t),e,"invalid-persistence-type"),Wa()?Op(t!==Dp.SESSION,e,"unsupported-persistence-type"):Ha()?Op(t===Dp.NONE,e,"unsupported-persistence-type"):Ep()?Op(t===Dp.NONE||t===Dp.LOCAL&&Ya(),e,"unsupported-persistence-type"):Op(t===Dp.NONE||Sp(),e,"unsupported-persistence-type")}function Lp(e){return Mp.apply(this,arguments)}function Mp(){return(Mp=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=jp(),r=cc(Rp,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jp(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(Ht){return null}}var Fp=hs,Up=function(){function e(){c(this,e),this.browserResolver=ms(Kh),this.cordovaResolver=ms(bp),this.underlyingResolver=null,this._redirectPersistence=Mf,this._completeRedirectFn=lh,this._overrideRedirectResult=Zd}return f(e,[{key:"_initialize",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Vt(Ft().mark((function e(t,n,r,i){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Vt(Ft().mark((function e(t,n,r,i){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Cp()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Fp(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Np();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vp(e){return e.unwrap()}function Bp(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Gp(e,function(e,t){var n,r=vo(e),i=t;return hs(t.customData.operationType,r,"argument-error"),hs(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Tf._fromError(r,i)}(e,t));else if(i){var a=zp(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function zp(e){var t=(e instanceof to?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof to)&&"temporaryProof"in t&&"phoneNumber"in t)return Od.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Qu)return null;switch(r){case Wu:n=ml;break;case Hu:n=gl;break;case Gu:n=yl;break;case Yu:n=wl;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?bl._create(r,u):rl._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new vl(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof to?n.credentialFromError(e):n.credentialFromResult(e)}function qp(e,t){return t.catch((function(t){throw t instanceof to&&Bp(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,zp(t)),additionalUserInfo:Sf(e),user:Wp.getOrCreate(r)}}))}function Kp(e,t){return Hp.apply(this,arguments)}function Hp(){return(Hp=Vt(Ft().mark((function e(t,n){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return qp(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gp=function(){function e(t,n){c(this,e),this.resolver=n,this.auth=t.wrapped()}return f(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return qp(Vp(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Wp=function(){function e(t){c(this,e),this._delegate=t,this.multiFactor=function(e){var t=vo(e);return Af.has(t)||Af.set(t,Nf._fromUser(t)),Af.get(t)}(t)}return f(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qp(this.auth,zl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kp(this.auth,Ed(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qp(this.auth,Kd(this._delegate,t,Up)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lp(Ec(this.auth));case 2:return e.abrupt("return",oh(this._delegate,t,Up));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qp(this.auth,Kl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Kp(this.auth,function(e,t,n){return Cd.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return qp(this.auth,function(e,t,n){return qd.apply(this,arguments)}(this._delegate,e,Up))}},{key:"reauthenticateWithRedirect",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lp(Ec(this.auth));case 2:return e.abrupt("return",ih(this._delegate,t,Up));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return df.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Al(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return mf(vo(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return mf(vo(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Dd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return gf.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return hf.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Wp.USER_MAP=new WeakMap;var Qp=hs,Yp=function(){function e(t,n){if(c(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Qp(r,"invalid-api-key",{appName:t.name}),Qp(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Up:void 0;this._delegate=n.initialize({options:{persistence:Xp(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(rs),this.linkUnderlyingAuth()}return f(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Wp.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Cc(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ef.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return tf(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Zl.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qp(this._delegate,af(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ff.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=fl.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qp(Tp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,sh(this._delegate,Up);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",qp(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ec(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=$p(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=$p(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return uf.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Jl.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pp(this._delegate,t),e.t0=t,e.next=e.t0===Dp.SESSION?4:e.t0===Dp.LOCAL?6:e.t0===Dp.NONE?11:13;break;case 4:return n=Mf,e.abrupt("break",14);case 6:return e.next=8,ms(ad)._isAvailable();case 8:return r=e.sent,n=r?ad:Pf,e.abrupt("break",14);case 11:return n=sc,e.abrupt("break",14);case 13:return e.abrupt("return",ss("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return qp(this._delegate,function(e){return El.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return qp(this._delegate,Vl(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return qp(this._delegate,function(e,t){return Ql.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return qp(this._delegate,function(e,t,n){return Vl(vo(e),dl.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return qp(this._delegate,function(e,t,n){return sf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Kp(this._delegate,function(e,t,n){return Sd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qp(Tp(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",qp(this._delegate,Bd(this._delegate,t,Up)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qp(Tp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Lp(this._delegate);case 3:return e.abrupt("return",nh(this._delegate,t,Up));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return rf.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function $p(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Wp.getOrCreate(e))},error:t,complete:n}}function Xp(e,t){var n=function(e,t){var n=jp();if(!n)return[];var r=cc(Rp,e,t);switch(n.getItem(r)){case Dp.NONE:return[sc];case Dp.LOCAL:return[ad,Mf];case Dp.SESSION:return[Mf];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ad)||n.push(ad),"undefined"!==typeof window)for(var r=0,i=[Pf,Mf];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(sc)||n.push(sc),n}Yp.Persistence=Dp;var Jp=function(){function e(){c(this,e),this.providerId="phone",this._delegate=new Od(Vp(Vu.auth()))}return f(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Od.credential(e,t)}}]),e}();Jp.PHONE_SIGN_IN_METHOD=Od.PHONE_SIGN_IN_METHOD,Jp.PROVIDER_ID=Od.PROVIDER_ID;var Zp,ev=hs,tv=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vu.app();c(this,e),ev(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new xd(t,n,i.auth()),this.type=this._delegate.type}return f(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Zp=Vu).INTERNAL.registerComponent(new go("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Yp(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$u,PASSWORD_RESET:Xu,RECOVER_EMAIL:Ju,REVERT_SECOND_FACTOR_ADDITION:Zu,VERIFY_AND_CHANGE_EMAIL:es,VERIFY_EMAIL:ts}},EmailAuthProvider:dl,FacebookAuthProvider:gl,GithubAuthProvider:yl,GoogleAuthProvider:ml,OAuthProvider:vl,SAMLAuthProvider:kl,PhoneAuthProvider:Jp,PhoneMultiFactorGenerator:Gh,RecaptchaVerifier:tv,TwitterAuthProvider:wl,Auth:Yp,AuthCredential:Dc,Error:to}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Zp.registerVersion("@firebase/auth-compat","0.2.23");var nv,rv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:"undefined"!==typeof self?self:{},iv={},av=av||{},ov=rv||self;function uv(){}function sv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function cv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var lv="closure_uid_"+(1e9*Math.random()>>>0),fv=0;function dv(e,t,n){return e.call.apply(e.bind,arguments)}function hv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function pv(e,t,n){return(pv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dv:hv).apply(null,arguments)}function vv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function gv(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function mv(){this.s=this.s,this.o=this.o}var yv={};mv.prototype.s=!1,mv.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,lv)&&e[lv]||(e[lv]=++fv)}(this);delete yv[e]}},mv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var bv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function kv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function wv(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(sv(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function xv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}xv.prototype.h=function(){this.defaultPrevented=!0};var _v=function(){if(!ov.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ov.addEventListener("test",uv,t),ov.removeEventListener("test",uv,t)}catch(jt){}return e}();function Iv(e){return/^[\s\xa0]*$/.test(e)}var Sv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ev(e,t){return e<t?-1:e>t?1:0}function Tv(){var e=ov.navigator;return e&&(e=e.userAgent)?e:""}function Cv(e){return-1!=Tv().indexOf(e)}function Nv(e){return Nv[" "](e),e}Nv[" "]=uv;var Av,Dv=Cv("Opera"),Ov=Cv("Trident")||Cv("MSIE"),Rv=Cv("Edge"),Pv=Rv||Ov,Lv=Cv("Gecko")&&!(-1!=Tv().toLowerCase().indexOf("webkit")&&!Cv("Edge"))&&!(Cv("Trident")||Cv("MSIE"))&&!Cv("Edge"),Mv=-1!=Tv().toLowerCase().indexOf("webkit")&&!Cv("Edge");function jv(){var e=ov.document;return e?e.documentMode:void 0}e:{var Fv="",Uv=function(){var e=Tv();return Lv?/rv:([^\);]+)(\)|;)/.exec(e):Rv?/Edge\/([\d\.]+)/.exec(e):Ov?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Mv?/WebKit\/(\S+)/.exec(e):Dv?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Uv&&(Fv=Uv?Uv[1]:""),Ov){var Vv=jv();if(null!=Vv&&Vv>parseFloat(Fv)){Av=String(Vv);break e}}Av=Fv}var Bv,zv={};function qv(){return function(e){var t=zv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Sv(String(Av)).split("."),n=Sv("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ev(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ev(0==a[2].length,0==o[2].length)||Ev(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ov.document&&Ov){var Kv=jv();Bv=Kv||(parseInt(Av,10)||void 0)}else Bv=void 0;var Hv=Bv;function Gv(e,t){if(xv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Lv){e:{try{Nv(t.nodeName);var i=!0;break e}catch(tn){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Wv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Gv.X.h.call(this)}}gv(Gv,xv);var Wv={2:"touch",3:"pen",4:"mouse"};Gv.prototype.h=function(){Gv.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qv="closure_listenable_"+(1e6*Math.random()|0),Yv=0;function $v(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Yv,this.ba=this.ea=!1}function Xv(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Jv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Zv(e){var t={};for(var n in e)t[n]=e[n];return t}var eg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tg(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<eg.length;a++)n=eg[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ng(e){this.src=e,this.g={},this.h=0}function rg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=bv(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Xv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ig(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}ng.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ig(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new $v(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ag="closure_lm_"+(1e6*Math.random()|0),og={};function ug(e,t,n,r,i){if(r&&r.once)return cg(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ug(e,t[a],n,r,i);return null}return n=gg(n),e&&e[Qv]?e.N(t,n,cv(r)?!!r.capture:!!r,i):sg(e,t,n,!1,r,i)}function sg(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=cv(i)?!!i.capture:!!i,u=pg(e);if(u||(e[ag]=u=new ng(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=hg;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_v||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(dg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cg(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)cg(e,t[a],n,r,i);return null}return n=gg(n),e&&e[Qv]?e.O(t,n,cv(r)?!!r.capture:!!r,i):sg(e,t,n,!0,r,i)}function lg(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)lg(e,t[a],n,r,i);else r=cv(r)?!!r.capture:!!r,n=gg(n),e&&e[Qv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ig(a=e.g[t],n,r,i))&&(Xv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=pg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ig(t,n,r,i)),(n=-1<e?t[e]:null)&&fg(n))}function fg(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Qv])rg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(dg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=pg(t))?(rg(n,e),0==n.h&&(n.src=null,t[ag]=null)):Xv(e)}}}function dg(e){return e in og?og[e]:og[e]="on"+e}function hg(e,t){if(e.ba)e=!0;else{t=new Gv(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&fg(e),e=n.call(r,t)}return e}function pg(e){return(e=e[ag])instanceof ng?e:null}var vg="__closure_events_fn_"+(1e9*Math.random()>>>0);function gg(e){return"function"===typeof e?e:(e[vg]||(e[vg]=function(t){return e.handleEvent(t)}),e[vg])}function mg(){mv.call(this),this.i=new ng(this),this.P=this,this.I=null}function yg(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new xv(t,e);else if(t instanceof xv)t.target=t.target||e;else{var i=t;tg(t=new xv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=bg(o,r,!0,t)&&i}if(i=bg(o=t.g=e,r,!0,t)&&i,i=bg(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=bg(o=t.g=n[a],r,!1,t)&&i}function bg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&rg(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}gv(mg,mv),mg.prototype[Qv]=!0,mg.prototype.removeEventListener=function(e,t,n,r){lg(this,e,t,n,r)},mg.prototype.M=function(){if(mg.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xv(n[r]);delete t.g[e],t.h--}}this.I=null},mg.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},mg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var kg=ov.JSON.stringify;function wg(){var e=Ng,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var xg,_g=function(){function e(){c(this,e),this.h=this.g=null}return f(e,[{key:"add",value:function(e,t){var n=Ig.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ig=new(function(){function e(t,n){c(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return f(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Sg}),(function(e){return e.reset()})),Sg=function(){function e(){c(this,e),this.next=this.g=this.h=null}return f(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Eg(e){ov.setTimeout((function(){throw e}),0)}function Tg(e,t){xg||function(){var e=ov.Promise.resolve(void 0);xg=function(){e.then(Ag)}}(),Cg||(xg(),Cg=!0),Ng.add(e,t)}var Cg=!1,Ng=new _g;function Ag(){for(var e;e=wg();){try{e.h.call(e.g)}catch(jt){Eg(jt)}var t=Ig;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Cg=!1}function Dg(e,t){mg.call(this),this.h=e||1,this.g=t||ov,this.j=pv(this.lb,this),this.l=Date.now()}function Og(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Rg(e,t,n){if("function"===typeof e)n&&(e=pv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=pv(e.handleEvent,e)}return 2147483647<Number(t)?-1:ov.setTimeout(e,t||0)}function Pg(e){e.g=Rg((function(){e.g=null,e.i&&(e.i=!1,Pg(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}gv(Dg,mg),(nv=Dg.prototype).ca=!1,nv.R=null,nv.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),yg(this,"tick"),this.ca&&(Og(this),this.start()))}},nv.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nv.M=function(){Dg.X.M.call(this),Og(this),delete this.g};var Lg=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return f(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Pg(this)}},{key:"M",value:function(){zu(p(n.prototype),"M",this).call(this),this.g&&(ov.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(mv);function Mg(e){mv.call(this),this.h=e,this.g={}}gv(Mg,mv);var jg=[];function Fg(e,t,n,r){Array.isArray(n)||(n&&(jg[0]=n.toString()),n=jg);for(var i=0;i<n.length;i++){var a=ug(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ug(e){Jv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&fg(e)}),e),e.g={}}function Vg(){this.g=!0}function Bg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return kg(n)}catch(Gt){return t}}(e,n)+(r?" "+r:"")}))}Mg.prototype.M=function(){Mg.X.M.call(this),Ug(this)},Mg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vg.prototype.Aa=function(){this.g=!1},Vg.prototype.info=function(){};var zg={},qg=null;function Kg(){return qg=qg||new mg}function Hg(e){xv.call(this,zg.Pa,e)}function Gg(e){var t=Kg();yg(t,new Hg(t,e))}function Wg(e,t){xv.call(this,zg.STAT_EVENT,e),this.stat=t}function Qg(e){var t=Kg();yg(t,new Wg(t,e))}function Yg(e,t){xv.call(this,zg.Qa,e),this.size=t}function $g(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ov.setTimeout((function(){e()}),t)}zg.Pa="serverreachability",gv(Hg,xv),zg.STAT_EVENT="statevent",gv(Wg,xv),zg.Qa="timingevent",gv(Yg,xv);var Xg={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Jg={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Zg(){}function em(e){return e.h||(e.h=e.i())}function tm(){}Zg.prototype.h=null;var nm,rm={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function im(){xv.call(this,"d")}function am(){xv.call(this,"c")}function om(){}function um(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Mg(this),this.O=cm,e=Pv?125:void 0,this.T=new Dg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new sm}function sm(){this.i=null,this.g="",this.h=!1}gv(im,xv),gv(am,xv),gv(om,Zg),om.prototype.g=function(){return new XMLHttpRequest},om.prototype.i=function(){return{}},nm=new om;var cm=45e3,lm={},fm={};function dm(e,t,n){e.K=1,e.v=Dm(Em(t)),e.s=n,e.P=!0,hm(e,null)}function hm(e,t){e.F=Date.now(),mm(e),e.A=Em(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Km(n.i,"t",r),e.C=0,n=e.l.H,e.h=new sm,e.g=Ky(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Lg(pv(e.La,e,e.g),e.N)),Fg(e.S,e.g,"readystatechange",e.ib),t=e.H?Zv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Gg(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function pm(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function vm(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=gm(e,n))==fm){4==t&&(e.o=4,Qg(14),i=!1),Bg(e.j,e.m,null,"[Incomplete Response]");break}if(r==lm){e.o=4,Qg(15),Bg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Bg(e.j,e.m,r,null),xm(e,r)}pm(e)&&r!=fm&&r!=lm&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Qg(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),My(t),t.K=!0,Qg(11))):(Bg(e.j,e.m,n,"[Invalid Chunked Response]"),wm(e),km(e))}function gm(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fm:(n=Number(t.substring(n,r)),isNaN(n)?lm:(r+=1)+n>t.length?fm:(t=t.substr(r,n),e.C=r+n,t))}function mm(e){e.V=Date.now()+e.O,ym(e,e.O)}function ym(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=$g(pv(e.gb,e),t)}function bm(e){e.B&&(ov.clearTimeout(e.B),e.B=null)}function km(e){0==e.l.G||e.I||Uy(e.l,e)}function wm(e){bm(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Og(e.T),Ug(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function xm(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Xm(n.h,e)))if(!e.J&&Xm(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Fy(n),Cy(n)}Ly(n),Qg(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=$g(pv(n.cb,n),6e3));if(1>=$m(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else By(n,11)}else if((e.J||n.g==e)&&Fy(n),!Iv(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Jm(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,Am(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var h=e;if((r=n).sa=qy(r,r.H?r.ka:null,r.V),h.J){Zm(r.h,h);var p=h,v=r.J;v&&p.setTimeout(v),p.B&&(bm(p),mm(p)),r.g=h}else Py(r);0<n.i.length&&Ay(n)}else"stop"!=a[0]&&"close"!=a[0]||By(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?By(n,7):Ty(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Gg(4)}catch(a){}}function _m(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(sv(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(sv(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(sv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(nv=um.prototype).setTimeout=function(e){this.O=e},nv.ib=function(e){e=e.target;var t=this.L;t&&3==wy(e)?t.l():this.La(e)},nv.La=function(e){try{if(e==this.g)e:{var t=wy(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||Pv||this.g&&(this.h.h||this.g.fa()||xy(this.g)))){this.I||4!=t||7==n||Gg(8==n||0>=r?3:2),bm(this);var i=this.g.aa();this.Y=i;t:if(pm(this)){var a=xy(this.g);e="";var o=a.length,u=4==wy(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wm(this),km(this);var s="";break t}this.h.i=new ov.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Iv(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Qg(12),wm(this),km(this);break e}Bg(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xm(this,i)}this.P?(vm(this,t,s),Pv&&this.i&&3==t&&(Fg(this.S,this.T,"tick",this.hb),this.T.start())):(Bg(this.j,this.m,s,null),xm(this,s)),4==t&&wm(this),this.i&&!this.I&&(4==t?Uy(this.l,this):(this.i=!1,mm(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Qg(12)):(this.o=0,Qg(13)),wm(this),km(this)}}}catch(t){}},nv.hb=function(){if(this.g){var e=wy(this.g),t=this.g.fa();this.C<t.length&&(bm(this),vm(this,e,t),this.i&&4!=e&&mm(this))}},nv.cancel=function(){this.I=!0,wm(this)},nv.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Gg(3),Qg(17)),wm(this),this.o=2,km(this)):ym(this,this.V-e)};var Im=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sm(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Sm){this.h=void 0!==t?t:e.h,Tm(this,e.j),this.s=e.s,this.g=e.g,Cm(this,e.m),this.l=e.l,t=e.i;var n=new Vm;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Nm(this,n),this.o=e.o}else e&&(n=String(e).match(Im))?(this.h=!!t,Tm(this,n[1]||"",!0),this.s=Om(n[2]||""),this.g=Om(n[3]||"",!0),Cm(this,n[4]),this.l=Om(n[5]||"",!0),Nm(this,n[6]||"",!0),this.o=Om(n[7]||"")):(this.h=!!t,this.i=new Vm(null,this.h))}function Em(e){return new Sm(e)}function Tm(e,t,n){e.j=n?Om(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Nm(e,t,n){t instanceof Vm?(e.i=t,function(e,t){t&&!e.j&&(Bm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(zm(this,t),Km(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Rm(t,Fm)),e.i=new Vm(t,e.h))}function Am(e,t,n){e.i.set(t,n)}function Dm(e){return Am(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Om(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Rm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Sm.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Rm(t,Lm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Rm(t,Lm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Rm(n,"/"==n.charAt(0)?jm:Mm,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Rm(n,Um)),e.join("")};var Lm=/[#\/\?@]/g,Mm=/[#\?:]/g,jm=/[#\?]/g,Fm=/[#\?@]/g,Um=/#/g;function Vm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function zm(e,t){Bm(e),t=Hm(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function qm(e,t){return Bm(e),t=Hm(e,t),e.g.has(t)}function Km(e,t,n){zm(e,t),0<n.length&&(e.i=null,e.g.set(Hm(e,t),kv(n)),e.h+=n.length)}function Hm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(nv=Vm.prototype).add=function(e,t){Bm(this),this.i=null,e=Hm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},nv.forEach=function(e,t){Bm(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},nv.oa=function(){Bm(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},nv.W=function(e){Bm(this);var t=[];if("string"===typeof e)qm(this,e)&&(t=t.concat(this.g.get(Hm(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},nv.set=function(e,t){return Bm(this),this.i=null,qm(this,e=Hm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},nv.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},nv.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Gm=f((function e(t,n){c(this,e),this.h=t,this.g=n}));function Wm(e){this.l=e||Qm,ov.PerformanceNavigationTiming?e=0<(e=ov.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ov.g&&ov.g.Ga&&ov.g.Ga()&&ov.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qm=10;function Ym(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $m(e){return e.h?1:e.g?e.g.size:0}function Xm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Jm(e,t){e.g?e.g.add(t):e.h=t}function Zm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ey(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Fa(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return kv(e.i)}function ty(){}function ny(){this.g=new ty}function ry(e,t,n){var r=n||"";try{_m(e,(function(e,n){var i=e;cv(e)&&(i=kg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Ht){throw t.push(r+"type="+encodeURIComponent("_badmap")),Ht}}function iy(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(tn){}}function ay(e){this.l=e.ac||null,this.j=e.jb||!1}function oy(e,t){mg.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=uy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wm.prototype.cancel=function(){if(this.i=ey(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Fa(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ty.prototype.stringify=function(e){return ov.JSON.stringify(e,void 0)},ty.prototype.parse=function(e){return ov.JSON.parse(e,void 0)},gv(ay,Zg),ay.prototype.g=function(){return new oy(this.l,this.j)},ay.prototype.i=function(e){return function(){return e}}({}),gv(oy,mg);var uy=0;function sy(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function cy(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ly(e)}function ly(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(nv=oy.prototype).open=function(e,t){if(this.readyState!=uy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ly(this)},nv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ov).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},nv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cy(this)),this.readyState=uy},nv.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ly(this)),this.g&&(this.readyState=3,ly(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof ov.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sy(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},nv.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cy(this):ly(this),3==this.readyState&&sy(this)}},nv.Va=function(e){this.g&&(this.response=this.responseText=e,cy(this))},nv.Ua=function(e){this.g&&(this.response=e,cy(this))},nv.ga=function(){this.g&&cy(this)},nv.setRequestHeader=function(e,t){this.v.append(e,t)},nv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},nv.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(oy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fy=ov.JSON.parse;function dy(e){mg.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hy,this.K=this.L=!1}gv(dy,mg);var hy="",py=/^https?$/i,vy=["POST","PUT"];function gy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,my(e),by(e)}function my(e){e.D||(e.D=!0,yg(e,"complete"),yg(e,"error"))}function yy(e){if(e.h&&"undefined"!=typeof av&&(!e.C[1]||4!=wy(e)||2!=e.aa()))if(e.v&&4==wy(e))Rg(e.Ha,0,e);else if(yg(e,"readystatechange"),4==wy(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Im)[1]||null;if(!a&&ov.self&&ov.self.location){var o=ov.self.location.protocol;a=o.substr(0,o.length-1)}i=!py.test(a?a.toLowerCase():"")}t=i}if(t)yg(e,"complete"),yg(e,"success");else{e.m=6;try{var u=2<wy(e)?e.g.statusText:""}catch(nn){u=""}e.j=u+" ["+e.aa()+"]",my(e)}}finally{by(e)}}}function by(e,t){if(e.g){ky(e);var n=e.g,r=e.C[0]?uv:null;e.g=null,e.C=null,t||yg(e,"ready");try{n.onreadystatechange=r}catch(Ht){}}}function ky(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ov.clearTimeout(e.A),e.A=null)}function wy(e){return e.g?e.g.readyState:0}function xy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case hy:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function _y(e){var t="";return Jv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Iy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_y(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Am(e,t,n))}function Sy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ey(e){this.Ca=0,this.i=[],this.j=new Vg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Sy("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Sy("baseRetryDelayMs",5e3,e),this.bb=Sy("retryDelaySeedMs",1e4,e),this.$a=Sy("forwardChannelMaxRetries",2,e),this.ta=Sy("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Wm(e&&e.concurrentRequestLimit),this.Fa=new ny,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ty(e){if(Ny(e),3==e.G){var t=e.U++,n=Em(e.F);Am(n,"SID",e.I),Am(n,"RID",t),Am(n,"TYPE","terminate"),Oy(e,n),(t=new um(e,e.j,t,void 0)).K=2,t.v=Dm(Em(n)),n=!1,ov.navigator&&ov.navigator.sendBeacon&&(n=ov.navigator.sendBeacon(t.v.toString(),"")),!n&&ov.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ky(t.l,null),t.g.da(t.v)),t.F=Date.now(),mm(t)}zy(e)}function Cy(e){e.g&&(My(e),e.g.cancel(),e.g=null)}function Ny(e){Cy(e),e.u&&(ov.clearTimeout(e.u),e.u=null),Fy(e),e.h.cancel(),e.m&&("number"===typeof e.m&&ov.clearTimeout(e.m),e.m=null)}function Ay(e){Ym(e.h)||e.m||(e.m=!0,Tg(e.Ja,e),e.C=0)}function Dy(e,t){var n;n=t?t.m:e.U++;var r=Em(e.F);Am(r,"SID",e.I),Am(r,"RID",n),Am(r,"AID",e.T),Oy(e,r),e.o&&e.s&&Iy(r,e.o,e.s),n=new um(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ry(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Jm(e.h,n),dm(n,r,t)}function Oy(e,t){e.ia&&Jv(e.ia,(function(e,n){Am(t,n,e)})),e.l&&_m({},(function(e,n){Am(t,n,e)}))}function Ry(e,t,n){n=Math.min(e.i.length,n);var r=e.l?pv(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ry(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Py(e){e.g||e.u||(e.Z=1,Tg(e.Ia,e),e.A=0)}function Ly(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=$g(pv(e.Ia,e),Vy(e,e.A)),e.A++,!0)}function My(e){null!=e.B&&(ov.clearTimeout(e.B),e.B=null)}function jy(e){e.g=new um(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Em(e.sa);Am(t,"RID","rpc"),Am(t,"SID",e.I),Am(t,"CI",e.L?"0":"1"),Am(t,"AID",e.T),Am(t,"TYPE","xmlhttp"),Oy(e,t),e.o&&e.s&&Iy(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Dm(Em(t)),n.s=null,n.P=!0,hm(n,e)}function Fy(e){null!=e.v&&(ov.clearTimeout(e.v),e.v=null)}function Uy(e,t){var n=null;if(e.g==t){Fy(e),My(e),e.g=null;var r=2}else{if(!Xm(e.h,t))return;n=t.D,Zm(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;yg(r=Kg(),new Yg(r,n,t,i)),Ay(e)}else Py(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!($m(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=$g(pv(e.Ja,e,t),Vy(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ly(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:By(e,5);break;case 4:By(e,10);break;case 3:By(e,6);break;default:By(e,2)}}function Vy(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function By(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=pv(e.kb,e);n||(n=new Sm("//www.google.com/images/cleardot.gif"),ov.location&&"http"==ov.location.protocol||Tm(n,"https"),Dm(n)),function(e,t){var n=new Vg;if(ov.Image){var r=new Image;r.onload=vv(iy,n,r,"TestLoadImage: loaded",!0,t),r.onerror=vv(iy,n,r,"TestLoadImage: error",!1,t),r.onabort=vv(iy,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=vv(iy,n,r,"TestLoadImage: timeout",!1,t),ov.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Qg(2);e.G=0,e.l&&e.l.va(t),zy(e),Ny(e)}function zy(e){if(e.G=0,e.la=[],e.l){var t=ey(e.h);0==t.length&&0==e.i.length||(wv(e.la,t),wv(e.la,e.i),e.h.i.length=0,kv(e.i),e.i.length=0),e.l.ua()}}function qy(e,t,n){var r=n instanceof Sm?Em(n):new Sm(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Cm(r,r.m);else{var i=ov.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Sm(null,void 0);r&&Tm(a,r),t&&(a.g=t),i&&Cm(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Am(r,n,t),Am(r,"VER",e.ma),Oy(e,r),r}function Ky(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new dy(new ay({jb:!0})):new dy(e.ra)).Ka(e.H),t}function Hy(){}function Gy(){if(Ov&&!(10<=Number(Hv)))throw Error("Environmental error: no available transport.")}function Wy(e,t){mg.call(this),this.g=new Ey(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Iv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Iv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new $y(this)}function Qy(e){im.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Yy(){am.call(this),this.status=1}function $y(e){this.g=e}(nv=dy.prototype).Ka=function(e){this.L=e},nv.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():nm.g(),this.C=this.u?em(this.u):em(nm),this.g.onreadystatechange=pv(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void gy(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Fa(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(h){o.e(h)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ov.FormData&&e instanceof ov.FormData,!(0<=bv(vy,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Fa(n);try{for(c.s();!(s=c.n()).done;){var l=x(s.value,2),f=l[0],d=l[1];this.g.setRequestHeader(f,d)}}catch(h){c.e(h)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ky(this),0<this.B&&((this.K=function(e){return Ov&&qv()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pv(this.qa,this)):this.A=Rg(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){gy(this,u)}},nv.qa=function(){"undefined"!=typeof av&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yg(this,"timeout"),this.abort(8))},nv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,yg(this,"complete"),yg(this,"abort"),by(this))},nv.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),by(this,!0)),dy.X.M.call(this)},nv.Ha=function(){this.s||(this.F||this.v||this.l?yy(this):this.fb())},nv.fb=function(){yy(this)},nv.aa=function(){try{return 2<wy(this)?this.g.status:-1}catch(Mt){return-1}},nv.fa=function(){try{return this.g?this.g.responseText:""}catch(Mt){return""}},nv.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fy(t)}},nv.Ea=function(){return this.m},nv.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(nv=Ey.prototype).ma=8,nv.G=1,nv.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new um(this,this.j,e,void 0),n=this.s;if(this.S&&(n?tg(n=Zv(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ry(this,t,r),Am(i=Em(this.F),"RID",e),Am(i,"CVER",22),this.D&&Am(i,"X-HTTP-Session-Id",this.D),Oy(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(_y(n)))+"&"+r:this.o&&Iy(i,this.o,n)),Jm(this.h,t),this.Ya&&Am(i,"TYPE","init"),this.O?(Am(i,"$req",r),Am(i,"SID","null"),t.Z=!0,dm(t,i,null)):dm(t,i,r),this.G=2}}else 3==this.G&&(e?Dy(this,e):0==this.i.length||Ym(this.h)||Dy(this))},nv.Ia=function(){if(this.u=null,jy(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=$g(pv(this.eb,this),e)}},nv.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qg(10),Cy(this),jy(this))},nv.cb=function(){null!=this.v&&(this.v=null,Cy(this),Ly(this),Qg(19))},nv.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Qg(2)):(this.j.info("Failed to ping google.com"),Qg(1))},(nv=Hy.prototype).xa=function(){},nv.wa=function(){},nv.va=function(){},nv.ua=function(){},nv.Ra=function(){},Gy.prototype.g=function(e,t){return new Wy(e,t)},gv(Wy,mg),Wy.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Qg(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=qy(e,null,e.V),Ay(e)},Wy.prototype.close=function(){Ty(this.g)},Wy.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=kg(e),e=n);t.i.push(new Gm(t.ab++,e)),3==t.G&&Ay(t)},Wy.prototype.M=function(){this.g.l=null,delete this.j,Ty(this.g),delete this.g,Wy.X.M.call(this)},gv(Qy,im),gv(Yy,am),gv($y,Hy),$y.prototype.xa=function(){yg(this.g,"a")},$y.prototype.wa=function(e){yg(this.g,new Qy(e))},$y.prototype.va=function(e){yg(this.g,new Yy(e))},$y.prototype.ua=function(){yg(this.g,"b")},Gy.prototype.createWebChannel=Gy.prototype.g,Wy.prototype.send=Wy.prototype.u,Wy.prototype.open=Wy.prototype.m,Wy.prototype.close=Wy.prototype.close,Xg.NO_ERROR=0,Xg.TIMEOUT=8,Xg.HTTP_ERROR=6,Jg.COMPLETE="complete",tm.EventType=rm,rm.OPEN="a",rm.CLOSE="b",rm.ERROR="c",rm.MESSAGE="d",mg.prototype.listen=mg.prototype.N,dy.prototype.listenOnce=dy.prototype.O,dy.prototype.getLastError=dy.prototype.Oa,dy.prototype.getLastErrorCode=dy.prototype.Ea,dy.prototype.getStatus=dy.prototype.aa,dy.prototype.getResponseJson=dy.prototype.Sa,dy.prototype.getResponseText=dy.prototype.fa,dy.prototype.send=dy.prototype.da,dy.prototype.setWithCredentials=dy.prototype.Ka;var Xy=iv.createWebChannelTransport=function(){return new Gy},Jy=iv.getStatEventTarget=function(){return Kg()},Zy=iv.ErrorCode=Xg,eb=iv.EventType=Jg,tb=iv.Event=zg,nb=iv.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},rb=iv.FetchXmlHttpFactory=ay,ib=iv.WebChannel=tm,ab=iv.XhrIo=dy,ob="@firebase/firestore",ub=function(){function e(t){c(this,e),this.uid=t}return f(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ub.UNAUTHENTICATED=new ub(null),ub.GOOGLE_CREDENTIALS=new ub("google-credentials-uid"),ub.FIRST_PARTY=new ub("first-party-uid"),ub.MOCK_USER=new ub("mock-user");var sb="9.12.1",cb=new Co("@firebase/firestore");function lb(){return cb.logLevel}function fb(e){if(cb.logLevel<=wo.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pb);cb.debug.apply(cb,["Firestore (".concat(sb,"): ").concat(e)].concat(s(i)))}}function db(e){if(cb.logLevel<=wo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pb);cb.error.apply(cb,["Firestore (".concat(sb,"): ").concat(e)].concat(s(i)))}}function hb(e){if(cb.logLevel<=wo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pb);cb.warn.apply(cb,["Firestore (".concat(sb,"): ").concat(e)].concat(s(i)))}}function pb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function vb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(sb,") INTERNAL ASSERTION FAILED: ")+e;throw db(t),new Error(t)}function gb(e,t){e||vb()}function mb(e,t){return e}var yb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},bb=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return f(n)}(to),kb=f((function e(){var t=this;c(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),wb=f((function e(t,n){c(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),xb=function(){function e(){c(this,e)}return f(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ub.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),_b=function(){function e(t){c(this,e),this.token=t,this.changeListener=null}return f(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Ib=function(){function e(t){c(this,e),this.t=t,this.currentUser=ub.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return f(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new kb;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new kb,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){fb("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(fb("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new kb)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(fb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(gb("string"==typeof n.accessToken),new wb(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return gb(null===e||"string"==typeof e),new ub(e)}}]),e}(),Sb=function(){function e(t,n,r,i){c(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=ub.FIRST_PARTY,this.p=new Map}return f(e,[{key:"I",value:function(){return this.g?this.g():(gb(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Eb=function(){function e(t,n,r,i){c(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return f(e,[{key:"getToken",value:function(){return Promise.resolve(new Sb(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ub.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Tb=f((function e(t){c(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Cb=function(){function e(t){c(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return f(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&fb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,fb("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){fb("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):fb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(gb("string"==typeof t.token),e.A=t.token,new Tb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Nb(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ab=function(){function e(){c(this,e)}return f(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Nb(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Db(e,t){return e<t?-1:e>t?1:0}function Ob(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Rb(e){return e+"\0"}var Pb=function(){function e(t,n){if(c(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new bb(yb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new bb(yb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new bb(yb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new bb(yb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return f(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Db(this.nanoseconds,e.nanoseconds):Db(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lb=function(){function e(t){c(this,e),this.timestamp=t}return f(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Pb(0,0))}},{key:"max",value:function(){return new e(new Pb(253402300799,999999999))}}]),e}(),Mb=function(){function e(t,n,r){c(this,e),void 0===n?n=0:n>t.length&&vb(),void 0===r?r=t.length-n:r>t.length-n&&vb(),this.segments=t,this.offset=n,this.len=r}return f(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),jb=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new bb(yb.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,s(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mb),Fb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ub=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Fb.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new bb(yb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new bb(yb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new bb(yb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new bb(yb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mb),Vb=function(){function e(t){c(this,e),this.path=t}return f(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===jb.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(jb.fromString(t))}},{key:"fromName",value:function(t){return new e(jb.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(jb.emptyPath())}},{key:"comparator",value:function(e,t){return jb.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new jb(t.slice()))}}]),e}(),Bb=f((function e(t,n,r,i){c(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function zb(e){return e.fields.find((function(e){return 2===e.kind}))}function qb(e){return e.fields.filter((function(e){return 2!==e.kind}))}Bb.UNKNOWN_ID=-1;var Kb=f((function e(t,n){c(this,e),this.fieldPath=t,this.kind=n}));var Hb=function(){function e(t,n){c(this,e),this.sequenceNumber=t,this.offset=n}return f(e,null,[{key:"empty",value:function(){return new e(0,Qb.min())}}]),e}();function Gb(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lb.fromTimestamp(1e9===r?new Pb(n+1,0):new Pb(n,r));return new Qb(i,Vb.empty(),t)}function Wb(e){return new Qb(e.readTime,e.key,-1)}var Qb=function(){function e(t,n,r){c(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return f(e,null,[{key:"min",value:function(){return new e(Lb.min(),Vb.empty(),-1)}},{key:"max",value:function(){return new e(Lb.max(),Vb.empty(),-1)}}]),e}();function Yb(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Vb.comparator(e.documentKey,t.documentKey))?n:Db(e.largestBatchId,t.largestBatchId)}var $b="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xb=function(){function e(){c(this,e),this.onCommittedListeners=[]}return f(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Jb(e){return Zb.apply(this,arguments)}function Zb(){return Zb=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===yb.FAILED_PRECONDITION&&t.message===$b){e.next=2;break}throw t;case 2:fb("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}var ek=function(){function e(t){var n=this;c(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return f(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&vb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Fa(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),tk=function(){function e(t,n){var r=this;c(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new kb,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new ik(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=ck(e.target.error);r.P.reject(new ik(t,n))}}return f(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(fb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ok(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ik(n,t)}}}]),e}(),nk=function(){function e(t,n,r){c(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Ka())&&db("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return f(e,[{key:"F",value:function(){var e=Vt(Ft().mark((function e(t){var n=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return fb("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ik(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new bb(yb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new bb(yb.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ik(t,n))},i.onupgradeneeded=function(e){fb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){fb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Vt(Ft().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ft().mark((function e(){var n,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=tk.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),ek.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,fb("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return fb("SimpleDb","Removing database:",e),uk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Ya())return!1;if(e.N())return!0;var t=Ka(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/f22-t4sg-search-evaluator",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),rk=function(){function e(t){c(this,e),this.U=t,this.q=!1,this.K=null}return f(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return uk(this.U.delete())}}]),e}(),ik=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,yb.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return f(n)}(bb);function ak(e){return"IndexedDbTransactionError"===e.name}var ok=function(){function e(t){c(this,e),this.store=t}return f(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(fb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(fb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),uk(n)}},{key:"add",value:function(e){return fb("SimpleDb","ADD",this.store.name,e,e),uk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return uk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),fb("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return fb("SimpleDb","DELETE",this.store.name,e),uk(this.store.delete(e))}},{key:"count",value:function(){return fb("SimpleDb","COUNT",this.store.name),uk(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ek((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ek((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){fb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new ek((function(n,r){t.onerror=function(e){var t=ck(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new ek((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new rk(i),o=t(i.primaryKey,i.value,a);if(o instanceof ek){var u=o.catch((function(e){return a.done(),ek.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return ek.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function uk(e){return new ek((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ck(e.target.error);n(t)}}))}var sk=!1;function ck(e){var t=nk.D(Ka());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new bb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return sk||(sk=!0,setTimeout((function(){throw r}),0)),r}}return e}var lk=function(){function e(t,n){c(this,e),this.asyncQueue=t,this.et=n,this.task=null}return f(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;fb("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=fb,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ak(e.t4)){e.next=17;break}fb("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Jb(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),fk=function(){function e(t,n){c(this,e),this.localStore=t,this.persistence=n}return f(e,[{key:"st",value:function(){var e=Vt(Ft().mark((function e(){var t,n=this,r=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ek.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return fb("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return fb("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Wb(t);Yb(r,n)>0&&(n=r)})),new Qb(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),dk=function(){function e(t,n){var r=this;c(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return f(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function hk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}dk.at=-1;var gk=function(){function e(t,n){c(this,e),this.comparator=t,this.root=n||yk.EMPTY}return f(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yk.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new mk(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new mk(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new mk(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new mk(this.root,e,this.comparator,!0)}}]),e}(),mk=function(){function e(t,n,r,i){c(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return f(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),yk=function(){function e(t,n,r,i,a){c(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return f(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw vb();if(this.right.isRed())throw vb();var e=this.left.check();if(e!==this.right.check())throw vb();return e+(this.isRed()?0:1)}}]),e}();yk.EMPTY=null,yk.RED=!0,yk.BLACK=!1,yk.EMPTY=new(function(){function e(){c(this,e),this.size=0}return f(e,[{key:"key",get:function(){throw vb()}},{key:"value",get:function(){throw vb()}},{key:"color",get:function(){throw vb()}},{key:"left",get:function(){throw vb()}},{key:"right",get:function(){throw vb()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new yk(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var bk=function(){function e(t){c(this,e),this.comparator=t,this.data=new gk(this.comparator)}return f(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new kk(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new kk(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),kk=function(){function e(t){c(this,e),this.iter=t}return f(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function wk(e){return e.hasNext()?e.getNext():void 0}var xk=function(){function e(t){c(this,e),this.fields=t,t.sort(Ub.comparator)}return f(e,[{key:"unionWith",value:function(t){var n,r=new bk(Ub.comparator),i=Fa(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Fa(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Fa(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ob(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var _k=function(e){function t(e){c(this,t),this.binaryString=e}return f(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Db(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();_k.EMPTY_BYTE_STRING=new _k("");var Ik=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sk(e){if(gb(!!e),"string"==typeof e){var t=0,n=Ik.exec(e);if(gb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ek(e.seconds),nanos:Ek(e.nanos)}}function Ek(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Tk(e){return"string"==typeof e?_k.fromBase64String(e):_k.fromUint8Array(e)}function Ck(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nk(e){var t=e.mapValue.fields.__previous_value__;return Ck(t)?Nk(t):t}function Ak(e){var t=Sk(e.mapValue.fields.__local_write_time__.timestampValue);return new Pb(t.seconds,t.nanos)}var Dk=f((function e(t,n,r,i,a,o,u,s){c(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ok=function(){function e(t,n){c(this,e),this.projectId=t,this.database=n||"(default)"}return f(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Rk(e){return null==e}function Pk(e){return 0===e&&1/e==-1/0}function Lk(e){return"number"==typeof e&&Number.isInteger(e)&&!Pk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Mk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jk={nullValue:"NULL_VALUE"};function Fk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ck(e)?4:Jk(e)?9007199254740991:10:vb()}function Uk(e,t){if(e===t)return!0;var n=Fk(e);if(n!==Fk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ak(e).isEqual(Ak(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Sk(e.timestampValue),r=Sk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Tk(e.bytesValue).isEqual(Tk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ek(e.geoPointValue.latitude)===Ek(t.geoPointValue.latitude)&&Ek(e.geoPointValue.longitude)===Ek(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ek(e.integerValue)===Ek(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ek(e.doubleValue),r=Ek(t.doubleValue);return n===r?Pk(n)===Pk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ob(e.arrayValue.values||[],t.arrayValue.values||[],Uk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hk(n)!==hk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uk(n[i],r[i])))return!1;return!0}(e,t);default:return vb()}}function Vk(e,t){return void 0!==(e.values||[]).find((function(e){return Uk(e,t)}))}function Bk(e,t){if(e===t)return 0;var n=Fk(e),r=Fk(t);if(n!==r)return Db(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Db(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ek(e.integerValue||e.doubleValue),r=Ek(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zk(e.timestampValue,t.timestampValue);case 4:return zk(Ak(e),Ak(t));case 5:return Db(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Tk(e),r=Tk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Db(n[i],r[i]);if(0!==a)return a}return Db(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Db(Ek(e.latitude),Ek(t.latitude));return 0!==n?n:Db(Ek(e.longitude),Ek(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Bk(n[i],r[i]);if(a)return a}return Db(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Mk.mapValue&&t===Mk.mapValue)return 0;if(e===Mk.mapValue)return 1;if(t===Mk.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Db(r[o],a[o]);if(0!==u)return u;var s=Bk(n[r[o]],i[a[o]]);if(0!==s)return s}return Db(r.length,a.length)}(e.mapValue,t.mapValue);default:throw vb()}}function zk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Db(e,t);var n=Sk(e),r=Sk(t),i=Db(n.seconds,r.seconds);return 0!==i?i:Db(n.nanos,r.nanos)}function qk(e){return Kk(e)}function Kk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Sk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Tk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Vb.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Fa(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Kk(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Fa(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Kk(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):vb();var t,n}function Hk(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gk(e){return!!e&&"integerValue"in e}function Wk(e){return!!e&&"arrayValue"in e}function Qk(e){return!!e&&"nullValue"in e}function Yk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $k(e){return!!e&&"mapValue"in e}function Xk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return pk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xk(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Jk(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zk(e){return"nullValue"in e?jk:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Hk(Ok.empty(),Vb.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:vb()}function ew(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Hk(Ok.empty(),Vb.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Mk:vb()}function tw(e,t){var n=Bk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function nw(e,t){var n=Bk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var rw=function(){function e(t){c(this,e),this.value=t}return f(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!$k(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xk(t)}},{key:"setAll",value:function(e){var t=this,n=Ub.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xk(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());$k(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Uk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];$k(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){pk(t,(function(t,n){return e[t]=n}));var r,i=Fa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xk(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function iw(e){var t=[];return pk(e.fields,(function(e,n){var r=new Ub([e]);if($k(n)){var i=iw(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Fa(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new xk(t)}var aw=function(){function e(t,n,r,i,a,o){c(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return f(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=rw.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=rw.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Lb.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lb.min(),Lb.min(),rw.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Lb.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lb.min(),rw.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lb.min(),rw.empty(),2)}}]),e}(),ow=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;c(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function uw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ow(e,t,n,r,i,a,o)}function sw(e){var t=mb(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+qk(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Rk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return qk(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return qk(e)})).join(",")),t.ht=n}return t.ht}function cw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Sw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Uk(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tw(e.startAt,t.startAt)&&Tw(e.endAt,t.endAt)}function lw(e){return Vb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function fw(e,t){return e.filters.filter((function(e){return e instanceof pw&&e.field.isEqual(t)}))}function dw(e,t,n){var r,i=jk,a=!0,o=Fa(fw(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=jk,c=!0;switch(u.op){case"<":case"<=":s=Zk(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=jk}tw({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];tw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function hw(e,t,n){var r,i=Mk,a=!0,o=Fa(fw(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Mk,c=!0;switch(u.op){case">=":case">":s=ew(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Mk}nw({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];nw({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var pw=function(e){h(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Bk(t,this.value)):null!==t&&Fk(this.value)===Fk(t)&&this.ft(Bk(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vb()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new vw(e,t,r):"array-contains"===t?new bw(e,r):"in"===t?new kw(e,r):"not-in"===t?new ww(e,r):"array-contains-any"===t?new xw(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new gw(e,n):new mw(e,n)}}]),n}(function(){return f((function e(){c(this,e)}))}()),vw=function(e){h(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,i)).key=Vb.fromName(i.referenceValue),a}return f(n,[{key:"matches",value:function(e){var t=Vb.comparator(e.key,this.key);return this.ft(t)}}]),n}(pw),gw=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"in",r)).keys=yw("in",r),i}return f(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pw),mw=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"not-in",r)).keys=yw("not-in",r),i}return f(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pw);function yw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Vb.fromName(e.referenceValue)}))}var bw=function(e){h(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Wk(t)&&Vk(t.arrayValue,this.value)}}]),n}(pw),kw=function(e){h(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"in",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Vk(this.value.arrayValue,t)}}]),n}(pw),ww=function(e){h(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"not-in",r)}return f(n,[{key:"matches",value:function(e){if(Vk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Vk(this.value.arrayValue,t)}}]),n}(pw),xw=function(e){h(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains-any",r)}return f(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Wk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Vk(t.value.arrayValue,e)}))}}]),n}(pw),_w=f((function e(t,n){c(this,e),this.position=t,this.inclusive=n})),Iw=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";c(this,e),this.field=t,this.dir=n}));function Sw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ew(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Vb.comparator(Vb.fromName(o.referenceValue),n.key):Bk(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Tw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Uk(e.position[n],t.position[n]))return!1;return!0}var Cw=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function Nw(e,t,n,r,i,a,o,u){return new Cw(e,t,n,r,i,a,o,u)}function Aw(e){return new Cw(e)}function Dw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ow(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Rw(e){var t,n=Fa(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Pw(e){return null!==e.collectionGroup}function Lw(e){var t=mb(e);if(null===t._t){t._t=[];var n=Rw(t),r=Ow(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Iw(n)),t._t.push(new Iw(Ub.keyField(),"asc"));else{var i,a=!1,o=Fa(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Iw(Ub.keyField(),s))}}}return t._t}function Mw(e){var t=mb(e);if(!t.wt)if("F"===t.limitType)t.wt=uw(t.path,t.collectionGroup,Lw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Fa(Lw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Iw(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new _w(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new _w(t.startAt.position,t.startAt.inclusive):null;t.wt=uw(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function jw(e,t,n){return new Cw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fw(e,t){return cw(Mw(e),Mw(t))&&e.limitType===t.limitType}function Uw(e){return"".concat(sw(Mw(e)),"|lt:").concat(e.limitType)}function Vw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(qk(t.value));var t})).join(", "),"]")),Rk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return qk(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return qk(e)})).join(",")),"Target(".concat(t,")")}(Mw(e)),"; limitType=").concat(e.limitType,")")}function Bw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Fa(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Fa(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ew(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Lw(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ew(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Lw(e),t))}(e,t)}function zw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qw(e){return function(t,n){var r,i=!1,a=Fa(Lw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Kw(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Kw(e,t,n){var r=e.field.isKeyField()?Vb.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Bk(r,i):vb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vb()}}function Hw(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pk(t)?"-0":t}}function Gw(e){return{integerValue:""+e}}function Ww(e,t){return Lk(t)?Gw(t):Hw(e,t)}var Qw=f((function e(){c(this,e),this._=void 0}));function Yw(e,t,n){return e instanceof Jw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zw?ex(e,t):e instanceof tx?nx(e,t):function(e,t){var n=Xw(e,t),r=ix(n)+ix(e.yt);return Gk(n)&&Gk(e.yt)?Gw(r):Hw(e.It,r)}(e,t)}function $w(e,t,n){return e instanceof Zw?ex(e,t):e instanceof tx?nx(e,t):n}function Xw(e,t){return e instanceof rx?Gk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Jw=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return f(n)}(Qw),Zw=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return f(n)}(Qw);function ex(e,t){var n,r=ax(t),i=Fa(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Uk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tx=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return f(n)}(Qw);function nx(e,t){var n,r=ax(t),i=Fa(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Uk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rx=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).It=e,i.yt=r,i}return f(n)}(Qw);function ix(e){return Ek(e.integerValue||e.doubleValue)}function ax(e){return Wk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ox=f((function e(t,n){c(this,e),this.field=t,this.transform=n}));var ux=f((function e(t,n){c(this,e),this.version=t,this.transformResults=n})),sx=function(){function e(t,n){c(this,e),this.updateTime=t,this.exists=n}return f(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function cx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lx=f((function e(){c(this,e)}));function fx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _x(e.key,sx.none()):new gx(e.key,e.data,sx.none());var n,r=e.data,i=rw.empty(),a=new bk(Ub.comparator),o=Fa(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new mx(e.key,i,new xk(a.toArray()),sx.none())}function dx(e,t,n){e instanceof gx?function(e,t,n){var r=e.value.clone(),i=bx(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mx?function(e,t,n){if(cx(e.precondition,t)){var r=bx(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(yx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hx(e,t,n,r){return e instanceof gx?function(e,t,n,r){if(!cx(e.precondition,t))return n;var i=e.value.clone(),a=kx(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof mx?function(e,t,n,r){if(!cx(e.precondition,t))return n;var i=kx(e.fieldTransforms,r,t),a=t.data;return a.setAll(yx(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return cx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function px(e,t){var n,r=null,i=Fa(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Xw(a.transform,o||null);null!=u&&(null===r&&(r=rw.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function vx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ob(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zw&&t instanceof Zw||e instanceof tx&&t instanceof tx?Ob(e.elements,t.elements,Uk):e instanceof rx&&t instanceof rx?Uk(e.yt,t.yt):e instanceof Jw&&t instanceof Jw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var gx=function(e){h(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return c(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lx),mx=function(e){h(n,e);var t=b(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return c(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return f(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(lx);function yx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function bx(e,t,n){var r=new Map;gb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,$w(o,u,n[i]))}return r}function kx(e,t,n){var r,i=new Map,a=Fa(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Yw(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var wx,xx,_x=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lx),Ix=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lx),Sx=f((function e(t){c(this,e),this.count=t}));function Ex(e){switch(e){default:return vb();case yb.CANCELLED:case yb.UNKNOWN:case yb.DEADLINE_EXCEEDED:case yb.RESOURCE_EXHAUSTED:case yb.INTERNAL:case yb.UNAVAILABLE:case yb.UNAUTHENTICATED:return!1;case yb.INVALID_ARGUMENT:case yb.NOT_FOUND:case yb.ALREADY_EXISTS:case yb.PERMISSION_DENIED:case yb.FAILED_PRECONDITION:case yb.ABORTED:case yb.OUT_OF_RANGE:case yb.UNIMPLEMENTED:case yb.DATA_LOSS:return!0}}function Tx(e){if(void 0===e)return db("GRPC error has no .code"),yb.UNKNOWN;switch(e){case wx.OK:return yb.OK;case wx.CANCELLED:return yb.CANCELLED;case wx.UNKNOWN:return yb.UNKNOWN;case wx.DEADLINE_EXCEEDED:return yb.DEADLINE_EXCEEDED;case wx.RESOURCE_EXHAUSTED:return yb.RESOURCE_EXHAUSTED;case wx.INTERNAL:return yb.INTERNAL;case wx.UNAVAILABLE:return yb.UNAVAILABLE;case wx.UNAUTHENTICATED:return yb.UNAUTHENTICATED;case wx.INVALID_ARGUMENT:return yb.INVALID_ARGUMENT;case wx.NOT_FOUND:return yb.NOT_FOUND;case wx.ALREADY_EXISTS:return yb.ALREADY_EXISTS;case wx.PERMISSION_DENIED:return yb.PERMISSION_DENIED;case wx.FAILED_PRECONDITION:return yb.FAILED_PRECONDITION;case wx.ABORTED:return yb.ABORTED;case wx.OUT_OF_RANGE:return yb.OUT_OF_RANGE;case wx.UNIMPLEMENTED:return yb.UNIMPLEMENTED;case wx.DATA_LOSS:return yb.DATA_LOSS;default:return vb()}}(xx=wx||(wx={}))[xx.OK=0]="OK",xx[xx.CANCELLED=1]="CANCELLED",xx[xx.UNKNOWN=2]="UNKNOWN",xx[xx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xx[xx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xx[xx.NOT_FOUND=5]="NOT_FOUND",xx[xx.ALREADY_EXISTS=6]="ALREADY_EXISTS",xx[xx.PERMISSION_DENIED=7]="PERMISSION_DENIED",xx[xx.UNAUTHENTICATED=16]="UNAUTHENTICATED",xx[xx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xx[xx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xx[xx.ABORTED=10]="ABORTED",xx[xx.OUT_OF_RANGE=11]="OUT_OF_RANGE",xx[xx.UNIMPLEMENTED=12]="UNIMPLEMENTED",xx[xx.INTERNAL=13]="INTERNAL",xx[xx.UNAVAILABLE=14]="UNAVAILABLE",xx[xx.DATA_LOSS=15]="DATA_LOSS";var Cx=function(){function e(t,n){c(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return f(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Fa(n);try{for(i.s();!(r=i.n()).done;){var a=x(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){pk(this.inner,(function(t,n){var r,i=Fa(n);try{for(i.s();!(r=i.n()).done;){var a=x(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return vk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Nx=new gk(Vb.comparator);function Ax(){return Nx}var Dx=new gk(Vb.comparator);function Ox(){for(var e=Dx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Rx(e){var t=Dx;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Px(){return Mx()}function Lx(){return Mx()}function Mx(){return new Cx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var jx=new gk(Vb.comparator),Fx=new bk(Vb.comparator);function Ux(){for(var e=Fx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Vx=new bk(Db);function Bx(){return Vx}var zx=function(){function e(t,n,r,i,a){c(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return f(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,qx.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Lb.min(),i,Bx(),Ax(),Ux())}}]),e}(),qx=function(){function e(t,n,r,i,a){c(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return f(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ux(),Ux(),Ux())}}]),e}(),Kx=f((function e(t,n,r,i){c(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Hx=f((function e(t,n){c(this,e),this.targetId=t,this.At=n})),Gx=f((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_k.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Wx=function(){function e(){c(this,e),this.Rt=0,this.bt=$x(),this.Pt=_k.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return f(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Ux(),t=Ux(),n=Ux();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vb()}})),new qx(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=$x()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Qx=function(){function e(t){c(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Ax(),this.qt=Yx(),this.Kt=new bk(Db)}return f(e,[{key:"Gt",value:function(e){var t,n=Fa(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Fa(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:vb()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(lw(i))if(0===n){var a=new Vb(i.path);this.jt(t,a,aw.newNoDocument(a,Lb.min()))}else gb(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&lw(a.target)){var o=new Vb(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,aw.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Ux();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new zx(e,n,this.Kt,this.Ut,r);return this.Ut=Ax(),this.qt=Yx(),this.Kt=new bk(Db),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Wx,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new bk(Db),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||fb("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Wx),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Yx(){return new gk(Vb.comparator)}function $x(){return new gk(Vb.comparator)}var Xx={asc:"ASCENDING",desc:"DESCENDING"},Jx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zx=f((function e(t,n){c(this,e),this.databaseId=t,this.gt=n}));function e_(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function t_(e,t){return e.gt?t.toBase64():t.toUint8Array()}function n_(e,t){return e_(e,t.toTimestamp())}function r_(e){return gb(!!e),Lb.fromTimestamp(function(e){var t=Sk(e);return new Pb(t.seconds,t.nanos)}(e))}function i_(e,t){return function(e){return new jb(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function a_(e){var t=jb.fromString(e);return gb(C_(t)),t}function o_(e,t){return i_(e.databaseId,t.path)}function u_(e,t){var n=a_(t);if(n.get(1)!==e.databaseId.projectId)throw new bb(yb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new bb(yb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vb(f_(n))}function s_(e,t){return i_(e.databaseId,t)}function c_(e){var t=a_(e);return 4===t.length?jb.emptyPath():f_(t)}function l_(e){return new jb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function f_(e){return gb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function d_(e,t,n){return{name:o_(e,t),fields:n.value.mapValue.fields}}function h_(e,t,n){var r=u_(e,t.name),i=r_(t.updateTime),a=new rw({mapValue:{fields:t.fields}}),o=aw.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function p_(e,t){return"found"in t?function(e,t){gb(!!t.found),t.found.name,t.found.updateTime;var n=u_(e,t.found.name),r=r_(t.found.updateTime),i=new rw({mapValue:{fields:t.found.fields}});return aw.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){gb(!!t.missing),gb(!!t.readTime);var n=u_(e,t.missing),r=r_(t.readTime);return aw.newNoDocument(n,r)}(e,t):vb()}function v_(e,t){var n;if(t instanceof gx)n={update:d_(e,t.key,t.value)};else if(t instanceof _x)n={delete:o_(e,t.key)};else if(t instanceof mx)n={update:d_(e,t.key,t.data),updateMask:T_(t.fieldMask)};else{if(!(t instanceof Ix))return vb();n={verify:o_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Jw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rx)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw vb()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:n_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vb()}(e,t.precondition)),n}function g_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?sx.updateTime(r_(e.updateTime)):void 0!==e.exists?sx.exists(e.exists):sx.none()}(t.currentDocument):sx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)gb("REQUEST_TIME"===t.setToServerValue),n=new Jw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Zw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new tx(i)}else"increment"in t?n=new rx(e,t.increment):vb();var a=Ub.fromServerFormat(t.fieldPath);return new ox(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=u_(e,t.update.name),a=new rw({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new xk(t.map((function(e){return Ub.fromServerFormat(e)})))}(t.updateMask);return new mx(i,a,o,n,r)}return new gx(i,a,n,r)}if(t.delete){var u=u_(e,t.delete);return new _x(u,n)}if(t.verify){var s=u_(e,t.verify);return new Ix(s,n)}return vb()}function m_(e,t){return{documents:[s_(e,t.path)]}}function y_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=s_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=s_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Yk(e.value))return{unaryFilter:{field:__(e.field),op:"IS_NAN"}};if(Qk(e.value))return{unaryFilter:{field:__(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yk(e.value))return{unaryFilter:{field:__(e.field),op:"IS_NOT_NAN"}};if(Qk(e.value))return{unaryFilter:{field:__(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__(e.field),op:x_(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:__(e.field),direction:w_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Rk(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function b_(e){var t=c_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=k_(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Iw(I_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Rk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new _w(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new _w(n,t)}(n.endAt)),Nw(t,i,u,o,s,"F",c,l)}function k_(e){return e?void 0!==e.unaryFilter?[E_(e)]:void 0!==e.fieldFilter?[S_(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return k_(e)})).reduce((function(e,t){return e.concat(t)})):vb():[]}function w_(e){return Xx[e]}function x_(e){return Jx[e]}function __(e){return{fieldPath:e.canonicalString()}}function I_(e){return Ub.fromServerFormat(e.fieldPath)}function S_(e){return pw.create(I_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vb()}}(e.fieldFilter.op),e.fieldFilter.value)}function E_(e){switch(e.unaryFilter.op){case"IS_NAN":var t=I_(e.unaryFilter.field);return pw.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=I_(e.unaryFilter.field);return pw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=I_(e.unaryFilter.field);return pw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=I_(e.unaryFilter.field);return pw.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vb()}}function T_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function C_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function N_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=D_(t)),t=A_(e.get(n),t);return D_(t)}function A_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function D_(e){return e+"\x01\x01"}function O_(e){var t=e.length;if(gb(t>=2),2===t)return gb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),jb.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&vb(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:vb()}a=o+2}return new jb(r)}var R_=["userId","batchId"];function P_(e,t){return[e,N_(t)]}function L_(e,t,n){return[e,N_(t),n]}var M_={},j_=["prefixPath","collectionGroup","readTime","documentId"],F_=["prefixPath","collectionGroup","documentId"],U_=["collectionGroup","readTime","prefixPath","documentId"],V_=["canonicalId","targetId"],B_=["targetId","path"],z_=["path","targetId"],q_=["collectionId","parent"],K_=["indexId","uid"],H_=["uid","sequenceNumber"],G_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],W_=["indexId","uid","orderedDocumentKey"],Q_=["userId","collectionPath","documentId"],Y_=["userId","collectionPath","largestBatchId"],$_=["userId","collectionGroup","largestBatchId"],X_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),J_=[].concat(s(X_),["documentOverlays"]),Z_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eI=Z_,tI=[].concat(eI,["indexConfiguration","indexState","indexEntries"]),nI=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return f(n)}(Xb);function rI(e,t){var n=mb(e);return nk.M(n.ie,t)}var iI=function(){function e(t,n,r,i){c(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return f(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&dx(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Fa(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=hx(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Fa(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=hx(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Lx();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=fx(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Lb.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ux())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ob(this.mutations,e.mutations,(function(e,t){return vx(e,t)}))&&Ob(this.baseMutations,e.baseMutations,(function(e,t){return vx(e,t)}))}}]),e}(),aI=function(){function e(t,n,r,i){c(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return f(e,null,[{key:"from",value:function(t,n,r){gb(t.mutations.length===r.length);for(var i=jx,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),oI=function(){function e(t,n){c(this,e),this.largestBatchId=t,this.mutation=n}return f(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),uI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lb.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lb.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_k.EMPTY_BYTE_STRING;c(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return f(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),sI=f((function e(t){c(this,e),this.re=t}));function cI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:o_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:e_(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fI(t.version)};else{if(!t.isUnknownDocument())return vb();r.unknownDocument={path:n.path.toArray(),version:fI(t.version)}}return r}function lI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function fI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function dI(e){var t=new Pb(e.seconds,e.nanoseconds);return Lb.fromTimestamp(t)}function hI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return g_(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return g_(e.re,t)})),u=Pb.fromMillis(t.localWriteTimeMs);return new iI(t.batchId,u,n,o)}function pI(e){var t,n,r=dI(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?dI(e.lastLimboFreeSnapshotVersion):Lb.min();return void 0!==e.query.documents?(gb(1===(n=e.query).documents.length),t=Mw(Aw(c_(n.documents[0])))):t=function(e){return Mw(b_(e))}(e.query),new uI(t,e.targetId,0,e.lastListenSequenceNumber,r,i,_k.fromBase64String(e.resumeToken))}function vI(e,t){var n,r=fI(t.snapshotVersion),i=fI(t.lastLimboFreeSnapshotVersion);n=lw(t.target)?m_(e.re,t.target):y_(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:sw(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function gI(e){var t=b_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jw(t,t.limit,"L"):t}function mI(e,t){return new oI(t.largestBatchId,g_(e.re,t.overlayMutation))}function yI(e,t){var n=t.path.lastSegment();return[e,N_(t.path.popLast()),n]}function bI(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:fI(r.readTime),documentKey:N_(r.documentKey.path),largestBatchId:r.largestBatchId}}var kI=function(){function e(){c(this,e)}return f(e,[{key:"getBundleMetadata",value:function(e,t){return wI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:dI(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return wI(e).put({bundleId:(n=t).id,createTime:fI(r_(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return xI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:gI(t.bundledQuery),readTime:dI(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return xI(e).put(function(e){return{name:e.name,readTime:fI(r_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function wI(e){return rI(e,"bundles")}function xI(e){return rI(e,"namedQueries")}var _I=function(){function e(t,n){c(this,e),this.It=t,this.userId=n}return f(e,[{key:"getOverlay",value:function(e,t){var n=this;return II(e).get(yI(this.userId,t)).next((function(e){return e?mI(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Px();return ek.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new oI(t,a);i.push(r.ue(e,o))})),ek.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(N_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(II(e).Y("collectionPathOverlayIndex",i))})),ek.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Px(),a=N_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return II(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Fa(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=mI(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Px(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return II(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=mI(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return II(e).put(function(e,t,n){var r=x(yI(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:v_(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function II(e){return rI(e,"documentOverlays")}var SI=function(){function e(){c(this,e)}return f(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ek(e.integerValue));else if("doubleValue"in e){var n=Ek(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Pk(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Tk(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Jk(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):vb()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Fa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Vb.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function EI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function TI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=EI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}SI.Te=new SI;var CI=function(){function e(){c(this,e),this.buffer=new Uint8Array(1024),this.position=0}return f(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Fa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Fa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=TI(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=TI(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),NI=function(){function e(t){c(this,e),this.Be=t}return f(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),AI=function(){function e(t){c(this,e),this.Be=t}return f(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),DI=function(){function e(){c(this,e),this.Be=new CI,this.Le=new NI(this.Be),this.Ue=new AI(this.Be)}return f(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),OI=function(){function e(t,n,r,i){c(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return f(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function RI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=PI(e.arrayValue,t.arrayValue))?n:0!==(n=PI(e.directionalValue,t.directionalValue))?n:Vb.comparator(e.documentKey,t.documentKey)}function PI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var LI=function(){function e(t){c(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Fa(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return f(e,[{key:"We",value:function(e){var t=zb(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=qb(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Fa(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),MI=function(){function e(){c(this,e),this.Ye=new jI}return f(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),ek.resolve()}},{key:"getCollectionParents",value:function(e,t){return ek.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ek.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ek.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ek.resolve(null)}},{key:"getIndexType",value:function(e,t){return ek.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ek.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ek.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ek.resolve(Qb.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ek.resolve(Qb.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ek.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ek.resolve()}}]),e}(),jI=function(){function e(){c(this,e),this.index={}}return f(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bk(jb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new bk(jb.comparator)).toArray()}}]),e}(),FI=new Uint8Array(0),UI=function(){function e(t,n){c(this,e),this.user=t,this.databaseId=n,this.Xe=new jI,this.Ze=new Cx((function(e){return sw(e)}),(function(e,t){return cw(e,t)})),this.uid=t.uid||""}return f(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:N_(i)};return VI(e).put(a)}return ek.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Rb(t),""],!1,!0);return VI(e).W(r).next((function(e){var r,i=Fa(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(O_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=zI(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=qI(e);return a.next((function(e){o.put(bI(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=zI(e),r=qI(e),i=BI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=BI(e),i=!0,a=new Map;return ek.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ux(),o=[];return ek.forEach(a,(function(i,a){var u;fb("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(sw(t)));var s=function(e,t){var n=zb(t);if(void 0===n)return null;var r,i=Fa(fw(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Fa(qb(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Fa(fw(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Fa(qb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?dw(e,o.fieldPath,e.startAt):hw(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new _w(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Fa(qb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?hw(e,o.fieldPath,e.endAt):dw(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new _w(r,i)}(a,i),d=n.nn(i,a,l),h=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return ek.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Vb.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ek.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,c=(null!=t?t.length:1)*Math.max(n.length,i.length),l=c/(null!=t?t.length:1),f=[],d=function(c){var d=t?u.on(t[c/l]):FI,h=u.un(e,d,n[c%l],r),p=u.cn(e,d,i[c%l],a),v=o.map((function(t){return u.un(e,d,t,!0)}));f.push.apply(f,s(u.createRange(h,p,v)))},h=0;h<c;++h)d(h);return f}},{key:"un",value:function(e,t,n,r){var i=new OI(e,Vb.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new OI(e,Vb.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new LI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Fa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return ek.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new bk(Ub.comparator),r=!1,i=Fa(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Fa(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new DI,i=Fa(qb(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);SI.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new DI;return SI.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new DI;return SI.Te.ce(Hk(this.databaseId,t),n.qe(function(e){var t=qb(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new DI);var i,a=0,o=Fa(qb(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Fa(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&Wk(c))r=this.fn(r,s,c);else{var d=f.qe(s.kind);SI.Te.ce(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=s(e),a=[],o=Fa(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,c=r.value,l=Fa(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,d=new DI;d.seed(f.$e()),SI.Te.ce(c,d.qe(t.kind)),a.push(d)}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof pw&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=zI(e),i=qI(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return ek.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Hb(t.sequenceNumber,new Qb(dI(t.readTime),new Vb(O_(t.documentKey)),t.largestBatchId)):Hb.empty(),r=e.fields.map((function(e){var t=x(e,2),n=t[0],r=t[1];return new Kb(Ub.fromServerFormat(n),r)}));return new Bb(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Db(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=zI(e),a=qI(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ek.forEach(t,(function(t){return a.put(bI(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ek.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ek.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ek.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?ek.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return BI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return BI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=BI(e),i=new bk(RI);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new OI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new bk(RI),r=this.an(t,e);if(null==r)return n;var i=zb(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Wk(a)){var o,u=Fa(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new OI(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new OI(t.indexId,e.key,FI,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;fb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=wk(a),s=wk(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=wk(o)):l?(i(u),u=wk(a)):(u=wk(a),s=wk(o))}}(r,i,RI,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),ek.waitFor(o)}},{key:"_n",value:function(e){var t=1;return qI(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return RI(e,t)})).filter((function(e,t,n){return!t||0!==RI(e,n[t-1])}));var r=[];r.push(e);var i,a=Fa(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=RI(o,e),s=RI(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,FI,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,FI,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(KI)}},{key:"getMinOffset",value:function(e,t){var n=this;return ek.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||vb()}))})).next(KI)}}]),e}();function VI(e){return rI(e,"collectionParents")}function BI(e){return rI(e,"indexEntries")}function zI(e){return rI(e,"indexConfiguration")}function qI(e){return rI(e,"indexState")}function KI(e){gb(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Yb(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Qb(t.readTime,t.documentKey,n)}var HI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GI=function(){function e(t,n,r){c(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return f(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function WI(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){gb(1===u)})));var c,l=[],f=Fa(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=L_(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return ek.waitFor(a).next((function(){return l}))}function QI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw vb();t=e.noDocument}return JSON.stringify(t).length}GI.DEFAULT_COLLECTION_PERCENTILE=10,GI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,GI.DEFAULT=new GI(41943040,GI.DEFAULT_COLLECTION_PERCENTILE,GI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),GI.DISABLED=new GI(-1,0,0);var YI=function(){function e(t,n,r,i){c(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return f(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return XI(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=JI(e),o=XI(e);return o.add({}).next((function(u){gb("number"==typeof u);var s,c=new iI(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return v_(e.re,t)})),i=n.mutations.map((function(t){return v_(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],d=new bk((function(e,t){return Db(e.canonicalString(),t.canonicalString())})),h=Fa(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=L_(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,M_))}}catch(g){h.e(g)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),ek.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return XI(e).get(t).next((function(e){return e?(gb(e.userId===n.userId),hI(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?ek.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return XI(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(gb(t.batchId>=r),a=hI(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return XI(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return XI(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return hI(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=P_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return JI(e).Z({range:i},(function(r,i,o){var u=x(r,3),s=u[0],c=u[1],l=u[2],f=O_(c);if(s===n.userId&&t.path.isEqual(f))return XI(e).get(l).next((function(e){if(!e)throw vb();gb(e.userId===n.userId),a.push(hI(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bk(Db),i=[];return t.forEach((function(t){var a=P_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=JI(e).Z({range:o},(function(e,i,a){var o=x(e,3),u=o[0],s=o[1],c=o[2],l=O_(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),ek.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=P_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new bk(Db);return JI(e).Z({range:o},(function(e,t,a){var o=x(e,3),s=o[0],c=o[1],l=o[2],f=O_(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(XI(e).get(t).next((function(e){if(null===e)throw vb();gb(e.userId===n.userId),r.push(hI(n.It,e))})))})),ek.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return WI(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),ek.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ek.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return JI(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=O_(e[1]);i.push(a)}else r.done()})).next((function(){gb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return $I(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return ZI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return gb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function $I(e,t,n){var r=P_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return JI(e).Z({range:a,X:!0},(function(e,n,r){var a=x(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function XI(e){return rI(e,"mutations")}function JI(e){return rI(e,"documentMutations")}function ZI(e){return rI(e,"mutationQueues")}var eS=function(){function e(t){c(this,e),this.bn=t}return f(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),tS=function(){function e(t,n){c(this,e),this.referenceDelegate=t,this.It=n}return f(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new eS(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Lb.fromTimestamp(new Pb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return nS(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return gb(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return nS(e).Z((function(o,u){var s=pI(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ek.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return nS(e).Z((function(e,n){var r=pI(n);t(r)}))}},{key:"Vn",value:function(e){return rS(e).get("targetGlobalKey").next((function(e){return gb(null!==e),e}))}},{key:"Sn",value:function(e,t){return rS(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return nS(e).put(vI(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=sw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return nS(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=pI(n);cw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=iS(e);return t.forEach((function(t){var o=N_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ek.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=iS(e);return ek.forEach(t,(function(t){var a=N_(t.path);return ek.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=iS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=iS(e),i=Ux();return r.Z({range:n,X:!0},(function(e,t,n){var r=O_(e[1]),a=new Vb(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=N_(t.path),r=IDBKeyRange.bound([n],[Rb(n)],!1,!0),i=0;return iS(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=x(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return nS(e).get(t).next((function(e){return e?pI(e):null}))}}]),e}();function nS(e){return rI(e,"targets")}function rS(e){return rI(e,"targetGlobal")}function iS(e){return rI(e,"targetDocuments")}function aS(e,t){var n=x(e,2),r=n[0],i=n[1],a=x(t,2),o=a[0],u=a[1],s=Db(r,o);return 0===s?Db(i,u):s}var oS=function(){function e(t){c(this,e),this.xn=t,this.buffer=new bk(aS),this.Nn=0}return f(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();aS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),uS=function(){function e(t,n,r){c(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return f(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;fb("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ak(e.t0)){e.next=12;break}fb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Jb(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),sS=function(){function e(t,n){c(this,e),this.$n=t,this.params=n}return f(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ek.resolve(dk.at);var r=new oS(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(fb("LruGarbageCollector","Garbage collection skipped; disabled"),ek.resolve(HI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(fb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),HI):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(fb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),lb()<=wo.DEBUG&&fb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ek.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),cS=function(){function e(t,n){c(this,e),this.db=t,this.garbageCollector=function(e,t){return new sS(e,t)}(this,n)}return f(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return lS(e,n)}},{key:"removeReference",value:function(e,t,n){return lS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return lS(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return ZI(e).tt((function(r){return $I(e,r,t).next((function(e){return e&&(n=!0),ek.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Lb.min()),iS(e).delete([0,N_(o.path)])}))}));i.push(s)}})).next((function(){return ek.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return lS(e,t)}},{key:"Kn",value:function(e,t){var n,r=iS(e),i=dk.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=x(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==dk.at&&t(new Vb(O_(n)),i),i=s,n=u):i=dk.at})).next((function(){i!==dk.at&&t(new Vb(O_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function lS(e,t){return iS(e).put(function(e,t){return{targetId:0,path:N_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var fS=function(){function e(){c(this,e),this.changes=new Cx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return f(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,aw.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ek.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),dS=function(){function e(t){c(this,e),this.It=t}return f(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return gS(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return gS(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],lI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=aw.newInvalidDocument(t);return gS(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mS(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:aw.newInvalidDocument(t)};return gS(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mS(t))},(function(e,i){r={document:n.jn(t,i),size:QI(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ax();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Ax(),i=new gk(Vb.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,QI(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return ek.resolve();var r=new bk(bS);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(mS(r.first()),mS(r.last())),a=r.getIterator(),o=a.getNext();return gS(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Vb.fromSegments([].concat(s(t.prefixPath),[t.collectionGroup,t.documentId]));o&&bS(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(mS(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),lI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gS(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Ax(),i=Fa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(Vb.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Ax(),o=yS(t,n),u=yS(t,Qb.max());return gS(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(Vb.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new pS(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return vS(e).get("remoteDocumentGlobalKey").next((function(e){return gb(!!e),e}))}},{key:"Qn",value:function(e,t){return vS(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=h_(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Vb.fromSegments(t.noDocument.path),i=dI(t.noDocument.readTime);n=aw.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return vb();var a=Vb.fromSegments(t.unknownDocument.path),o=dI(t.unknownDocument.version);n=aw.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Pb(e[0],e[1]);return Lb.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Lb.min()))return n}return aw.newInvalidDocument(e)}}]),e}();function hS(e){return new dS(e)}var pS=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Cx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return f(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new bk((function(e,t){return Db(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=cI(t.Yn.It,o);i=i.add(a.path.popLast());var c=QI(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=cI(t.Yn.It,o.convertToNoDocument(Lb.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),ek.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(fS);function vS(e){return rI(e,"remoteDocumentGlobal")}function gS(e){return rI(e,"remoteDocumentsV14")}function mS(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function yS(e,t){var n=t.documentKey.path.toArray();return[e,lI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bS(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Db(n[a],r[a]))return i;return(i=Db(n.length,r.length))||((i=Db(n[n.length-2],r[r.length-2]))||Db(n[n.length-1],r[r.length-1]))}var kS=f((function e(t,n){c(this,e),this.overlayedDocument=t,this.mutatedFields=n})),wS=function(){function e(t,n,r,i){c(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return f(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&hx(r.mutation,e,xk.empty(),Pb.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ux()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ux(),i=Px();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ox();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Px();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ux())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ax(),a=Mx(),o=Mx();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof mx)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),hx(o.mutation,t,o.mutation.getFieldMask(),Pb.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new kS(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Mx(),i=new gk((function(e,t){return e-t})),a=Ux();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Fa(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||xk.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Ux()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Lx();c.forEach((function(e){if(!a.has(e)){var n=fx(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ek.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Vb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ek.resolve(Px()),u=-1,s=a;return o.next((function(t){return ek.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ek.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Ux())})).next((function(e){return{batchId:u,changes:Rx(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Vb(t)).next((function(e){var t=Ox();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ox();return this.indexManager.getCollectionParents(e,i).next((function(o){return ek.forEach(o,(function(o){var u=function(e,t){return new Cw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,aw.newInvalidDocument(n)))}));var n=Ox();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&hx(a.mutation,i,xk.empty(),Pb.now()),Bw(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):ek.resolve(aw.newInvalidDocument(t))}}]),e}(),xS=function(){function e(t){c(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return f(e,[{key:"getBundleMetadata",value:function(e,t){return ek.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:r_(n.createTime)}),ek.resolve()}},{key:"getNamedQuery",value:function(e,t){return ek.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:gI(e.bundledQuery),readTime:r_(e.readTime)}}(t)),ek.resolve()}}]),e}(),_S=function(){function e(){c(this,e),this.overlays=new gk(Vb.comparator),this.es=new Map}return f(e,[{key:"getOverlay",value:function(e,t){return ek.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Px();return ek.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),ek.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),ek.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Px(),i=t.length+1,a=new Vb(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ek.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new gk((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Px(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Px(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ek.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new oI(t,n));var a=this.es.get(t);void 0===a&&(a=Ux(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),IS=function(){function e(){c(this,e),this.ns=new bk(SS.ss),this.rs=new bk(SS.os)}return f(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new SS(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new SS(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Vb(new jb([])),r=new SS(n,e),i=new SS(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Vb(new jb([])),n=new SS(t,e),r=new SS(t,e+1),i=Ux();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new SS(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),SS=function(){function e(t,n){c(this,e),this.key=t,this._s=n}return f(e,null,[{key:"ss",value:function(e,t){return Vb.comparator(e.key,t.key)||Db(e._s,t._s)}},{key:"os",value:function(e,t){return Db(e._s,t._s)||Vb.comparator(e.key,t.key)}}]),e}(),ES=function(){function e(t,n){c(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new bk(SS.ss)}return f(e,[{key:"checkEmpty",value:function(e){return ek.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new iI(i,t,n,r);this.mutationQueue.push(a);var o,u=Fa(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new SS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ek.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ek.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return ek.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ek.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return ek.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new SS(t,0),i=new SS(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),ek.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new bk(Db);return t.forEach((function(e){var t=new SS(e,0),i=new SS(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),ek.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Vb.isDocumentKey(i)||(i=i.child(""));var a=new SS(new Vb(i),0),o=new bk(Db);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),ek.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;gb(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return ek.forEach(t.mutations,(function(i){var a=new SS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new SS(t,0),r=this.gs.firstAfterOrEqual(n);return ek.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ek.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),TS=function(){function e(t){c(this,e),this.Es=t,this.docs=new gk(Vb.comparator),this.size=0}return f(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ek.resolve(n?n.document.mutableCopy():aw.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ax();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():aw.newInvalidDocument(e))})),ek.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ax(),i=new Vb(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Yb(Wb(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ek.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){vb()}},{key:"As",value:function(e,t){return ek.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new CS(this)}},{key:"getSize",value:function(e){return ek.resolve(this.size)}}]),e}(),CS=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).Yn=e,r}return f(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),ek.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(fS),NS=function(){function e(t){c(this,e),this.persistence=t,this.Rs=new Cx((function(e){return sw(e)}),cw),this.lastRemoteSnapshotVersion=Lb.min(),this.highestTargetId=0,this.bs=0,this.Ps=new IS,this.targetCount=0,this.vs=eS.Pn()}return f(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),ek.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ek.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ek.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),ek.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ek.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new eS(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,ek.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),ek.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ek.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ek.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ek.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return ek.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),ek.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ek.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),ek.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return ek.resolve(n)}},{key:"containsKey",value:function(e,t){return ek.resolve(this.Ps.containsKey(t))}}]),e}(),AS=function(){function e(t,n){var r=this;c(this,e),this.Vs={},this.overlays={},this.Ss=new dk(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new NS(this),this.indexManager=new MI,this.remoteDocumentCache=new TS((function(e){return r.referenceDelegate.xs(e)})),this.It=new sI(n),this.Ns=new xS(this.It)}return f(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new _S,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new ES(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;fb("MemoryPersistence","Starting transaction:",e);var i=new DS(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return ek.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),DS=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return f(n)}(Xb),OS=function(){function e(t){c(this,e),this.persistence=t,this.Fs=new IS,this.$s=null}return f(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw vb()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),ek.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),ek.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),ek.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ek.forEach(this.Ls,(function(r){var i=Vb.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Lb.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return ek.or([function(){return ek.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),RS=function(){function e(t){c(this,e),this.It=t}return f(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new tk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R_,{unique:!0}),e.createObjectStore("documentMutations")}(e),PS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ek.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),PS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lb.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",R_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ek.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Q_});t.createIndex("collectionPathOverlayIndex",Y_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",$_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:j_});t.createIndex("documentKeyIndex",F_),t.createIndex("collectionGroupIndex",U_)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:K_}).createIndex("sequenceNumberIndex",H_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:G_}).createIndex("documentKeyIndex",W_,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=QI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return ek.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return ek.forEach(r,(function(r){gb(r.userId===n.userId);var i=hI(t.It,r);return WI(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new jb(n),o=function(e){return[0,N_(e)]}(a);r.push(t.get(o).next((function(n){return n?ek.resolve():function(n){return t.put({targetId:0,path:N_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ek.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:q_});var n=t.store("collectionParents"),r=new jI,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:N_(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new jb(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=x(e,3),r=(n[0],n[1]),a=(n[2],O_(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=pI(r),a=vI(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Vb(jb.fromString(i.document.name).popFirst(5)):i.noDocument?Vb.fromSegments(i.noDocument.path):i.unknownDocument?Vb.fromSegments(i.unknownDocument.path):vb()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ek.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=hS(this.It),a=new AS(OS.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ux();hI(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ek.forEach(r,(function(e,r){var o=new ub(r),u=_I.oe(n.It,o),s=a.getIndexManager(o),c=YI.oe(o,n.It,s,a.referenceDelegate);return new wS(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new nI(t,dk.at),e).next()}))}))}}]),e}();function PS(e){e.createObjectStore("targetDocuments",{keyPath:B_}).createIndex("documentTargetsIndex",z_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",V_,{unique:!0}),e.createObjectStore("targetGlobal")}var LS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",MS=function(){function e(t,n,r,i,a,o,u,s,l,f){var d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(c(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=l,this.Ys=f,this.Xs=d,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new bb(yb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cS(this,i),this.ii=n+"main",this.It=new sI(s),this.ri=new nk(this.ii,this.Xs,new RS(this.It)),this.Cs=new tS(this.referenceDelegate,this.It),this.remoteDocumentCache=hS(this.It),this.Ns=new kI,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===f&&db("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return f(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new bb(yb.FAILED_PRECONDITION,LS);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new dk(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Vt(Ft().mark((function n(r){return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Vt(Ft().mark((function t(n){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return FS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(ak(t))return fb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return fb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return jS(e).get("owner").next((function(e){return ek.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return FS(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Vt(Ft().mark((function e(){var t,n,r,i,a=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=rI(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ek.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Fa(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?ek.resolve(!0):jS(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new bb(yb.FAILED_PRECONDITION,LS);return!1}}return!(!t.networkEnabled||!t.inForeground)||FS(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&fb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Vt(Ft().mark((function e(){var t=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new nI(e,dk.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return FS(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return YI.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new UI(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return _I.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;fb("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?tI:14===i?eI:13===i?Z_:12===i?J_:11===i?X_:void vb();return this.ri.runTransaction(e,o,u,(function(i){return a=new nI(i,r.Ss?r.Ss.next():dk.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw db("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new bb(yb.FAILED_PRECONDITION,$b);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return jS(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new bb(yb.FAILED_PRECONDITION,LS)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jS(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=jS(e);return n.get("owner").next((function(e){return t.mi(e)?(fb("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ek.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(db("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Ha()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return fb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return db("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Kt){db("Failed to set zombie client id.",Kt)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Kt){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return nk.C()}}]),e}();function jS(e){return rI(e,"owner")}function FS(e){return rI(e,"clientMetadata")}function US(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var VS=function(){function e(t,n,r,i){c(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return f(e,null,[{key:"Ci",value:function(t,n){var r,i=Ux(),a=Ux(),o=Fa(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),BS=function(){function e(){c(this,e),this.xi=!1}return f(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Dw(t))return ek.resolve(null);var r=Mw(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=jw(t,null,"F"),r=Mw(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ux.apply(void 0,s(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,jw(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Dw(t)||r.isEqual(Lb.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(lb()<=wo.DEBUG&&fb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vw(t)),i.Bi(e,o,t,Gb(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new bk(qw(e));return t.forEach((function(t,r){Bw(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return lb()<=wo.DEBUG&&fb("QueryEngine","Using full collection scan to execute query:",Vw(t)),this.Ni.getDocumentsMatchingQuery(e,t,Qb.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),zS=function(){function e(t,n,r,i){c(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new gk(Db),this.qi=new Cx((function(e){return sw(e)}),cw),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return f(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wS(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function qS(e,t,n,r){return new zS(e,t,n,r)}function KS(e,t){return HS.apply(this,arguments)}function HS(){return HS=Vt(Ft().mark((function e(t,n){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Ux(),s=Fa(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Fa(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=Fa(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var g,m=Fa(v.mutations);try{for(m.s();!(g=m.n()).done;){var y=g.value;u=u.add(y.key)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function GS(e,t){var n=mb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ek.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);gb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ux(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function WS(e){var t=mb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function QS(e,t){var n=mb(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(_k.EMPTY_BYTE_STRING,Lb.min()).withLastLimboFreeSnapshotVersion(Lb.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Ax(),s=Ux();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(YS(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Lb.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ek.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function YS(e,t,n){var r=Ux(),i=Ux();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ax();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Lb.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):fb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function $S(e,t){var n=mb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function XS(e,t){var n=mb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,ek.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new uI(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function JS(e,t,n){return ZS.apply(this,arguments)}function ZS(){return ZS=Vt(Ft().mark((function e(t,n,r){var i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mb(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ak(e.t1)){e.next=12;break}throw e.t1;case 12:fb("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ZS.apply(this,arguments)}function eE(e,t,n){var r=mb(e),i=Lb.min(),a=Ux();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=mb(e),i=r.qi.get(n);return void 0!==i?ek.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Mw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Lb.min(),n?a:Ux())})).next((function(e){return rE(r,zw(t),e),{documents:e,Hi:a}}))}))}function tE(e,t){var n=mb(e),r=mb(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function nE(e,t){var n=mb(e),r=n.Ki.get(t)||Lb.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Gb(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return rE(n,t,e),e}))}function rE(e,t,n){var r=e.Ki.get(t)||Lb.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function iE(e,t,n,r){return aE.apply(this,arguments)}function aE(){return aE=Vt(Ft().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=mb(t),o=Ux(),u=Ax(),s=Fa(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(d=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,XS(a,function(e){return Mw(Aw(jb.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return YS(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){return uE.apply(this,arguments)}function uE(){return uE=Vt(Ft().mark((function e(t,n){var r,i,a,o=arguments;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ux(),e.next=3,XS(t,Mw(gI(n.bundledQuery)));case 3:return i=e.sent,a=mb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=r_(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(_k.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function sE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function cE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function lE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var fE=function(){function e(t,n,r,i){c(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return f(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new bb(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(db("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),dE=function(){function e(t,n,r){c(this,e),this.targetId=t,this.state=n,this.error=r}return f(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new bb(i.error.code,i.error.message))),a?new e(t,i.state,r):(db("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),hE=function(){function e(t,n){c(this,e),this.clientId=t,this.activeTargetIds=n}return f(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Bx(),o=0;i&&o<r.activeTargetIds.length;++o)i=Lk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(db("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),pE=function(){function e(t,n){c(this,e),this.clientId=t,this.onlineState=n}return f(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(db("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),vE=function(){function e(){c(this,e),this.activeTargetIds=Bx()}return f(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),gE=function(){function e(t,n,r,i,a){c(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new gk(Db),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=sE(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new vE),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return f(e,[{key:"start",value:function(){var e=Vt(Ft().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Fa(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(sE(this.persistenceKey,i)))&&(o=hE.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Fa(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(h){c.e(h)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(lE(this.persistenceKey,e));if(n){var r=dE.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(lE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return fb("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){fb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){fb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(fb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void db("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Vt(Ft().mark((function e(){var r,i,a,o,u,s,c;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=dk.at;if(null!=e)try{var n=JSON.parse(e);gb("number"==typeof n),t=n}catch(e){db("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==dk.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new fE(this.currentUser,e,t,n),i=cE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=cE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=lE(this.persistenceKey,e),i=new dE(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return hE.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return fE.Zi(new ub(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return dE.Zi(r,t)}},{key:"yr",value:function(e){return pE.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:fb("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Bx();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),mE=function(){function e(){c(this,e),this.Lr=new vE,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return f(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new vE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),yE=function(){function e(){c(this,e)}return f(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),bE=function(){function e(){var t=this;c(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return f(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){fb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Fa(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){fb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Fa(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),kE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},wE=function(){function e(t){c(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return f(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),xE=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return f(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ab;o.setWithCredentials(!0),o.listenOnce(eb.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Zy.NO_ERROR:var t=o.getResponseJson();fb("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Zy.TIMEOUT:fb("Connection",'RPC "'+e+'" timed out'),a(new bb(yb.DEADLINE_EXCEEDED,"Request time out"));break;case Zy.HTTP_ERROR:var n=o.getStatus();if(fb("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(yb).indexOf(t)>=0?t:yb.UNKNOWN}(r.status);a(new bb(u,r.message))}else a(new bb(yb.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new bb(yb.UNAVAILABLE,"Connection failed."));break;default:vb()}}finally{fb("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Xy(),a=Jy(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new rb({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");fb("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new wE({Hr:function(e){l?fb("Connection","Not sending because WebChannel is closed:",e):(c||(fb("Connection","Opening WebChannel transport."),s.open(),c=!0),fb("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,ib.EventType.OPEN,(function(){l||fb("Connection","WebChannel transport opened.")})),d(s,ib.EventType.CLOSE,(function(){l||(l=!0,fb("Connection","WebChannel transport closed"),f.io())})),d(s,ib.EventType.ERROR,(function(e){l||(l=!0,hb("Connection","WebChannel transport errored:",e),f.io(new bb(yb.UNAVAILABLE,"The operation could not be completed")))})),d(s,ib.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];gb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){fb("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=wx[e];if(void 0!==t)return Tx(t)}(a),u=i.message;void 0===o&&(o=yb.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new bb(o,u)),s.close()}else fb("Connection","WebChannel received:",n),f.ro(n)}})),d(a,tb.STAT_EVENT,(function(e){e.stat===nb.PROXY?fb("Connection","Detected buffering proxy"):e.stat===nb.NOPROXY&&fb("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){c(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return f(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);fb("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return fb("RestConnection","Received: ",e),e}),(function(t){throw hb("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=kE[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function _E(){return"undefined"!=typeof window?window:null}function IE(){return"undefined"!=typeof document?document:null}function SE(e){return new Zx(e,!0)}var EE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;c(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return f(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&fb("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),TE=function(){function e(t,n,r,i,a,o,u,s){c(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new EE(t,n)}return f(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Oo()}},{key:"Oo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Oo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===yb.RESOURCE_EXHAUSTED?(db(n.toString()),db("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===yb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=x(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new bb(yb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.xo=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.Oo()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.No.Ro(Vt(Ft().mark((function t(){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return fb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.Do===e?n():(fb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),CE=function(e){h(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return c(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return f(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(gb(void 0===t||"string"==typeof t),_k.fromBase64String(t||"")):(gb(void 0===t||t instanceof Uint8Array),_k.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?yb.UNKNOWN:Tx(e.code);return new bb(t,e.message||"")}(o);n=new Gx(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=u_(e,s.document.name),l=r_(s.document.updateTime),f=new rw({mapValue:{fields:s.document.fields}}),d=aw.newFoundDocument(c,l,f),h=s.targetIds||[],p=s.removedTargetIds||[];n=new Kx(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var g=u_(e,v.document),m=v.readTime?r_(v.readTime):Lb.min(),y=aw.newNoDocument(g,m),b=v.removedTargetIds||[];n=new Kx([],b,y.key,y)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=u_(e,k.document),x=k.removedTargetIds||[];n=new Kx([],x,w,null)}else{if(!("filter"in t))return vb();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new Sx(I),E=_.targetId;n=new Hx(E,S)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Lb.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lb.min():t.readTime?r_(t.readTime):Lb.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=l_(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=lw(r)?{documents:m_(e,r)}:{query:y_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=t_(e,t.resumeToken):t.snapshotVersion.compareTo(Lb.min())>0&&(n.readTime=e_(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vb()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=l_(this.It),t.removeTarget=e,this.Lo(t)}}]),n}(TE),NE=function(e){h(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return c(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Yo=!1,s}return f(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,zu(p(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(gb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(gb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?r_(e.updateTime):r_(t);return n.isEqual(Lb.min())&&(n=r_(t)),new ux(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=r_(e.commitTime);return this.listener.tu(n,t)}return gb(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=l_(this.It),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return v_(t.It,e)}))};this.Lo(n)}}]),n}(TE),AE=function(e){h(n,e);var t=b(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.It=a,o.su=!1,o}return f(n,[{key:"iu",value:function(){if(this.su)throw new bb(yb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=x(i,2),o=a[0],u=a[1];return r.So.ao(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yb.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new bb(yb.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=x(a,2),u=o[0],s=o[1];return i.So._o(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yb.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new bb(yb.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return f((function e(){c(this,e)}))}());var DE=function(){function e(t,n){c(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return f(e,[{key:"cu",value:function(){var e=this;0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.au("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.au("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}},{key:"au",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(db(t),this.uu=!1):fb("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),OE=f((function e(t,n,r,i,a){var o=this;c(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.qr((function(e){r.enqueueAndForget(Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=qE(o),!e.t0){e.next=5;break}return fb("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=mb(t)).wu.add(4),e.next=4,LE(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,RE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new DE(r,i)}));function RE(e){return PE.apply(this,arguments)}function PE(){return PE=Vt(Ft().mark((function e(t){var n,r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qE(t)){e.next=18;break}n=Fa(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),PE.apply(this,arguments)}function LE(e){return ME.apply(this,arguments)}function ME(){return ME=Vt(Ft().mark((function e(t){var n,r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fa(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ME.apply(this,arguments)}function jE(e,t){var n=mb(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),zE(n)?BE(n):yT(n).Oo()&&UE(n,t))}function FE(e,t){var n=mb(e),r=yT(n);n._u.delete(t),r.Oo()&&VE(n,t),0===n._u.size&&(r.Oo()?r.$o():qE(n)&&n.yu.set("Unknown"))}function UE(e,t){e.pu.Mt(t.targetId),yT(e).Ho(t)}function VE(e,t){e.pu.Mt(t),yT(e).Jo(t)}function BE(e){e.pu=new Qx({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e._u.get(t)||null}}),yT(e).start(),e.yu.cu()}function zE(e){return qE(e)&&!yT(e).ko()&&e._u.size>0}function qE(e){return 0===mb(e).wu.size}function KE(e){e.pu=void 0}function HE(e){return GE.apply(this,arguments)}function GE(){return GE=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){UE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function WE(e,t){return QE.apply(this,arguments)}function QE(){return QE=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:KE(t),zE(t)?(t.yu.lu(n),BE(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function YE(e,t,n){return $E.apply(this,arguments)}function $E(){return $E=Vt(Ft().mark((function e(t,n,r){var i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof Gx&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Vt(Ft().mark((function e(t,n){var r,i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Fa(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),fb("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,XE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Kx?t.pu.Gt(n):n instanceof Hx?t.pu.Yt(n):t.pu.Wt(n),r.isEqual(Lb.min())){e.next=29;break}return e.prev=14,e.next=17,WS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(_k.EMPTY_BYTE_STRING,n.snapshotVersion)),VE(e,t);var r=new uI(n.target,t,1,n.sequenceNumber);UE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),fb("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,XE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),$E.apply(this,arguments)}function XE(e,t,n){return JE.apply(this,arguments)}function JE(){return JE=Vt(Ft().mark((function e(t,n,r){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ak(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,LE(t);case 5:t.yu.set("Offline"),r||(r=function(){return WS(t.localStore)}),t.asyncQueue.enqueueRetryable(Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fb("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,RE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function ZE(e,t){return t().catch((function(n){return XE(e,n,t)}))}function eT(e){return tT.apply(this,arguments)}function tT(){return tT=Vt(Ft().mark((function e(t){var n,r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=mb(t),r=bT(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!nT(n)){e.next=19;break}return e.prev=3,e.next=6,$S(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,rT(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,XE(n,e.t0);case 17:e.next=2;break;case 19:iT(n)&&aT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),tT.apply(this,arguments)}function nT(e){return qE(e)&&e.du.length<10}function rT(e,t){e.du.push(t);var n=bT(e);n.Oo()&&n.Xo&&n.Zo(t.mutations)}function iT(e){return qE(e)&&!bT(e).ko()&&e.du.length>0}function aT(e){bT(e).start()}function oT(e){return uT.apply(this,arguments)}function uT(){return uT=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bT(t).nu();case 1:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function sT(e){return cT.apply(this,arguments)}function cT(){return cT=Vt(Ft().mark((function e(t){var n,r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bT(t),r=Fa(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),cT.apply(this,arguments)}function lT(e,t,n){return fT.apply(this,arguments)}function fT(){return fT=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=aI.from(i,n,r),e.next=3,ZE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,eT(t);case 5:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function dT(e,t){return hT.apply(this,arguments)}function hT(){return hT=Vt(Ft().mark((function e(t,n){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&bT(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Vt(Ft().mark((function e(t,n){var r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ex(i=n.code)||i===yb.ABORTED){e.next=7;break}return r=t.du.shift(),bT(t).Fo(),e.next=5,ZE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,eT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:iT(t)&&aT(t);case 5:case"end":return e.stop()}}),e)}))),hT.apply(this,arguments)}function pT(e,t){return vT.apply(this,arguments)}function vT(){return vT=Vt(Ft().mark((function e(t,n){var r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=mb(t)).asyncQueue.verifyOperationInProgress(),fb("RemoteStore","RemoteStore received new credentials"),i=qE(r),r.wu.add(3),e.next=6,LE(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,RE(r);case 12:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function gT(e,t){return mT.apply(this,arguments)}function mT(){return mT=Vt(Ft().mark((function e(t,n){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mb(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,RE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,LE(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),mT.apply(this,arguments)}function yT(e){return e.Iu||(e.Iu=function(e,t,n){var r=mb(e);return r.iu(),new CE(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:HE.bind(null,e),Zr:WE.bind(null,e),zo:YE.bind(null,e)}),e.mu.push(function(){var t=Vt(Ft().mark((function t(n){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),zE(e)?BE(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:KE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function bT(e){return e.Tu||(e.Tu=function(e,t,n){var r=mb(e);return r.iu(),new NE(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:oT.bind(null,e),Zr:dT.bind(null,e),eu:sT.bind(null,e),tu:lT.bind(null,e)}),e.mu.push(function(){var t=Vt(Ft().mark((function t(n){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,eT(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(fb("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var kT=function(){function e(t,n,r,i,a){c(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new kb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return f(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new bb(yb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function wT(e,t){if(db("AsyncQueue","".concat(t,": ").concat(e)),ak(e))return new bb(yb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var xT=function(){function e(t){c(this,e),this.comparator=t?function(e,n){return t(e,n)||Vb.comparator(e.key,n.key)}:function(e,t){return Vb.comparator(e.key,t.key)},this.keyedMap=Ox(),this.sortedSet=new gk(this.comparator)}return f(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_T=function(){function e(){c(this,e),this.Eu=new gk(Vb.comparator)}return f(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):vb():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),IT=function(){function e(t,n,r,i,a,o,u,s,l){c(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=l}return f(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,xT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),ST=f((function e(){c(this,e),this.Ru=void 0,this.listeners=[]})),ET=f((function e(){c(this,e),this.queries=new Cx((function(e){return Uw(e)}),Fw),this.onlineState="Unknown",this.bu=new Set}));function TT(e,t){return CT.apply(this,arguments)}function CT(){return CT=Vt(Ft().mark((function e(t,n){var r,i,a,o,u;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mb(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ST),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=wT(e.t0,"Initialization of query '".concat(Vw(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.vu(o.Ru)&&RT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),CT.apply(this,arguments)}function NT(e,t){return AT.apply(this,arguments)}function AT(){return AT=Vt(Ft().mark((function e(t,n){var r,i,a,o,u;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mb(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function DT(e,t){var n,r=mb(e),i=!1,a=Fa(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Fa(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&RT(r)}function OT(e,t,n){var r=mb(e),i=r.queries.get(t);if(i){var a,o=Fa(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function RT(e){e.bu.forEach((function(e){e.next()}))}var PT=function(){function e(t,n,r){c(this,e),this.query=t,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return f(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Fa(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new IT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.Vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=IT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}]),e}(),LT=function(){function e(t,n){c(this,e),this.payload=t,this.byteLength=n}return f(e,[{key:"Ou",value:function(){return"metadata"in this.payload}}]),e}(),MT=function(){function e(t){c(this,e),this.It=t}return f(e,[{key:"Ji",value:function(e){return u_(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?h_(this.It,e.document,!1):aw.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return r_(e)}}]),e}(),jT=function(){function e(t,n,r){c(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=FT(t)}return f(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=jb.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new MT(this.It),i=Fa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Fa(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Ux()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Vt(Ft().mark((function e(){var t,n,r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iE(this.localStore,new MT(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=Fa(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,oE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function FT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var UT=f((function e(t){c(this,e),this.key=t})),VT=f((function e(t){c(this,e),this.key=t})),BT=function(){function e(t,n){c(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ux(),this.mutatedKeys=Ux(),this.Gu=qw(t),this.Qu=new xT(this.Gu)}return f(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new _T,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Bw(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vb()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new IT(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new _T,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Ux(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new VT(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new UT(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=Ux();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return IT.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),zT=f((function e(t,n,r){c(this,e),this.query=t,this.targetId=n,this.view=r})),qT=f((function e(t){c(this,e),this.key=t,this.nc=!1})),KT=function(){function e(t,n,r,i,a,o){c(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Cx((function(e){return Uw(e)}),Fw),this.rc=new Map,this.oc=new Set,this.uc=new gk(Vb.comparator),this.cc=new Map,this.ac=new IS,this.hc={},this.lc=new Map,this.fc=eS.vn(),this.onlineState="Unknown",this.dc=void 0}return f(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function HT(e,t){return GT.apply(this,arguments)}function GT(){return GT=Vt(Ft().mark((function e(t,n){var r,i,a,o,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=FC(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,XS(r.localStore,Mw(n));case 8:return u=e.sent,r.isPrimaryClient&&jE(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,WT(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}function WT(e,t,n,r,i){return QT.apply(this,arguments)}function QT(){return QT=Vt(Ft().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Vt(Ft().mark((function e(t,n,r,i){var a,o,u;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,eE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(pC(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,eE(t.localStore,n,!0);case 3:return o=e.sent,u=new BT(n,o.Hi),s=u.Wu(o.documents),c=qx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),pC(t,r,l.Xu),f=new zT(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}function YT(e,t){return $T.apply(this,arguments)}function $T(){return $T=Vt(Ft().mark((function e(t,n){var r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mb(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Fw(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,JS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),FE(r.remoteStore,i.targetId),dC(r,i.targetId)})).catch(Jb);case 9:e.next=14;break;case 11:return dC(r,i.targetId),e.next=14,JS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),$T.apply(this,arguments)}function XT(e,t,n){return JT.apply(this,arguments)}function JT(){return JT=Vt(Ft().mark((function e(t,n,r){var i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UC(t),e.prev=1,e.next=4,function(e,t){var n,r,i=mb(e),a=Pb.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ux());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Ax(),s=Ux();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Fa(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=px(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new mx(c.key,l,iw(l.value.mapValue),sx.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Rx(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new gk(Db)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,mC(i,a.changes);case 9:return e.next=11,eT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=wT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),JT.apply(this,arguments)}function ZT(e,t){return eC.apply(this,arguments)}function eC(){return eC=Vt(Ft().mark((function e(t,n){var r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),e.prev=1,e.next=4,QS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(gb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?gb(n.nc):e.removedDocuments.size>0&&(gb(n.nc),n.nc=!1))})),e.next=8,mC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Jb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),eC.apply(this,arguments)}function tC(e,t,n){var r=mb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=mb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Fa(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&RT(n)}(r.eventManager,t),i.length&&r.sc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function nC(e,t,n){return rC.apply(this,arguments)}function rC(){return rC=Vt(Ft().mark((function e(t,n,r){var i,a,o,u,s,c;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=mb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new gk(Vb.comparator)).insert(o,aw.newNoDocument(o,Lb.min())),s=Ux().add(o),c=new zx(Lb.min(),new Map,new bk(Db),u,s),e.next=9,ZT(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),gC(i),e.next=16;break;case 14:return e.next=16,JS(i.localStore,n,!1).then((function(){return dC(i,n,r)})).catch(Jb);case 16:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e,t){return aC.apply(this,arguments)}function aC(){return aC=Vt(Ft().mark((function e(t,n){var r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),i=n.batch.batchId,e.prev=1,e.next=4,GS(r.localStore,n);case 4:return a=e.sent,fC(r,i,null),lC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,mC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),aC.apply(this,arguments)}function oC(e,t,n){return uC.apply(this,arguments)}function uC(){return uC=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mb(t),e.prev=1,e.next=4,function(e,t){var n=mb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return gb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,fC(i,n,r),lC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,mC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Jb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),uC.apply(this,arguments)}function sC(e,t){return cC.apply(this,arguments)}function cC(){return cC=Vt(Ft().mark((function e(t,n){var r,i,a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qE((r=mb(t)).remoteStore)||fb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=mb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=wT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),cC.apply(this,arguments)}function lC(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function fC(e,t,n){var r=mb(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function dC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Fa(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||hC(e,t)}))}function hC(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(FE(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),gC(e))}function pC(e,t,n){var r,i=Fa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof UT?(e.ac.addReference(a.key,t),vC(e,a)):a instanceof VT?(fb("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||hC(e,a.key)):vb()}}catch(o){i.e(o)}finally{i.f()}}function vC(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(fb("SyncEngine","New document in limbo: "+n),e.oc.add(r),gC(e))}function gC(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new Vb(jb.fromString(t)),r=e.fc.next();e.cc.set(r,new qT(n)),e.uc=e.uc.insert(n,r),jE(e.remoteStore,new uI(Mw(Aw(n.path)),r,2,dk.at))}}function mC(e,t,n){return yC.apply(this,arguments)}function yC(){return yC=Vt(Ft().mark((function e(t,n,r){var i,a,o,u;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mb(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=VS.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.zo(a),e.next=9,function(){var e=Vt(Ft().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ek.forEach(n,(function(t){return ek.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ek.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ak(e.t0)){e.next=10;break}throw e.t0;case 10:fb("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Fa(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),yC.apply(this,arguments)}function bC(e,t){return kC.apply(this,arguments)}function kC(){return kC=Vt(Ft().mark((function e(t,n){var r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=mb(t)).currentUser.isEqual(n)){e.next=11;break}return fb("SyncEngine","User change. New user:",n.toKey()),e.next=5,KS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new bb(yb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,mC(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function wC(e,t){var n=mb(e),r=n.cc.get(t);if(r&&r.nc)return Ux().add(r.key);var i=Ux(),a=n.rc.get(t);if(!a)return i;var o,u=Fa(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function xC(e,t){return _C.apply(this,arguments)}function _C(){return _C=Vt(Ft().mark((function e(t,n){var r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),e.next=3,eE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&pC(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function IC(e,t){return SC.apply(this,arguments)}function SC(){return SC=Vt(Ft().mark((function e(t,n){var r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),e.abrupt("return",nE(r.localStore,n).then((function(e){return mC(r,e)})));case 2:case"end":return e.stop()}}),e)}))),SC.apply(this,arguments)}function EC(e,t,n,r){return TC.apply(this,arguments)}function TC(){return TC=Vt(Ft().mark((function e(t,n,r,i){var a,o;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=mb(t),e.next=3,function(e,t){var n=mb(e),r=mb(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ek.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,eT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(fC(a,n,i||null),lC(a,n),function(e,t){mb(mb(e).mutationQueue).An(t)}(a.localStore,n)):vb();case 11:return e.next=13,mC(a,o);case 13:e.next=16;break;case 15:fb("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function CC(e,t){return NC.apply(this,arguments)}function NC(){return NC=Vt(Ft().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(FC(r=mb(t)),UC(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,AC(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,gT(r.remoteStore,!0);case 9:o=Fa(a);try{for(o.s();!(u=o.n()).done;)s=u.value,jE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return dC(r,t),JS(r.localStore,t,!0)})),FE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,AC(r,c);case 21:return function(e){var t=mb(e);t.cc.forEach((function(e,n){FE(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new gk(Vb.comparator)}(r),r.dc=!1,e.next=25,gT(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}function AC(e,t,n){return DC.apply(this,arguments)}function DC(){return DC=Vt(Ft().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,g,m;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=mb(t),a=[],o=[],u=Fa(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,XS(i.localStore,Mw(f[0]));case 11:l=e.sent,d=Fa(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.ic.get(p),e.next=20,xC(i,v);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,tE(i.localStore,c);case 36:return m=e.sent,e.next=39,XS(i.localStore,m);case 39:return l=e.sent,e.next=42,WT(i,OC(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),DC.apply(this,arguments)}function OC(e){return Nw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function RC(e){var t=mb(e);return mb(mb(t.localStore).persistence).vi()}function PC(e,t,n,r){return LC.apply(this,arguments)}function LC(){return LC=Vt(Ft().mark((function e(t,n,r,i){var a,o,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=mb(t)).dc){e.next=3;break}return e.abrupt("return",void fb("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,nE(a.localStore,zw(o[0]));case 10:return u=e.sent,s=zx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,_k.EMPTY_BYTE_STRING),e.next=14,mC(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,JS(a.localStore,n,!0);case 17:return dC(a,n,i),e.abrupt("break",20);case 19:vb();case 20:case"end":return e.stop()}}),e)}))),LC.apply(this,arguments)}function MC(e,t,n){return jC.apply(this,arguments)}function jC(){return jC=Vt(Ft().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=FC(t)).dc){e.next=45;break}a=Fa(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return fb("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,tE(i.localStore,u);case 12:return s=e.sent,e.next=15,XS(i.localStore,s);case 15:return c=e.sent,e.next=18,WT(i,OC(s),c.targetId,!1,c.resumeToken);case 18:jE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Fa(r),e.prev=30,d=Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,JS(i.localStore,t,!1).then((function(){FE(i.remoteStore,t),dC(i,t)})).catch(Jb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),jC.apply(this,arguments)}function FC(e){var t=mb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nC.bind(null,t),t.sc.zo=DT.bind(null,t.eventManager),t.sc.wc=OT.bind(null,t.eventManager),t}function UC(e){var t=mb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oC.bind(null,t),t}function VC(e,t,n){var r=mb(e);(function(){var e=Vt(Ft().mark((function e(t,n,r){var i,a,o,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=mb(e),r=r_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(FT(i)),a=new jT(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,mC(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=mb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(hb("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var BC=function(){function e(){c(this,e),this.synchronizeTabs=!1}return f(e,[{key:"initialize",value:function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=SE(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return qS(this.persistence,new BS,e.initialUser,this.It)}},{key:"yc",value:function(e){return new AS(OS.Bs,this.It)}},{key:"gc",value:function(e){return new mE}},{key:"terminate",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zC=function(e){h(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return f(n,[{key:"initialize",value:function(){var e=Vt(Ft().mark((function e(t){var r=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(p(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,UC(this.Ac.syncEngine);case 6:return e.next=8,eT(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return qS(this.persistence,new BS,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new uS(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new fk(t,this.persistence);return new lk(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=US(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?GI.withCacheSize(this.cacheSizeBytes):GI.DEFAULT;return new MS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,_E(),IE(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new mE}}]),n}(BC),qC=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return f(n,[{key:"initialize",value:function(){var e=Vt(Ft().mark((function e(t){var r,i=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(p(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof gE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:EC.bind(null,r),$r:PC.bind(null,r),Br:MC.bind(null,r),vi:RC.bind(null,r),Mr:IC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CC(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=_E();if(!gE.C(t))throw new bb(yb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=US(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(zC),KC=function(){function e(){c(this,e)}return f(e,[{key:"initialize",value:function(){var e=Vt(Ft().mark((function e(t,n){var r=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return tC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bC.bind(null,this.syncEngine),e.next=12,gT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ET}},{key:"createDatastore",value:function(e){var t,n=SE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xE(t));return function(e,t,n,r){return new AE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return tC(o.syncEngine,e,0)},a=bE.C()?new bE:new yE,new OE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new KT(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mb(t),fb("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,LE(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function HC(e,t,n){if(!n)throw new bb(yb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function GC(e,t,n,r){if(!0===t&&!0===r)throw new bb(yb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function WC(e){if(!Vb.isDocumentKey(e))throw new bb(yb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function QC(e){if(Vb.isDocumentKey(e))throw new bb(yb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function YC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":vb()}function $C(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new bb(yb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=YC(e);throw new bb(yb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function XC(e,t){if(t<=0)throw new bb(yb.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var JC=new Map,ZC=function(){function e(t){var n;if(c(this,e),void 0===t.host){if(void 0!==t.ssl)throw new bb(yb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new bb(yb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,GC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return f(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),eN=function(){function e(t,n,r,i){c(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZC({}),this._settingsFrozen=!1}return f(e,[{key:"app",get:function(){if(!this._app)throw new bb(yb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new bb(yb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xb;switch(e.type){case"gapi":var t=e.client;return new Eb(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new bb(yb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=JC.get(e);t&&(fb("ComponentProvider","Removing Datastore"),JC.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function tN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=$C(e,eN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&hb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=ub.MOCK_USER;else{o=eo(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new bb(yb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ub(s)}e._authCredentials=new _b(new wb(o,u))}}var nN=function(){function e(t,n,r){c(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return f(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new iN(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),rN=function(){function e(t,n,r){c(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return f(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),iN=function(e){h(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,Aw(i)))._path=i,a.type="collection",a}return f(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new nN(this.firestore,null,new Vb(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(rN);function aN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vo(e),HC("collection","path",t),e instanceof eN){var a=jb.fromString.apply(jb,[t].concat(r));return QC(a),new iN(e,null,a)}if(!(e instanceof nN||e instanceof iN))throw new bb(yb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jb.fromString.apply(jb,[t].concat(r)));return QC(o),new iN(e.firestore,null,o)}function oN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vo(e),1===arguments.length&&(t=Ab.R()),HC("doc","path",t),e instanceof eN){var a=jb.fromString.apply(jb,[t].concat(r));return WC(a),new nN(e,null,new Vb(a))}if(!(e instanceof nN||e instanceof iN))throw new bb(yb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jb.fromString.apply(jb,[t].concat(r)));return WC(o),new nN(e.firestore,e instanceof iN?e.converter:null,new Vb(o))}function uN(e,t){return e=vo(e),t=vo(t),(e instanceof nN||e instanceof iN)&&(t instanceof nN||t instanceof iN)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sN(e,t){return e=vo(e),t=vo(t),e instanceof rN&&t instanceof rN&&e.firestore===t.firestore&&Fw(e._query,t._query)&&e.converter===t.converter}function cN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Vt(Ft().mark((function r(){var i;return Ft().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var lN=function(){function e(t){c(this,e),this.observer=t,this.muted=!1}return f(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):db("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),fN=function(){function e(t,n){var r=this;c(this,e),this.Pc=t,this.It=n,this.metadata=new kb,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return f(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Vt(Ft().mark((function e(){var t,n,r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new LT(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Vt(Ft().mark((function e(){var t,n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Vt(Ft().mark((function e(){var t,n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dN=function(){function e(t){c(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return f(e,[{key:"lookup",value:function(){var e=Vt(Ft().mark((function e(t){var n,r=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new bb(yb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Vt(Ft().mark((function e(t,n){var r,i,a,o,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),i=l_(r.It)+"/documents",a={documents:n.map((function(e){return o_(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=p_(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());gb(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new _x(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Vt(Ft().mark((function e(){var t,n=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Vb.fromPath(t);n.mutations.push(new Ix(r,n.precondition(r)))})),e.next=7,function(){var e=Vt(Ft().mark((function e(t,n){var r,i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mb(t),i=l_(r.It)+"/documents",a={writes:n.map((function(e){return v_(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vb();t=Lb.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new bb(yb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Lb.min())?sx.exists(!1):sx.updateTime(t):sx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lb.min()))throw new bb(yb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sx.updateTime(t)}return sx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),hN=function(){function e(t,n,r,i,a){c(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.No=new EE(this.asyncQueue,"transaction_retry")}return f(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.No.Ro(Vt(Ft().mark((function t(){var n,r;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new dN(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!Rk(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ex(t)}return!1}}]),e}(),pN=function(){function e(t,n,r,i){var a=this;c(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ub.UNAUTHENTICATED,this.clientId=Ab.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fb("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return fb("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return f(e,[{key:"getConfiguration",value:function(){var e=Vt(Ft().mark((function e(){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new bb(yb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new kb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Vt(Ft().mark((function n(){var r;return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=wT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function vN(e,t){return gN.apply(this,arguments)}function gN(){return gN=Vt(Ft().mark((function e(t,n){var r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),fb("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,KS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),gN.apply(this,arguments)}function mN(e,t){return yN.apply(this,arguments)}function yN(){return yN=Vt(Ft().mark((function e(t,n){var r,i;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,bN(t);case 3:return r=e.sent,fb("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return pT(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return pT(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),yN.apply(this,arguments)}function bN(e){return kN.apply(this,arguments)}function kN(){return kN=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return fb("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,vN(t,new BC);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),kN.apply(this,arguments)}function wN(e){return xN.apply(this,arguments)}function xN(){return xN=Vt(Ft().mark((function e(t){return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return fb("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,mN(t,new KC);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),xN.apply(this,arguments)}function _N(e){return bN(e).then((function(e){return e.persistence}))}function IN(e){return bN(e).then((function(e){return e.localStore}))}function SN(e){return wN(e).then((function(e){return e.remoteStore}))}function EN(e){return wN(e).then((function(e){return e.syncEngine}))}function TN(e){return wN(e).then((function(e){return e.datastore}))}function CN(e){return NN.apply(this,arguments)}function NN(){return NN=Vt(Ft().mark((function e(t){var n,r;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=HT.bind(null,n.syncEngine),r.onUnlisten=YT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),NN.apply(this,arguments)}function AN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kb;return e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function i(){return Ft().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new lN({next:function(a){t.enqueueAndForget((function(){return NT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new bb(yb.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new bb(yb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new PT(Aw(n.path),a,{includeMetadataChanges:!0,ku:!0});return TT(e,o)},i.next=3,CN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function DN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kb;return e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function i(){return Ft().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new lN({next:function(n){t.enqueueAndForget((function(){return NT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new bb(yb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new PT(n,a,{includeMetadataChanges:!0,ku:!0});return TT(e,o)},i.next=3,CN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ON=function(){function e(){var t=this;c(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new EE(this,"async_queue_retry"),this.Wc=function(){var e=IE();e&&fb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=IE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return f(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=IE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new kb;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Vt(Ft().mark((function e(){var t=this;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ak(e.t0)){e.next=12;break}throw e.t0;case 12:fb("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.No.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw db("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=kT.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&vb()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Vt(Ft().mark((function e(){var t;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=Fa(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Fa(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function RN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Fa(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var PN=function(){function e(){c(this,e),this._progressObserver={},this._taskCompletionResolver=new kb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return f(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),LN=function(e){h(n,e);var t=b(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new ON,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return f(n,[{key:"_terminate",value:function(){return this._firestoreClient||jN(this),this._firestoreClient.terminate()}}]),n}(eN);function MN(e){return e._firestoreClient||jN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jN(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Dk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new pN(e._authCredentials,e._appCheckCredentials,e._queue,r)}function FN(e,t,n){var r=new kb;return e.asyncQueue.enqueue(Vt(Ft().mark((function i(){var a;return Ft().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,vN(e,n);case 3:return i.next=5,mN(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===yb.FAILED_PRECONDITION||e.code===yb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:hb("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function UN(e){return function(e){return e.asyncQueue.enqueue(Vt(Ft().mark((function t(){var n,r;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_N(e);case 2:return n=t.sent,t.next=5,SN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=mb(e);return t.wu.delete(0),RE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(MN(e=$C(e,LN)))}function VN(e){return function(e){return e.asyncQueue.enqueue(Vt(Ft().mark((function t(){var n,r;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_N(e);case 2:return n=t.sent,t.next=5,SN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=mb(t)).wu.add(0),e.next=4,LE(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(MN(e=$C(e,LN)))}function BN(e,t){var n=MN(e=$C(e,LN)),r=new PN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new fN(e,t)}(function(e,t){if(e instanceof Uint8Array)return cN(e,t);if(e instanceof ArrayBuffer)return cN(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,SE(t));e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function t(){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=VC,t.next=3,EN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function zN(e,t){return function(e,t){return e.asyncQueue.enqueue(Vt(Ft().mark((function n(){return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=mb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,IN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(MN(e=$C(e,LN)),t).then((function(t){return t?new rN(e,null,t.query):null}))}function qN(e){if(e._initialized||e._terminated)throw new bb(yb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var KN=function(){function e(t){c(this,e),this._byteString=t}return f(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(_k.fromBase64String(t))}catch(t){throw new bb(yb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(_k.fromUint8Array(t))}}]),e}(),HN=function(){function e(){c(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new bb(yb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ub(n)}return f(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var GN=f((function e(t){c(this,e),this._methodName=t})),WN=function(){function e(t,n){if(c(this,e),!isFinite(t)||t<-90||t>90)throw new bb(yb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new bb(yb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return f(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Db(this._lat,e._lat)||Db(this._long,e._long)}}]),e}(),QN=/^__.*__$/,YN=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return f(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new mx(e,this.data,this.fieldMask,t,this.fieldTransforms):new gx(e,this.data,t,this.fieldTransforms)}}]),e}(),$N=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return f(e,[{key:"toMutation",value:function(e,t){return new mx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function XN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vb()}}var JN=function(){function e(t,n,r,i,a,o){c(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return f(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return yA(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(XN(this.sa)&&QN.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),ZN=function(){function e(t,n,r){c(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||SE(t)}return f(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new JN({sa:e,methodName:t,fa:n,path:Ub.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function eA(e){var t=e._freezeSettings(),n=SE(e._databaseId);return new ZN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tA(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);pA("Data must be an object, but it was:",o,r);var u,s,c=dA(r,o);if(a.merge)u=new xk(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=Fa(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=vA(t,h,n);if(!o.contains(p))throw new bb(yb.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));bA(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new xk(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new YN(new rw(c),u,s)}var nA=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return f(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(GN);function rA(e,t,n){return new JN({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var iA=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return f(n,[{key:"_toFieldTransform",value:function(e){return new ox(e.path,new Jw)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(GN),aA=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._a=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=rA(this,e,!0),n=this._a.map((function(e){return fA(e,t)})),r=new Zw(n);return new ox(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GN),oA=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e))._a=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=rA(this,e,!0),n=this._a.map((function(e){return fA(e,t)})),r=new tx(n);return new ox(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GN),uA=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e)).wa=r,i}return f(n,[{key:"_toFieldTransform",value:function(e){var t=new rx(e.It,Ww(e.It,this.wa));return new ox(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GN);function sA(e,t,n,r){var i=e.da(1,t,n);pA("Data must be an object, but it was:",i,r);var a=[],o=rw.empty();pk(r,(function(e,r){var u=mA(t,e,n);r=vo(r);var s=i.ca(u);if(r instanceof nA)a.push(u);else{var c=fA(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new xk(a);return new $N(o,u,i.fieldTransforms)}function cA(e,t,n,r,i,a){var o=e.da(1,t,n),u=[vA(t,r,n)],s=[i];if(a.length%2!=0)throw new bb(yb.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(vA(t,a[c])),s.push(a[c+1]);for(var l=[],f=rw.empty(),d=u.length-1;d>=0;--d)if(!bA(l,u[d])){var h=u[d],p=s[d];p=vo(p);var v=o.ca(h);if(p instanceof nA)l.push(h);else{var g=fA(p,v);null!=g&&(l.push(h),f.set(h,g))}}var m=new xk(l);return new $N(f,m,o.fieldTransforms)}function lA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return fA(n,e.da(r?4:3,t))}function fA(e,t){if(hA(e=vo(e)))return pA("Unsupported field value:",t,e),dA(e,t);if(e instanceof GN)return function(e,t){if(!XN(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Fa(e);try{for(a.s();!(n=a.n()).done;){var o=fA(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=vo(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ww(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Pb.fromDate(e);return{timestampValue:e_(t.It,n)}}if(e instanceof Pb){var r=new Pb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:e_(t.It,r)}}if(e instanceof WN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof KN)return{bytesValue:t_(t.It,e._byteString)};if(e instanceof nN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:i_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(YC(e)))}(e,t)}function dA(e,t){var n={};return vk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pk(e,(function(e,r){var i=fA(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function hA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Pb||e instanceof WN||e instanceof KN||e instanceof nN||e instanceof GN)}function pA(e,t,n){if(!hA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=YC(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function vA(e,t,n){if((t=vo(t))instanceof HN)return t._internalPath;if("string"==typeof t)return mA(e,t);throw yA("Field path arguments must be of type string or ",e,!1,void 0,n)}var gA=new RegExp("[~\\*/\\[\\]]");function mA(e,t,n){if(t.search(gA)>=0)throw yA("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return _(HN,s(t.split(".")))._internalPath}catch(Pt){throw yA("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function yA(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new bb(yb.INVALID_ARGUMENT,u+e+s)}function bA(e,t){return e.some((function(e){return e.isEqual(t)}))}var kA=function(){function e(t,n,r,i,a){c(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return f(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new nN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new wA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(xA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),wA=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){return zu(p(n.prototype),"data",this).call(this)}}]),n}(kA);function xA(e,t){return"string"==typeof t?mA(e,t):t instanceof HN?t._internalPath:t._delegate._internalPath}function _A(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new bb(yb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var IA=f((function e(){c(this,e)}));function SA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var EA=function(e){h(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return f(n,[{key:"_apply",value:function(e){var t=eA(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new bb(yb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){jA(o,a);var s,c=[],l=Fa(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(MA(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=MA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||jA(o,a),u=lA(n,"where",o,"in"===a||"not-in"===a);var d=pw.create(i,a,u);return function(e,t){if(t.dt()){var n=Rw(e);if(null!==n&&!n.isEqual(t.field))throw new bb(yb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ow(e);null!==r&&FA(e,t.field,r)}var i=function(e,t){var n,r=Fa(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new bb(yb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new bb(yb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new rN(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Cw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(IA);var TA=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return f(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new bb(yb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new bb(yb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Iw(t,n);return function(e,t){if(null===Ow(e)){var n=Rw(e);null!==n&&FA(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new rN(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Cw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(IA);var CA=function(e){h(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return f(n,[{key:"_apply",value:function(e){return new rN(e.firestore,e.converter,jw(e._query,this.Ia,this.Ta))}}]),n}(IA);var NA=function(e){h(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return f(n,[{key:"_apply",value:function(e){var t=LA(e,this.type,this.Ea,this.Aa);return new rN(e.firestore,e.converter,function(e,t){return new Cw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(IA);function AA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NA("startAt",t,!0)}function DA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NA("startAfter",t,!1)}var OA=function(e){h(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return f(n,[{key:"_apply",value:function(e){var t=LA(e,this.type,this.Ea,this.Aa);return new rN(e.firestore,e.converter,function(e,t){return new Cw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(IA);function RA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OA("endBefore",t,!1)}function PA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OA("endAt",t,!0)}function LA(e,t,n,r){if(n[0]=vo(n[0]),n[0]instanceof kA)return function(e,t,n,r,i){if(!r)throw new bb(yb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Fa(Lw(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Hk(t,r.key));else{var c=r.data.field(s.field);if(Ck(c))throw new bb(yb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new bb(yb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new _w(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=eA(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new bb(yb.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new bb(yb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Pw(e)&&-1!==c.indexOf("/"))throw new bb(yb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(jb.fromString(c));if(!Vb.isDocumentKey(l))throw new bb(yb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Vb(l);u.push(Hk(t,f))}else{var d=lA(n,r,c);u.push(d)}}return new _w(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function MA(e,t,n){if("string"==typeof(n=vo(n))){if(""===n)throw new bb(yb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pw(t)&&-1!==n.indexOf("/"))throw new bb(yb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(jb.fromString(n));if(!Vb.isDocumentKey(r))throw new bb(yb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Hk(e,new Vb(r))}if(n instanceof nN)return Hk(e,n._key);throw new bb(yb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(YC(n),"."))}function jA(e,t){if(!Array.isArray(e)||0===e.length)throw new bb(yb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new bb(yb.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function FA(e,t,n){if(!n.isEqual(t))throw new bb(yb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var UA=function(){function e(){c(this,e)}return f(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ek(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vb()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return pk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new WN(Ek(e.latitude),Ek(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Nk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ak(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Sk(e);return new Pb(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=jb.fromString(e);gb(C_(n));var r=new Ok(n.get(1),n.get(3)),i=new Vb(n.popFirst(5));return r.isEqual(t)||db("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function VA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var BA=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new KN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new nN(this.firestore,null,t)}}]),n}(UA),zA=function(){function e(t,n){c(this,e),this.hasPendingWrites=t,this.fromCache=n}return f(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),qA=function(e){h(n,e);var t=b(n);function n(e,r,i,a,o,u){var s;return c(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return f(n,[{key:"exists",value:function(){return zu(p(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new KA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(xA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(kA),KA=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zu(p(n.prototype),"data",this).call(this,e)}}]),n}(qA),HA=function(){function e(t,n,r,i){c(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new zA(i.hasPendingWrites,i.fromCache),this.query=r}return f(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new KA(n._firestore,n._userDataWriter,r.key,r,new zA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new bb(yb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new KA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new KA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:GA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function GA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vb()}}function WA(e,t){return e instanceof qA&&t instanceof qA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof HA&&t instanceof HA&&e._firestore===t._firestore&&sN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var QA=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new KN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new nN(this.firestore,null,t)}}]),n}(UA);function YA(e){e=$C(e,nN);var t=$C(e.firestore,LN),n=MN(t),r=new QA(t);return function(e,t){var n=new kb;return e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function r(){return Ft().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Vt(Ft().mark((function e(t,n,r){var i,a;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=mb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new bb(yb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=wT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,IN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new qA(t,r,e._key,n,new zA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function $A(e){e=$C(e,rN);var t=$C(e.firestore,LN),n=MN(t),r=new QA(t);return function(e,t){var n=new kb;return e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function r(){return Ft().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Vt(Ft().mark((function e(t,n,r){var i,a,o,u,s;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eE(t,n,!0);case 3:i=e.sent,a=new BT(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=wT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,IN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new HA(t,r,e,n)}))}function XA(e,t,n){e=$C(e,nN);var r=$C(e.firestore,LN),i=VA(e.converter,t,n);return tD(r,[tA(eA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sx.none())])}function JA(e,t,n){e=$C(e,nN);for(var r=$C(e.firestore,LN),i=eA(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return tD(r,[("string"==typeof(t=vo(t))||t instanceof HN?cA(i,"updateDoc",e._key,t,n,o):sA(i,"updateDoc",e._key,t)).toMutation(e._key,sx.exists(!0))])}function ZA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=vo(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||RN(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(RN(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof nN)l=$C(e.firestore,LN),f=Aw(e._key.path),c={next:function(t){n[s]&&n[s](nD(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=$C(e,rN);l=$C(p.firestore,LN),f=p._query;var v=new QA(l);c={next:function(e){n[s]&&n[s](new HA(l,v,p,e))},error:n[s+1],complete:n[s+2]},_A(e._query)}return function(e,t,n,r){var i=new lN(r),a=new PT(t,i,n);return e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function t(){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=TT,t.next=3,CN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function t(){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=NT,t.next=3,CN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(MN(l),f,d,c)}function eD(e,t){return function(e,t){var n=new lN(t);return e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function t(){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){mb(e).bu.add(t),t.next()},t.next=3,CN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function t(){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){mb(e).bu.delete(t)},t.next=3,CN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(MN(e=$C(e,LN)),RN(t)?t:{next:t})}function tD(e,t){return function(e,t){var n=new kb;return e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function r(){return Ft().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=XT,r.next=3,EN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(MN(e),t)}function nD(e,t,n){var r=n.docs.get(t._key),i=new QA(e);return new qA(e,i,t._key,r,new zA(n.hasPendingWrites,n.fromCache),t.converter)}var rD={maxAttempts:5},iD=function(){function e(t,n){c(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=eA(t)}return f(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=aD(e,this._firestore),i=VA(r.converter,t,n),a=tA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,sx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=aD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=vo(t))||t instanceof HN?cA(this._dataReader,"WriteBatch.update",i._key,t,n,o):sA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,sx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=aD(e,this._firestore);return this._mutations=this._mutations.concat(new _x(t._key,sx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new bb(yb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function aD(e,t){if((e=vo(e)).firestore!==t)throw new bb(yb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var oD=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r))._firestore=e,i}return f(n,[{key:"get",value:function(e){var t=this,r=aD(e,this._firestore),i=new QA(this._firestore);return zu(p(n.prototype),"get",this).call(this,e).then((function(e){return new qA(t._firestore,i,r._key,e._document,new zA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){c(this,e),this._firestore=t,this._transaction=n,this._dataReader=eA(t)}return f(e,[{key:"get",value:function(e){var t=this,n=aD(e,this._firestore),r=new BA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return vb();var i=e[0];if(i.isFoundDocument())return new kA(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new kA(t._firestore,r,n._key,null,n.converter);throw vb()}))}},{key:"set",value:function(e,t,n){var r=aD(e,this._firestore),i=VA(r.converter,t,n),a=tA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=aD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=vo(t))||t instanceof HN?cA(this._dataReader,"Transaction.update",i._key,t,n,o):sA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=aD(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function uD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aA("arrayUnion",t)}function sD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sb=e}(lu),ru(new go("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new LN(new Ib(e.getProvider("auth-internal")),new Cb(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new bb(yb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ok(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),gu(ob,"3.7.1",e),gu(ob,"3.7.1","esm2017")}();function cD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new bb("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function lD(){if("undefined"===typeof Uint8Array)throw new bb("unimplemented","Uint8Arrays are not available in this environment.")}function fD(){if("undefined"==typeof atob)throw new bb("unimplemented","Blobs are unavailable in Firestore in this environment.")}var dD=function(){function e(t){c(this,e),this._delegate=t}return f(e,[{key:"toBase64",value:function(){return fD(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return lD(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return fD(),new e(KN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return lD(),new e(KN.fromUint8Array(t))}}]),e}();function hD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Fa(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var pD=function(){function e(){c(this,e)}return f(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){qN(e=$C(e,LN));var n=MN(e),r=e._freezeSettings(),i=new KC;return FN(n,i,new zC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){qN(e=$C(e,LN));var t=MN(e),n=e._freezeSettings(),r=new KC;return FN(t,r,new qC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new bb(yb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new kb;return e._queue.enqueueAndForgetEvenWhileRestricted(Vt(Ft().mark((function n(){return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Vt(Ft().mark((function e(t){var n;return Ft().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nk.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,nk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(US(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),vD=function(){function e(t,n,r){var i=this;c(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ok||(this._appCompat=t)}return f(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||hb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return UN(this._delegate)}},{key:"disableNetwork",value:function(){return VN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&GC("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new kb;return e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function n(){return Ft().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=sC,n.next=3,EN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(MN(e=$C(e,LN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return eD(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new bb("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ND(this,aN(this._delegate,e))}catch(Ht){throw wD(Ht,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new kD(this,oN(this._delegate,e))}catch(Ht){throw wD(Ht,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new ED(this,function(e,t){if(e=$C(e,eN),HC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new bb(yb.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new rN(e,null,function(e){return new Cw(jb.emptyPath(),e)}(t))}(this._delegate,e))}catch(Ht){throw wD(Ht,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=$C(e,LN);var r=Object.assign(Object.assign({},rD),n);return function(e){if(e.maxAttempts<1)throw new bb(yb.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new kb;return e.asyncQueue.enqueueAndForget(Vt(Ft().mark((function i(){var a;return Ft().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,TN(e);case 2:a=i.sent,new hN(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(MN(e),(function(n){return t(new oD(e,n))}),r)}(this._delegate,(function(n){return e(new mD(t,n))}))}},{key:"batch",value:function(){var e=this;return MN(this._delegate),new yD(new iD(this._delegate,(function(t){return tD(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return BN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return zN(this._delegate,e).then((function(e){return e?new ED(t,e):null}))}}]),e}(),gD=function(e){h(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new dD(new KN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return kD.forKey(t,this.firestore,null)}}]),n}(UA);var mD=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new gD(t)}return f(e,[{key:"get",value:function(e){var t=this,n=AD(e);return this._delegate.get(n).then((function(e){return new ID(t._firestore,new qA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=AD(e);return n?(cD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=AD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=AD(e);return this._delegate.delete(t),this}}]),e}(),yD=function(){function e(t){c(this,e),this._delegate=t}return f(e,[{key:"set",value:function(e,t,n){var r=AD(e);return n?(cD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=AD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=AD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),bD=function(){function e(t,n,r){c(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return f(e,[{key:"fromFirestore",value:function(e,t){var n=new KA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new SD(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new gD(t),n),i.set(n,a)),a}}]),e}();bD.INSTANCES=new WeakMap;var kD=function(){function e(t,n){c(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new gD(t)}return f(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ND(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ND(this.firestore,aN(this._delegate,e))}catch(Ht){throw wD(Ht,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=vo(e))instanceof nN&&uN(this._delegate,e)}},{key:"set",value:function(e,t){t=cD("DocumentReference.set",t);try{return t?XA(this._delegate,e,t):XA(this._delegate,e)}catch(Ht){throw wD(Ht,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?JA(this._delegate,e):JA.apply(void 0,[this._delegate,e,t].concat(r))}catch(Ht){throw wD(Ht,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return tD($C(e.firestore,LN),[new _x(e._key,sx.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xD(n),a=_D(n,(function(t){return new ID(e.firestore,new qA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ZA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?YA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$C(e,nN);var t=$C(e.firestore,LN);return AN(MN(t),e._key,{source:"server"}).then((function(n){return nD(t,e,n)}))}(this._delegate):function(e){e=$C(e,nN);var t=$C(e.firestore,LN);return AN(MN(t),e._key).then((function(n){return nD(t,e,n)}))}(this._delegate),t.then((function(e){return new ID(n.firestore,new qA(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(bD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new bb("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new nN(n._delegate,r,new Vb(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new nN(n._delegate,r,t))}}]),e}();function wD(e,t,n){return e.message=e.message.replace(t,n),e}function xD(e){var t,n=Fa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!hD(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function _D(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=hD(e[0])?e[0]:hD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ID=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"ref",get:function(){return new kD(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return WA(this._delegate,e._delegate)}}]),e}(),SD=function(e){h(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||vb()}(void 0!==t),t}}]),n}(ID),ED=function(){function e(t,n){c(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new gD(t)}return f(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,SA(this._delegate,function(e,t,n){var r=t,i=xA("where",e);return new EA(i,r,n)}(t,n,r)))}catch(Ht){throw wD(Ht,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,SA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=xA("orderBy",e);return new TA(n,t)}(t,n)))}catch(Ht){throw wD(Ht,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,SA(this._delegate,function(e){return XC("limit",e),new CA("limit",e,"F")}(t)))}catch(Ht){throw wD(Ht,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,SA(this._delegate,function(e){return XC("limitToLast",e),new CA("limitToLast",e,"L")}(t)))}catch(Ht){throw wD(Ht,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,SA(this._delegate,AA.apply(void 0,arguments)))}catch(Ht){throw wD(Ht,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,SA(this._delegate,DA.apply(void 0,arguments)))}catch(Ht){throw wD(Ht,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,SA(this._delegate,RA.apply(void 0,arguments)))}catch(Ht){throw wD(Ht,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,SA(this._delegate,PA.apply(void 0,arguments)))}catch(Ht){throw wD(Ht,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return sN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?$A(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$C(e,rN);var t=$C(e.firestore,LN),n=MN(t),r=new QA(t);return DN(n,e._query,{source:"server"}).then((function(n){return new HA(t,r,e,n)}))}(this._delegate):function(e){e=$C(e,rN);var t=$C(e.firestore,LN),n=MN(t),r=new QA(t);return _A(e._query),DN(n,e._query).then((function(n){return new HA(t,r,e,n)}))}(this._delegate),t.then((function(e){return new CD(n.firestore,new HA(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xD(n),a=_D(n,(function(t){return new CD(e.firestore,new HA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ZA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(bD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),TD=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new SD(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),CD=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return f(e,[{key:"query",get:function(){return new ED(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new SD(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new TD(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new SD(n._firestore,r))}))}},{key:"isEqual",value:function(e){return WA(this._delegate,e._delegate)}}]),e}(),ND=function(e){h(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return f(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new kD(this.firestore,e):null}},{key:"doc",value:function(e){try{return new kD(this.firestore,void 0===e?oN(this._delegate):oN(this._delegate,e))}catch(Ht){throw wD(Ht,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=$C(e.firestore,LN),r=oN(e),i=VA(e.converter,t);return tD(n,[tA(eA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new kD(t.firestore,e)}))}},{key:"isEqual",value:function(e){return uN(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(bD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(ED);function AD(e){return $C(e,nN)}var DD=function(){function e(){c(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=_(HN,n)}return f(e,[{key:"isEqual",value:function(e){return(e=vo(e))instanceof HN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ub.keyField().canonicalString())}}]),e}(),OD=function(){function e(t){c(this,e),this._delegate=t}return f(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new iA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new nA("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=uD.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=sD.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new uA("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),RD={Firestore:vD,GeoPoint:WN,Timestamp:Pb,Blob:dD,Transaction:mD,WriteBatch:yD,DocumentReference:kD,DocumentSnapshot:ID,Query:ED,QueryDocumentSnapshot:SD,QuerySnapshot:CD,CollectionReference:ND,FieldPath:DD,FieldValue:OD,setLogLevel:function(e){!function(e){cb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new go("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},RD)))}(e,(function(e,t){return new vD(e,t,new pD)})),e.registerVersion("@firebase/firestore-compat","0.2.1")}(Vu);Vu.initializeApp({apiKey:"AIzaSyAXp88U3xxBl22pBP3V56fVLTa_WGtdM08",authDomain:"t4sg-search-evaluator.firebaseapp.com",projectId:"t4sg-search-evaluator",storageBucket:"t4sg-search-evaluator.appspot.com",messagingSenderId:"793557890114",appId:"1:507266397052:web:8b3eefbbf5c6af78bceaf9",measurementId:"G-L6H014ZLGT"});var PD=Vu.firestore(),LD=__webpack_require__(929),MD="1044211576984-ieq8c2m6h75hqb24dvgrtol8krfdvci4.apps.googleusercontent.com",jD=function(e){var t=x((0,n.useState)([[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1]]),2),r=t[0],i=t[1],a=ge(),o=pe().state;if(!o)return(0,Le.jsx)(Se,{to:"/"});var u=o.uid,s=o.queries,c=function(e,t,n){var a=r;a[e][t]=n,i(a)},l=function(){for(var e=0;e<r.length;e++){for(var t=0;t<r[e].length;t++)if(-1===r[e][t])return void alert("Please rate all results for all queries");var n=r[e],i=s[e];PD.collection("new_responses").add({user_id:u,query_id:i.id,rankings:n})}a("/thankyou")};return(0,Le.jsxs)("div",{children:[(0,Le.jsxs)("div",{className:"mx-10 mx-auto p-8",children:[(0,Le.jsx)("h1",{className:"text-4xl my-5 font-bold",children:" Instructions: "}),(0,Le.jsx)("p",{className:"text-lg",children:" We are testing the efficacy of the search bar on the City of Cambridge Search Bar. Below, we have five queries which a user might type into the search bar, and the top results the search bar returns. For each query, please rank how useful you would think each result would be if you had typed in the given query. Once you're done, hit submit all for a chance to win a 50 dollar gift card."})]}),(0,Le.jsxs)("div",{className:"container mx-auto bg-gray-200 rounded-xl shadow border p-8 m-10",children:[(0,Le.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:(0,Le.jsx)(LD.GoogleLogout,{clientId:MD,buttonText:"Logout",onLogoutSuccess:function(){a("/*"),window.location.reload()},redirectUri:"/"})}),s.map((function(e,t){return(0,Le.jsx)(ja,{query:"query: "+e.query_text,query_id:e.id,results:e.returns,email:u,setRel:c,index:t},e.id)})),(0,Le.jsx)(LD.GoogleLogout,{className:"my-5",clientId:MD,render:function(e){return(0,Le.jsx)(Dt,{className:"my-5",size:"xl",onClick:l,disabled:e.disabled,children:"Submit All"})},buttonText:"Submit All",onLogoutSuccess:function(){0!=u.length&&a("/thankyou")},redirectUri:"/thankyou"})]})]})},FD=__webpack_require__(647),UD="1044211576984-ieq8c2m6h75hqb24dvgrtol8krfdvci4.apps.googleusercontent.com";var VD=function(){var e=x((0,n.useState)([]),2),t=e[0],r=e[1],i=x((0,n.useState)([]),2),a=i[0],o=i[1],u=x((0,n.useState)([]),2),s=(u[0],u[1]),c=x((0,n.useState)([]),2),l=(c[0],c[1]),f=x((0,n.useState)([]),2),d=f[0],h=f[1],p=x((0,n.useState)([]),2),v=p[0],g=p[1],m=x((0,n.useState)([]),2),y=m[0],b=m[1];(0,n.useEffect)((function(){FD.M.load("client:auth2",(function(){FD.M.client.init({clientId:UD,scope:""})}))})),(0,n.useEffect)((function(){return ZA(aN(PD,"new_queries"),(function(e){return g(e.docs.sort((function(){return.5-Math.random()})).slice(0,5).map((function(e){return Re(Re({},e.data()),{},{id:e.id})})))}))}),[]),(0,n.useEffect)((function(){return ZA(aN(PD,"new_user_info"),(function(e){return b(e.docs.map((function(e){return Re({},e.data())})))}))}),[]);var k=ge();return(0,Le.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1.5rem",height:"30vh",flexDirection:"column"},className:"container mx-auto bg-gray-200 rounded-xl shadow border p-8 m-10",children:[(0,Le.jsxs)("h2",{className:"text-3xl text-gray-700 font-bold mb-5 mu-3 text-center",children:["City of Cambridge Search Evaluator ",a," "]}),(0,Le.jsxs)("div",{children:[0===t.length?(0,Le.jsx)("h3",{className:"text-medium text-center mb-3",children:"Please Log In"}):(0,Le.jsx)(Dt,{onClick:function(){k("/queries",{state:{uid:d,queries:v}})},children:"Open survey"}),0===t.length?(0,Le.jsx)(LD.GoogleLogin,{clientId:UD,buttonText:"Sign in with Google",onSuccess:function(e){r(e.profileObj.name),h(e.profileObj.googleId),l(e.profileObj.email),o(e.profileObj.givenName),s(e.profileObj.familyName);for(var t=!1,n=0;n<y.length;n++)e.profileObj.googleId===y[n].id&&(t=!0);!t&&y.length>0&&PD.collection("new_user_info").add({email:e.profileObj.email,first_name:e.profileObj.givenName,id:e.profileObj.googleId,last_name:e.profileObj.familyName})},redirectUri:"/",onFailure:function(e){},cookiePolicy:"single_host_origin",isSignedIn:!0}):(0,Le.jsx)(LD.GoogleLogout,{clientId:UD,buttonText:"Log Out",onLogoutSuccess:function(){o(""),s(""),l(""),h(""),r([]),window.location.reload()},redirectUri:"/"})]})]})};var BD=function(){return(0,Le.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1.5rem",height:"20vh",flexDirection:"column"},className:"container mx-auto bg-gray-200 rounded-xl shadow border p-8 m-10",children:[(0,Le.jsx)("p",{className:"text-3xl text-gray-700 font-bold mb-5",children:"Thank you!"}),"Your responses have been submitted."]})},zD=function(){return(0,Le.jsxs)(Ce,{children:[(0,Le.jsx)(Ee,{path:"/queries",element:(0,Le.jsx)(jD,{})}),(0,Le.jsx)(Ee,{path:"/thankyou",element:(0,Le.jsx)(BD,{})}),(0,Le.jsx)(Ee,{path:"/f22-t4sg-search-evaluator",element:(0,Le.jsx)(VD,{})}),(0,Le.jsx)(Ee,{path:"/*",element:(0,Le.jsx)(VD,{})})]})},qD=function(e){e&&e instanceof Function&&__webpack_require__.e(787).then(__webpack_require__.bind(__webpack_require__,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};function KD(e){var t,r=e.basename,i=e.children,a=e.window,o=n.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),O((function(e,t){var n=e.location;return N("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:A(t)}),null,t)));var u=o.current,s=x(n.useState({action:u.action,location:u.location}),2),c=s[0],l=s[1];return n.useLayoutEffect((function(){return u.listen(l)}),[u]),n.createElement(Te,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:u})}var HD,GD;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(HD||(HD={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(GD||(GD={}));i.createRoot(document.getElementById("root")).render((0,Le.jsx)(n.StrictMode,{children:(0,Le.jsx)(KD,{basename:"f22-t4sg-search-evaluator",children:(0,Le.jsx)(Ce,{children:(0,Le.jsxs)(Ee,{path:"/*",element:(0,Le.jsx)(zD,{}),children:[(0,Le.jsx)(Ee,{path:"Queries",element:(0,Le.jsx)(jD,{})}),(0,Le.jsx)(Ee,{path:"ThankYou",element:(0,Le.jsx)(jD,{})})]})})})})),qD()}()})();
//# sourceMappingURL=main.4acc6055.js.map